(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function h1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function M2(){if(T_)return Ol;T_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=i,Ol.jsxs=i,Ol}var E_;function I2(){return E_||(E_=1,cm.exports=M2()),cm.exports}var E=I2(),hm={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function O2(){if(x_)return St;x_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function G(P,tt,ut){this.props=P,this.context=tt,this.refs=B,this.updater=ut||L}G.prototype.isReactComponent={},G.prototype.setState=function(P,tt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,tt,"setState")},G.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=G.prototype;function F(P,tt,ut){this.props=P,this.context=tt,this.refs=B,this.updater=ut||L}var rt=F.prototype=new J;rt.constructor=F,U(rt,G.prototype),rt.isPureReactComponent=!0;var at=Array.isArray;function it(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(P,tt,ut){var dt=ut.ref;return{$$typeof:n,type:P,key:tt,ref:dt!==void 0?dt:null,props:ut}}function I(P,tt){return N(P.type,tt,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var tt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return tt[ut]})}var D=/\/+/g;function xt(P,tt){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):tt.toString(36)}function Yt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(it,it):(P.status="pending",P.then(function(tt){P.status==="pending"&&(P.status="fulfilled",P.value=tt)},function(tt){P.status==="pending"&&(P.status="rejected",P.reason=tt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,tt,ut,dt,Et){var Nt=typeof P;(Nt==="undefined"||Nt==="boolean")&&(P=null);var Ut=!1;if(P===null)Ut=!0;else switch(Nt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(P.$$typeof){case n:case t:Ut=!0;break;case v:return Ut=P._init,X(Ut(P._payload),tt,ut,dt,Et)}}if(Ut)return Et=Et(P),Ut=dt===""?"."+xt(P,0):dt,at(Et)?(ut="",Ut!=null&&(ut=Ut.replace(D,"$&/")+"/"),X(Et,tt,ut,"",function(gr){return gr})):Et!=null&&(O(Et)&&(Et=I(Et,ut+(Et.key==null||P&&P.key===Et.key?"":(""+Et.key).replace(D,"$&/")+"/")+Ut)),tt.push(Et)),1;Ut=0;var Oe=dt===""?".":dt+":";if(at(P))for(var oe=0;oe<P.length;oe++)dt=P[oe],Nt=Oe+xt(dt,oe),Ut+=X(dt,tt,ut,Nt,Et);else if(oe=C(P),typeof oe=="function")for(P=oe.call(P),oe=0;!(dt=P.next()).done;)dt=dt.value,Nt=Oe+xt(dt,oe++),Ut+=X(dt,tt,ut,Nt,Et);else if(Nt==="object"){if(typeof P.then=="function")return X(Yt(P),tt,ut,dt,Et);throw tt=String(P),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function st(P,tt,ut){if(P==null)return P;var dt=[],Et=0;return X(P,dt,"","",function(Nt){return tt.call(ut,Nt,Et++)}),dt}function ct(P){if(P._status===-1){var tt=P._result;tt=tt(),tt.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=tt)}if(P._status===1)return P._result.default;throw P._result}var Tt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},It={map:st,forEach:function(P,tt,ut){st(P,function(){tt.apply(this,arguments)},ut)},count:function(P){var tt=0;return st(P,function(){tt++}),tt},toArray:function(P){return st(P,function(tt){return tt})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return St.Activity=b,St.Children=It,St.Component=G,St.Fragment=i,St.Profiler=o,St.PureComponent=F,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},St.cache=function(P){return function(){return P.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(P,tt,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var dt=U({},P.props),Et=P.key;if(tt!=null)for(Nt in tt.key!==void 0&&(Et=""+tt.key),tt)!S.call(tt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&tt.ref===void 0||(dt[Nt]=tt[Nt]);var Nt=arguments.length-2;if(Nt===1)dt.children=ut;else if(1<Nt){for(var Ut=Array(Nt),Oe=0;Oe<Nt;Oe++)Ut[Oe]=arguments[Oe+2];dt.children=Ut}return N(P.type,Et,dt)},St.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},St.createElement=function(P,tt,ut){var dt,Et={},Nt=null;if(tt!=null)for(dt in tt.key!==void 0&&(Nt=""+tt.key),tt)S.call(tt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(Et[dt]=tt[dt]);var Ut=arguments.length-2;if(Ut===1)Et.children=ut;else if(1<Ut){for(var Oe=Array(Ut),oe=0;oe<Ut;oe++)Oe[oe]=arguments[oe+2];Et.children=Oe}if(P&&P.defaultProps)for(dt in Ut=P.defaultProps,Ut)Et[dt]===void 0&&(Et[dt]=Ut[dt]);return N(P,Nt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(P){return{$$typeof:m,render:P}},St.isValidElement=O,St.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ct}},St.memo=function(P,tt){return{$$typeof:g,type:P,compare:tt===void 0?null:tt}},St.startTransition=function(P){var tt=R.T,ut={};R.T=ut;try{var dt=P(),Et=R.S;Et!==null&&Et(ut,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(it,Tt)}catch(Nt){Tt(Nt)}finally{tt!==null&&ut.types!==null&&(tt.types=ut.types),R.T=tt}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(P){return R.H.use(P)},St.useActionState=function(P,tt,ut){return R.H.useActionState(P,tt,ut)},St.useCallback=function(P,tt){return R.H.useCallback(P,tt)},St.useContext=function(P){return R.H.useContext(P)},St.useDebugValue=function(){},St.useDeferredValue=function(P,tt){return R.H.useDeferredValue(P,tt)},St.useEffect=function(P,tt){return R.H.useEffect(P,tt)},St.useEffectEvent=function(P){return R.H.useEffectEvent(P)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(P,tt,ut){return R.H.useImperativeHandle(P,tt,ut)},St.useInsertionEffect=function(P,tt){return R.H.useInsertionEffect(P,tt)},St.useLayoutEffect=function(P,tt){return R.H.useLayoutEffect(P,tt)},St.useMemo=function(P,tt){return R.H.useMemo(P,tt)},St.useOptimistic=function(P,tt){return R.H.useOptimistic(P,tt)},St.useReducer=function(P,tt,ut){return R.H.useReducer(P,tt,ut)},St.useRef=function(P){return R.H.useRef(P)},St.useState=function(P){return R.H.useState(P)},St.useSyncExternalStore=function(P,tt,ut){return R.H.useSyncExternalStore(P,tt,ut)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.3",St}var A_;function jp(){return A_||(A_=1,hm.exports=O2()),hm.exports}var ot=jp();const j2=h1(ot);var fm={exports:{}},jl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function P2(){return S_||(S_=1,(function(n){function t(X,st){var ct=X.length;X.push(st);t:for(;0<ct;){var Tt=ct-1>>>1,It=X[Tt];if(0<o(It,st))X[Tt]=st,X[ct]=It,ct=Tt;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var st=X[0],ct=X.pop();if(ct!==st){X[0]=ct;t:for(var Tt=0,It=X.length,P=It>>>1;Tt<P;){var tt=2*(Tt+1)-1,ut=X[tt],dt=tt+1,Et=X[dt];if(0>o(ut,ct))dt<It&&0>o(Et,ut)?(X[Tt]=Et,X[dt]=ct,Tt=dt):(X[Tt]=ut,X[tt]=ct,Tt=tt);else if(dt<It&&0>o(Et,ct))X[Tt]=Et,X[dt]=ct,Tt=dt;else break t}}return st}function o(X,st){var ct=X.sortIndex-st.sortIndex;return ct!==0?ct:X.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,x=3,C=!1,L=!1,U=!1,B=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var st=i(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=X)r(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=i(g)}}function at(X){if(U=!1,rt(X),!L)if(i(p)!==null)L=!0,it||(it=!0,V());else{var st=i(g);st!==null&&Yt(at,st.startTime-X)}}var it=!1,R=-1,S=5,N=-1;function I(){return B?!0:!(n.unstable_now()-N<S)}function O(){if(B=!1,it){var X=n.unstable_now();N=X;var st=!0;try{t:{L=!1,U&&(U=!1,J(R),R=-1),C=!0;var ct=x;try{e:{for(rt(X),b=i(p);b!==null&&!(b.expirationTime>X&&I());){var Tt=b.callback;if(typeof Tt=="function"){b.callback=null,x=b.priorityLevel;var It=Tt(b.expirationTime<=X);if(X=n.unstable_now(),typeof It=="function"){b.callback=It,rt(X),st=!0;break e}b===i(p)&&r(p),rt(X)}else r(p);b=i(p)}if(b!==null)st=!0;else{var P=i(g);P!==null&&Yt(at,P.startTime-X),st=!1}}break t}finally{b=null,x=ct,C=!1}st=void 0}}finally{st?V():it=!1}}}var V;if(typeof F=="function")V=function(){F(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,xt=D.port2;D.port1.onmessage=O,V=function(){xt.postMessage(null)}}else V=function(){G(O,0)};function Yt(X,st){R=G(function(){X(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var st=3;break;default:st=x}var ct=x;x=st;try{return X()}finally{x=ct}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=x;x=X;try{return st()}finally{x=ct}},n.unstable_scheduleCallback=function(X,st,ct){var Tt=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Tt+ct:Tt):ct=Tt,X){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ct+It,X={id:v++,callback:st,priorityLevel:X,startTime:ct,expirationTime:It,sortIndex:-1},ct>Tt?(X.sortIndex=ct,t(g,X),i(p)===null&&X===i(g)&&(U?(J(R),R=-1):U=!0,Yt(at,ct-Tt))):(X.sortIndex=It,t(p,X),L||C||(L=!0,it||(it=!0,V()))),X},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(X){var st=x;return function(){var ct=x;x=st;try{return X.apply(this,arguments)}finally{x=ct}}}})(mm)),mm}var w_;function L2(){return w_||(w_=1,dm.exports=P2()),dm.exports}var pm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function k2(){if(R_)return Je;R_=1;var n=jp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Je.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:C}):v==="script"&&r.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Je.requestFormReset=function(p){r.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var C_;function U2(){if(C_)return pm.exports;C_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pm.exports=k2(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function B2(){if(N_)return jl;N_=1;var n=L2(),t=jp(),i=U2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),F=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case G:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case it:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case F:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case rt:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return s=e.displayName||null,s!==null?s:xt(e.type)||"Memo";case S:s=e._payload,e=e._init;try{return xt(e(s))}catch{}}return null}var Yt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Tt=[],It=-1;function P(e){return{current:e}}function tt(e){0>It||(e.current=Tt[It],Tt[It]=null,It--)}function ut(e,s){It++,Tt[It]=e.current,e.current=s}var dt=P(null),Et=P(null),Nt=P(null),Ut=P(null);function Oe(e,s){switch(ut(Nt,s),ut(Et,e),ut(dt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Hv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Hv(s),e=Gv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(dt),ut(dt,e)}function oe(){tt(dt),tt(Et),tt(Nt)}function gr(e){e.memoizedState!==null&&ut(Ut,e);var s=dt.current,a=Gv(s,e.type);s!==a&&(ut(Et,e),ut(dt,a))}function ca(e){Et.current===e&&(tt(dt),tt(Et)),Ut.current===e&&(tt(Ut),Dl._currentValue=ct)}var ha,fa;function hi(e){if(ha===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ha=s&&s[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+fa}var Do=!1;function yr(e,s){if(!e||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var Y=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){Y=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var M=_.split(`
`),H=A.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===H.length)for(l=M.length-1,f=H.length-1;1<=l&&0<=f&&M[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==H[f]){var $=`
`+M[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hi(a):""}function Vo(e,s){switch(e.tag){case 26:case 27:case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return e.child!==s&&s!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return yr(e.type,!1);case 11:return yr(e.type.render,!1);case 1:return yr(e.type,!0);case 31:return hi("Activity");default:return""}}function Mo(e){try{var s="",a=null;do s+=Vo(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,ys=n.unstable_cancelCallback,ff=n.unstable_shouldYield,xu=n.unstable_requestPaint,rn=n.unstable_now,vr=n.unstable_getCurrentPriorityLevel,Io=n.unstable_ImmediatePriority,Oo=n.unstable_UserBlockingPriority,vs=n.unstable_NormalPriority,df=n.unstable_LowPriority,Au=n.unstable_IdlePriority,Su=n.log,wu=n.unstable_setDisableYieldValue,Yn=null,He=null;function Dn(e){if(typeof Su=="function"&&wu(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Yn,e)}catch{}}var pe=Math.clz32?Math.clz32:Cu,Ru=Math.log,da=Math.LN2;function Cu(e){return e>>>=0,e===0?32:31-(Ru(e)/da|0)|0}var fi=256,_r=262144,Te=4194304;function di(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=di(l):(_&=A,_!==0?f=di(_):a||(a=A&~e,a!==0&&(f=di(a))))):(A=l&~d,A!==0?f=di(A):_!==0?f=di(_):a||(a=l&~e,a!==0&&(f=di(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Kn(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function mf(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function pi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function br(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pf(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,M=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pe(a),W=1<<$;A[$]=0,M[$]=-1;var Y=H[$];if(Y!==null)for(H[$]=null,$=0;$<Y.length;$++){var Q=Y[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&Tr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function Tr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-pe(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function jo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Po(e,s){var a=s&-s;return a=(a&42)!==0?1:Er(a),(a&(e.suspendedLanes|s))!==0?0:a}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Du(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function Qn(e,s){var a=st.p;try{return st.p=e,s()}finally{st.p=a}}var Xn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Xn,Ue="__reactProps$"+Xn,gi="__reactContainer$"+Xn,ma="__reactEvents$"+Xn,gf="__reactListeners$"+Xn,Vu="__reactHandles$"+Xn,Mu="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function pa(e){delete e[Ee],delete e[Ue],delete e[ma],delete e[gf],delete e[Vu]}function vi(e){var s=e[Ee];if(s)return s;for(var a=e.parentNode;a;){if(s=a[gi]||a[Ee]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Wv(e);e!==null;){if(a=e[Ee])return a;e=Wv(e)}return s}e=a,a=e.parentNode}return null}function Vn(e){if(e=e[Ee]||e[gi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function bn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function _i(e){var s=e[Mu];return s||(s=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xe(e){e[yi]=!0}var Lo=new Set,ko={};function bi(e,s){Ti(e,s),Ti(e+"Capture",s)}function Ti(e,s){for(ko[e]=s,e=0;e<s.length;e++)Lo.add(s[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},zo={};function Iu(e){return be.call(zo,e)?!0:be.call(Bo,e)?!1:Uo.test(e)?zo[e]=!0:(Bo[e]=!0,!1)}function ga(e,s,a){if(Iu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Tn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ae(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fo(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Qt(e){if(!e._valueTracker){var s=_s(e)?"checked":"value";e._valueTracker=Fo(e,s,""+e[s])}}function xr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=_s(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function un(e){return e.replace(Ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ya(e,s,a,l,f,d,_,A){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Be(s)):e.value!==""+Be(s)&&(e.value=""+Be(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?qo(e,_,Be(s)):a!=null?qo(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Be(A):e.removeAttribute("name")}function Ou(e,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qt(e);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function qo(e,s,a){s==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bs(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function ju(e,s,a){if(s!=null&&(s=""+Be(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Be(a):""}function Ts(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Yt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function cn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Pu.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Go(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Ho(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Ho(e,d,s[d])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Yo=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,xi=null;function Sr(e){var s=Vn(e);if(s&&(e=s.stateNode)){var a=e[Ue]||null;t:switch(e=s.stateNode,s.type){case"input":if(ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[Ue]||null;if(!f)throw Error(r(90));ya(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&xr(l)}break t;case"textarea":ju(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&bs(e,!!a.multiple,s,!1)}}}var ba=!1;function As(e,s,a){if(ba)return e(s,a);ba=!0;try{var l=e(s);return l}finally{if(ba=!1,(xs!==null||xi!==null)&&(Dc(),xs&&(s=xs,e=xi,xi=xs=null,Sr(s),e)))for(s=0;s<e.length;s++)Sr(e[s])}}function Zn(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(In)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{wr=!1}var Ai=null,Ko=null,Rr=null;function Qo(){if(Rr)return Rr;var e,s=Ko,a=s.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Rr=f.slice(e,1<l?1-l:void 0)}function Cr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function Wn(){return!1}function Ge(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:Wn,this.isPropagationStopped=Wn,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ge(Xi),Ss=b({},Xi,{view:0,detail:0}),Xo=Ge(Ss),ws,Ta,wi,Ea=b({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(ws=e.screenX-wi.screenX,Ta=e.screenY-wi.screenY):Ta=ws=0,wi=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),$o=Ge(Ea),Nr=b({},Ea,{dataTransfer:0}),ku=Ge(Nr),Uu=b({},Ss,{relatedTarget:0}),Dr=Ge(Uu),Zo=b({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Ge(Zo),xa=b({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zu=Ge(xa),Fu=b({},Xi,{data:0}),Ri=Ge(Fu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Gu[e])?!!s[e]:!1}function Rs(){return Yu}var an=b({},Ss,{key:function(e){if(e.key){var s=qu[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=Ge(an),Qu=b({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ge(Qu),h=b({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),y=Ge(h),T=b({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ge(T),z=b({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ge(z),lt=b({},Xi,{newState:0,oldState:0}),Rt=Ge(lt),ge=[9,13,27,32],Ht=In&&"CompositionEvent"in window,le=null;In&&"documentMode"in document&&(le=document.documentMode);var On=In&&"TextEvent"in window&&!le,Ci=In&&(!Ht||le&&8<le&&11>=le),Jn=" ",ti=!1;function Vr(e,s){switch(e){case"keyup":return ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function nS(e,s){switch(e){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(ti=!0,Jn);case"textInput":return e=s.data,e===Jn&&ti?null:e;default:return null}}function iS(e,s){if(Sa)return e==="compositionend"||!Ht&&Vr(e,s)?(e=Qo(),Rr=Ko=Ai=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ci&&s.locale!=="ko"?null:s.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!sS[e.type]:s==="textarea"}function ny(e,s,a,l){xs?xi?xi.push(l):xi=[l]:xs=l,s=Lc(s,"onChange"),0<s.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Wo=null,Jo=null;function rS(e){kv(e,0)}function Xu(e){var s=bn(e);if(xr(s))return e}function iy(e,s){if(e==="change")return s}var sy=!1;if(In){var yf;if(In){var vf="oninput"in document;if(!vf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),vf=typeof ry.oninput=="function"}yf=vf}else yf=!1;sy=yf&&(!document.documentMode||9<document.documentMode)}function ay(){Wo&&(Wo.detachEvent("onpropertychange",oy),Jo=Wo=null)}function oy(e){if(e.propertyName==="value"&&Xu(Jo)){var s=[];ny(s,Jo,e,Mn(e)),As(rS,s)}}function aS(e,s,a){e==="focusin"?(ay(),Wo=s,Jo=a,Wo.attachEvent("onpropertychange",oy)):e==="focusout"&&ay()}function oS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Jo)}function lS(e,s){if(e==="click")return Xu(s)}function uS(e,s){if(e==="input"||e==="change")return Xu(s)}function cS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var En=typeof Object.is=="function"?Object.is:cS;function tl(e,s){if(En(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!be.call(s,f)||!En(e[f],s[f]))return!1}return!0}function ly(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uy(e,s){var a=ly(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ly(a)}}function cy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?cy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function hy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Ei(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Ei(e.document)}return s}function _f(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var hS=In&&"documentMode"in document&&11>=document.documentMode,wa=null,bf=null,el=null,Tf=!1;function fy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||wa==null||wa!==Ei(l)||(l=wa,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Lc(bf,"onSelect"),0<l.length&&(s=new Si("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=wa)))}function Mr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Ra={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Ef={},dy={};In&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ir(e){if(Ef[e])return Ef[e];if(!Ra[e])return e;var s=Ra[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in dy)return Ef[e]=s[a];return e}var my=Ir("animationend"),py=Ir("animationiteration"),gy=Ir("animationstart"),fS=Ir("transitionrun"),dS=Ir("transitionstart"),mS=Ir("transitioncancel"),yy=Ir("transitionend"),vy=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ei(e,s){vy.set(e,s),bi(s,[e])}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ca=0,Af=0;function Zu(){for(var e=Ca,s=Af=Ca=0;s<e;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var d=jn[s];if(jn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&_y(a,f,d)}}function Wu(e,s,a,l){jn[Ca++]=e,jn[Ca++]=s,jn[Ca++]=a,jn[Ca++]=l,Af|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sf(e,s,a,l){return Wu(e,s,a,l),Ju(e)}function Or(e,s){return Wu(e,null,null,s),Ju(e)}function _y(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-pe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Ju(e){if(50<xl)throw xl=0,Od=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Na={};function pS(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,s,a,l){return new pS(e,s,a,l)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,s){var a=e.alternate;return a===null?(a=xn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function by(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function tc(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")wf(e)&&(_=1);else if(typeof e=="string")_=b2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=xn(31,a,s,f),e.elementType=N,e.lanes=d,e;case U:return jr(a.children,f,d,s);case B:_=8,f|=24;break;case G:return e=xn(12,a,s,f|2),e.elementType=G,e.lanes=d,e;case at:return e=xn(13,a,s,f),e.elementType=at,e.lanes=d,e;case it:return e=xn(19,a,s,f),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:_=10;break t;case J:_=9;break t;case rt:_=11;break t;case R:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=xn(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function jr(e,s,a,l){return e=xn(7,e,l,s),e.lanes=a,e}function Rf(e,s,a){return e=xn(6,e,null,s),e.lanes=a,e}function Ty(e){var s=xn(18,null,null,0);return s.stateNode=e,s}function Cf(e,s,a){return s=xn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Ey=new WeakMap;function Pn(e,s){if(typeof e=="object"&&e!==null){var a=Ey.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Mo(s)},Ey.set(e,s),s)}return{value:e,source:s,stack:Mo(s)}}var Da=[],Va=0,ec=null,nl=0,Ln=[],kn=0,Cs=null,Ni=1,Di="";function Wi(e,s){Da[Va++]=nl,Da[Va++]=ec,ec=e,nl=s}function xy(e,s,a){Ln[kn++]=Ni,Ln[kn++]=Di,Ln[kn++]=Cs,Cs=e;var l=Ni;e=Di;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-pe(s)+f|a<<f|l,Di=d+e}else Ni=1<<d|a<<f|l,Di=e}function Nf(e){e.return!==null&&(Wi(e,1),xy(e,1,0))}function Df(e){for(;e===ec;)ec=Da[--Va],Da[Va]=null,nl=Da[--Va],Da[Va]=null;for(;e===Cs;)Cs=Ln[--kn],Ln[kn]=null,Di=Ln[--kn],Ln[kn]=null,Ni=Ln[--kn],Ln[kn]=null}function Ay(e,s){Ln[kn++]=Ni,Ln[kn++]=Di,Ln[kn++]=Cs,Ni=s.id,Di=s.overflow,Cs=e}var Ye=null,se=null,kt=!1,Ns=null,Un=!1,Vf=Error(r(519));function Ds(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Pn(s,e)),Vf}function Sy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ee]=e,s[Ue]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Mt(Sl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),Ou(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Ts(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Fv(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||Ds(e,!0)}function wy(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ye=Ye.return}}function Ma(e){if(e!==Ye)return!1;if(!kt)return wy(e),kt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xd(e.type,e.memoizedProps)),a=!a),a&&se&&Ds(e),wy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=Zv(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=Zv(e)}else s===27?(s=se,Hs(e.type)?(e=tm,tm=null,se=e):se=s):se=Ye?zn(e.stateNode.nextSibling):null;return!0}function Pr(){se=Ye=null,kt=!1}function Mf(){var e=Ns;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Ns=null),e}function il(e){Ns===null?Ns=[e]:Ns.push(e)}var If=P(null),Lr=null,Ji=null;function Vs(e,s,a){ut(If,s._currentValue),s._currentValue=a}function ts(e){e._currentValue=If.current,tt(If)}function Of(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function jf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var M=0;M<s.length;M++)if(A.context===s[M]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Of(d.return,a,e),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Of(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ia(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;En(f.pendingProps.value,_.value)||(e!==null?e.push(A):e=[A])}}else if(f===Ut.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}f=f.return}e!==null&&jf(s,e,a,l),s.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Lr=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Ry(Lr,e)}function ic(e,s){return Lr===null&&kr(e),Ry(e,s)}function Ry(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ji===null){if(e===null)throw Error(r(308));Ji=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Ji=Ji.next=s;return a}var gS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},yS=n.unstable_scheduleCallback,vS=n.unstable_NormalPriority,Se={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new gS,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&yS(vS,function(){e.controller.abort()})}var rl=null,Lf=0,Oa=0,ja=null;function _S(e,s){if(rl===null){var a=rl=[];Lf=0,Oa=Bd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,s.then(Cy,Cy),s}function Cy(){if(--Lf===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var e=rl;rl=null,Oa=0,ja=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function bS(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ny=X.S;X.S=function(e,s){fv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&_S(e,s),Ny!==null&&Ny(e,s)};var Ur=P(null);function kf(){var e=Ur.current;return e!==null?e:ne.pooledCache}function sc(e,s){s===null?ut(Ur,Ur.current):ut(Ur,s.pool)}function Dy(){var e=kf();return e===null?null:{parent:Se._currentValue,pool:e}}var Pa=Error(r(460)),Uf=Error(r(474)),rc=Error(r(542)),ac={then:function(){}};function Vy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function My(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then($n,$n),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Oy(e),e;default:if(typeof s.status=="string")s.then($n,$n);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Oy(e),e}throw zr=s,Pa}}function Br(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Pa):a}}var zr=null;function Iy(){if(zr===null)throw Error(r(459));var e=zr;return zr=null,e}function Oy(e){if(e===Pa||e===rc)throw Error(r(483))}var La=null,al=0;function oc(e){var s=al;return al+=1,La===null&&(La=[]),My(La,e,s)}function ol(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function lc(e,s){throw s.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function jy(e){function s(k,j){if(e){var q=k.deletions;q===null?(k.deletions=[j],k.flags|=16):q.push(j)}}function a(k,j){if(!e)return null;for(;j!==null;)s(k,j),j=j.sibling;return null}function l(k){for(var j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function f(k,j){return k=Zi(k,j),k.index=0,k.sibling=null,k}function d(k,j,q){return k.index=q,e?(q=k.alternate,q!==null?(q=q.index,q<j?(k.flags|=67108866,j):q):(k.flags|=67108866,j)):(k.flags|=1048576,j)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function A(k,j,q,Z){return j===null||j.tag!==6?(j=Rf(q,k.mode,Z),j.return=k,j):(j=f(j,q),j.return=k,j)}function M(k,j,q,Z){var yt=q.type;return yt===U?$(k,j,q.props.children,Z,q.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&Br(yt)===j.type)?(j=f(j,q.props),ol(j,q),j.return=k,j):(j=tc(q.type,q.key,q.props,null,k.mode,Z),ol(j,q),j.return=k,j)}function H(k,j,q,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Cf(q,k.mode,Z),j.return=k,j):(j=f(j,q.children||[]),j.return=k,j)}function $(k,j,q,Z,yt){return j===null||j.tag!==7?(j=jr(q,k.mode,Z,yt),j.return=k,j):(j=f(j,q),j.return=k,j)}function W(k,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Rf(""+j,k.mode,q),j.return=k,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return q=tc(j.type,j.key,j.props,null,k.mode,q),ol(q,j),q.return=k,q;case L:return j=Cf(j,k.mode,q),j.return=k,j;case S:return j=Br(j),W(k,j,q)}if(Yt(j)||V(j))return j=jr(j,k.mode,q,null),j.return=k,j;if(typeof j.then=="function")return W(k,oc(j),q);if(j.$$typeof===F)return W(k,ic(k,j),q);lc(k,j)}return null}function Y(k,j,q,Z){var yt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return yt!==null?null:A(k,j,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===yt?M(k,j,q,Z):null;case L:return q.key===yt?H(k,j,q,Z):null;case S:return q=Br(q),Y(k,j,q,Z)}if(Yt(q)||V(q))return yt!==null?null:$(k,j,q,Z,null);if(typeof q.then=="function")return Y(k,j,oc(q),Z);if(q.$$typeof===F)return Y(k,j,ic(k,q),Z);lc(k,q)}return null}function Q(k,j,q,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(q)||null,A(j,k,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return k=k.get(Z.key===null?q:Z.key)||null,M(j,k,Z,yt);case L:return k=k.get(Z.key===null?q:Z.key)||null,H(j,k,Z,yt);case S:return Z=Br(Z),Q(k,j,q,Z,yt)}if(Yt(Z)||V(Z))return k=k.get(q)||null,$(j,k,Z,yt,null);if(typeof Z.then=="function")return Q(k,j,q,oc(Z),yt);if(Z.$$typeof===F)return Q(k,j,q,ic(j,Z),yt);lc(j,Z)}return null}function pt(k,j,q,Z){for(var yt=null,Ft=null,gt=j,Dt=j=0,jt=null;gt!==null&&Dt<q.length;Dt++){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var qt=Y(k,gt,q[Dt],Z);if(qt===null){gt===null&&(gt=jt);break}e&&gt&&qt.alternate===null&&s(k,gt),j=d(qt,j,Dt),Ft===null?yt=qt:Ft.sibling=qt,Ft=qt,gt=jt}if(Dt===q.length)return a(k,gt),kt&&Wi(k,Dt),yt;if(gt===null){for(;Dt<q.length;Dt++)gt=W(k,q[Dt],Z),gt!==null&&(j=d(gt,j,Dt),Ft===null?yt=gt:Ft.sibling=gt,Ft=gt);return kt&&Wi(k,Dt),yt}for(gt=l(gt);Dt<q.length;Dt++)jt=Q(gt,k,Dt,q[Dt],Z),jt!==null&&(e&&jt.alternate!==null&&gt.delete(jt.key===null?Dt:jt.key),j=d(jt,j,Dt),Ft===null?yt=jt:Ft.sibling=jt,Ft=jt);return e&&gt.forEach(function(Xs){return s(k,Xs)}),kt&&Wi(k,Dt),yt}function _t(k,j,q,Z){if(q==null)throw Error(r(151));for(var yt=null,Ft=null,gt=j,Dt=j=0,jt=null,qt=q.next();gt!==null&&!qt.done;Dt++,qt=q.next()){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Xs=Y(k,gt,qt.value,Z);if(Xs===null){gt===null&&(gt=jt);break}e&&gt&&Xs.alternate===null&&s(k,gt),j=d(Xs,j,Dt),Ft===null?yt=Xs:Ft.sibling=Xs,Ft=Xs,gt=jt}if(qt.done)return a(k,gt),kt&&Wi(k,Dt),yt;if(gt===null){for(;!qt.done;Dt++,qt=q.next())qt=W(k,qt.value,Z),qt!==null&&(j=d(qt,j,Dt),Ft===null?yt=qt:Ft.sibling=qt,Ft=qt);return kt&&Wi(k,Dt),yt}for(gt=l(gt);!qt.done;Dt++,qt=q.next())qt=Q(gt,k,Dt,qt.value,Z),qt!==null&&(e&&qt.alternate!==null&&gt.delete(qt.key===null?Dt:qt.key),j=d(qt,j,Dt),Ft===null?yt=qt:Ft.sibling=qt,Ft=qt);return e&&gt.forEach(function(V2){return s(k,V2)}),kt&&Wi(k,Dt),yt}function te(k,j,q,Z){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:t:{for(var yt=q.key;j!==null;){if(j.key===yt){if(yt=q.type,yt===U){if(j.tag===7){a(k,j.sibling),Z=f(j,q.props.children),Z.return=k,k=Z;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&Br(yt)===j.type){a(k,j.sibling),Z=f(j,q.props),ol(Z,q),Z.return=k,k=Z;break t}a(k,j);break}else s(k,j);j=j.sibling}q.type===U?(Z=jr(q.props.children,k.mode,Z,q.key),Z.return=k,k=Z):(Z=tc(q.type,q.key,q.props,null,k.mode,Z),ol(Z,q),Z.return=k,k=Z)}return _(k);case L:t:{for(yt=q.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(k,j.sibling),Z=f(j,q.children||[]),Z.return=k,k=Z;break t}else{a(k,j);break}else s(k,j);j=j.sibling}Z=Cf(q,k.mode,Z),Z.return=k,k=Z}return _(k);case S:return q=Br(q),te(k,j,q,Z)}if(Yt(q))return pt(k,j,q,Z);if(V(q)){if(yt=V(q),typeof yt!="function")throw Error(r(150));return q=yt.call(q),_t(k,j,q,Z)}if(typeof q.then=="function")return te(k,j,oc(q),Z);if(q.$$typeof===F)return te(k,j,ic(k,q),Z);lc(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(k,j.sibling),Z=f(j,q),Z.return=k,k=Z):(a(k,j),Z=Rf(q,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,j)}return function(k,j,q,Z){try{al=0;var yt=te(k,j,q,Z);return La=null,yt}catch(gt){if(gt===Pa||gt===rc)throw gt;var Ft=xn(29,gt,null,k.mode);return Ft.lanes=Z,Ft.return=k,Ft}finally{}}}var Fr=jy(!0),Py=jy(!1),Ms=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ju(e),_y(e,null,a),s}return Wu(e,l,s,a),Ju(e)}function ll(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,jo(e,a)}}function Ff(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var qf=!1;function ul(){if(qf){var e=ja;if(e!==null)throw e}}function cl(e,s,a,l){qf=!1;var f=e.updateQueue;Ms=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,H=M.next;M.next=null,_===null?d=H:_.next=H,_=M;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=M))}if(d!==null){var W=f.baseState;_=0,$=H=M=null,A=d;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(Ot&Y)===Y:(l&Y)===Y){Y!==0&&Y===Oa&&(qf=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=e,_t=A;Y=s;var te=a;switch(_t.tag){case 1:if(pt=_t.payload,typeof pt=="function"){W=pt.call(te,W,Y);break t}W=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=_t.payload,Y=typeof pt=="function"?pt.call(te,W,Y):pt,Y==null)break t;W=b({},W,Y);break t;case 2:Ms=!0}}Y=A.callback,Y!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=Q,M=W):$=$.next=Q,_|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(M=W),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Us|=_,e.lanes=_,e.memoizedState=W}}function Ly(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function ky(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ly(a[e],s)}var ka=P(null),uc=P(0);function Uy(e,s){e=us,ut(uc,e),ut(ka,s),us=e|s.baseLanes}function Hf(){ut(uc,us),ut(ka,ka.current)}function Gf(){us=uc.current,tt(ka),tt(uc)}var An=P(null),Bn=null;function js(e){var s=e.alternate;ut(ye,ye.current&1),ut(An,e),Bn===null&&(s===null||ka.current!==null||s.memoizedState!==null)&&(Bn=e)}function Yf(e){ut(ye,ye.current),ut(An,e),Bn===null&&(Bn=e)}function By(e){e.tag===22?(ut(ye,ye.current),ut(An,e),Bn===null&&(Bn=e)):Ps()}function Ps(){ut(ye,ye.current),ut(An,An.current)}function Sn(e){tt(An),Bn===e&&(Bn=null),tt(ye)}var ye=P(0);function cc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||Jd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var es=0,Ct=null,Wt=null,we=null,hc=!1,Ua=!1,qr=!1,fc=0,hl=0,Ba=null,TS=0;function fe(){throw Error(r(321))}function Kf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!En(e[a],s[a]))return!1;return!0}function Qf(e,s,a,l,f,d){return es=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=e===null||e.memoizedState===null?x0:ud,qr=!1,d=a(l,f),qr=!1,Ua&&(d=Fy(s,a,l,f)),zy(e),d}function zy(e){X.H=ml;var s=Wt!==null&&Wt.next!==null;if(es=0,we=Wt=Ct=null,hc=!1,hl=0,Ba=null,s)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&nc(e)&&(Re=!0))}function Fy(e,s,a,l){Ct=e;var f=0;do{if(Ua&&(Ba=null),hl=0,Ua=!1,25<=f)throw Error(r(301));if(f+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=A0,d=s(a,l)}while(Ua);return d}function ES(){var e=X.H,s=e.useState()[0];return s=typeof s.then=="function"?fl(s):s,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),s}function Xf(){var e=fc!==0;return fc=0,e}function $f(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Zf(e){if(hc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}hc=!1}es=0,we=Wt=Ct=null,Ua=!1,hl=fc=0,Ba=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ct.memoizedState=we=e:we=we.next=e,we}function ve(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var s=we===null?Ct.memoizedState:we.next;if(s!==null)we=s,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?Ct.memoizedState=we=e:we=we.next=e}return we}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var s=hl;return hl+=1,Ba===null&&(Ba=[]),e=My(Ba,e,s),s=Ct,(we===null?s.memoizedState:we.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?x0:ud),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===F)return Ke(e)}throw Error(r(438,String(e)))}function Wf(e){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=dc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=I;return s.index++,a}function ns(e,s){return typeof s=="function"?s(e):s}function pc(e){var s=ve();return Jf(s,Wt,e)}function Jf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var A=_=null,M=null,H=s,$=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Ot&W)===W:(es&W)===W){var Y=H.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===Oa&&($=!0);else if((es&Y)===Y){H=H.next,Y===Oa&&($=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(A=M=W,_=d):M=M.next=W,Ct.lanes|=Y,Us|=Y;W=H.action,qr&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else Y={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(A=M=Y,_=d):M=M.next=Y,Ct.lanes|=W,Us|=W;H=H.next}while(H!==null&&H!==s);if(M===null?_=d:M.next=A,!En(d,e.memoizedState)&&(Re=!0,$&&(a=ja,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function td(e){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);En(d,s.memoizedState)||(Re=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(e,s,a){var l=Ct,f=ve(),d=kt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!En((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,Re=!0),f=f.queue,id(Yy.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},Gy.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(es&127)!==0||Hy(l,s,a)}return a}function Hy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=dc(),Ct.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Gy(e,s,a,l){s.value=a,s.getSnapshot=l,Ky(s)&&Qy(e)}function Yy(e,s,a){return a(function(){Ky(s)&&Qy(e)})}function Ky(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!En(e,a)}catch{return!0}}function Qy(e){var s=Or(e,2);s!==null&&pn(s,e,2)}function ed(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),qr){Dn(!0);try{a()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},s}function Xy(e,s,a,l){return e.baseState=a,Jf(e,Wt,typeof l=="function"?l:ns)}function xS(e,s,a,l,f){if(vc(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,$y(s,d)):(d.next=a.next,s.pending=a.next=d)}}function $y(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=X.T,_={};X.T=_;try{var A=a(f,l),M=X.S;M!==null&&M(_,A),Zy(e,s,A)}catch(H){nd(e,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Zy(e,s,d)}catch(H){nd(e,s,H)}}function Zy(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(e,s,l)},function(l){return nd(e,s,l)}):Wy(e,s,a)}function Wy(e,s,a){s.status="fulfilled",s.value=a,Jy(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,$y(e,a)))}function nd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Jy(s),s=s.next;while(s!==l)}e.action=null}function Jy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function t0(e,s){return s}function e0(e,s){if(kt){var a=ne.formState;if(a!==null){t:{var l=Ct;if(kt){if(se){e:{for(var f=se,d=Un;f.nodeType!==8;){if(!d){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){se=zn(f.nextSibling),l=f.data==="F!";break t}}Ds(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:s},a.queue=l,a=b0.bind(null,Ct,l),l.dispatch=a,l=ed(!1),d=ld.bind(null,Ct,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=xS.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function n0(e){var s=ve();return i0(s,Wt,e)}function i0(e,s,a){if(s=Jf(e,s,t0)[0],e=pc(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=fl(s)}catch(_){throw _===Pa?rc:_}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,za(9,{destroy:void 0},AS.bind(null,f,a),null)),[l,d,e]}function AS(e,s){e.action=s}function s0(e){var s=ve(),a=Wt;if(a!==null)return i0(s,a,e);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function za(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=dc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function r0(){return ve().memoizedState}function gc(e,s,a,l){var f=on();Ct.flags|=e,f.memoizedState=za(1|s,{destroy:void 0},a,l===void 0?null:l)}function yc(e,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Kf(l,Wt.memoizedState.deps)?f.memoizedState=za(s,d,a,l):(Ct.flags|=e,f.memoizedState=za(1|s,d,a,l))}function a0(e,s){gc(8390656,8,e,s)}function id(e,s){yc(2048,8,e,s)}function SS(e){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=dc(),Ct.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function o0(e){var s=ve().memoizedState;return SS({ref:s,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function l0(e,s){return yc(4,2,e,s)}function u0(e,s){return yc(4,4,e,s)}function c0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function h0(e,s,a){a=a!=null?a.concat([e]):null,yc(4,4,c0.bind(null,s,e),a)}function sd(){}function f0(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Kf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function d0(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Kf(s,l[1]))return l[0];if(l=e(),qr){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,s],l}function rd(e,s,a){return a===void 0||(es&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=mv(),Ct.lanes|=e,Us|=e,a)}function m0(e,s,a,l){return En(a,s)?a:ka.current!==null?(e=rd(e,a,l),En(e,s)||(Re=!0),e):(es&42)===0||(es&1073741824)!==0&&(Ot&261930)===0?(Re=!0,e.memoizedState=a):(e=mv(),Ct.lanes|=e,Us|=e,s)}function p0(e,s,a,l,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=X.T,A={};X.T=A,ld(e,!1,s,a);try{var M=f(),H=X.S;if(H!==null&&H(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=bS(M,l);dl(e,s,$,Cn(e))}else dl(e,s,l,Cn(e))}catch(W){dl(e,s,{then:function(){},status:"rejected",reason:W},Cn())}finally{st.p=d,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function wS(){}function ad(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=g0(e).queue;p0(e,f,s,ct,a===null?wS:function(){return y0(e),a(l)})}function g0(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ct},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function y0(e){var s=g0(e);s.next===null&&(s=e.alternate.memoizedState),dl(e,s.next.queue,{},Cn())}function od(){return Ke(Dl)}function v0(){return ve().memoizedState}function _0(){return ve().memoizedState}function RS(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Cn();e=Is(a);var l=Os(s,e,a);l!==null&&(pn(l,s,a),ll(l,s,a)),s={cache:Pf()},e.payload=s;return}s=s.return}}function CS(e,s,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?T0(s,a):(a=Sf(e,s,a,l),a!==null&&(pn(a,e,l),E0(a,s,l)))}function b0(e,s,a){var l=Cn();dl(e,s,a,l)}function dl(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))T0(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,En(A,_))return Wu(e,s,f,0),ne===null&&Zu(),!1}catch{}finally{}if(a=Sf(e,s,f,l),a!==null)return pn(a,e,l),E0(a,s,l),!0}return!1}function ld(e,s,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(s)throw Error(r(479))}else s=Sf(e,a,l,2),s!==null&&pn(s,e,2)}function vc(e){var s=e.alternate;return e===Ct||s!==null&&s===Ct}function T0(e,s){Ua=hc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function E0(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,jo(e,a)}}var ml={readContext:Ke,use:mc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};ml.useEffectEvent=fe;var x0={readContext:Ke,use:mc,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:a0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,gc(4194308,4,c0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return gc(4194308,4,e,s)},useInsertionEffect:function(e,s){gc(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(qr){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(qr){Dn(!0);try{a(s)}finally{Dn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=CS.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=ed(e);var s=e.queue,a=b0.bind(null,Ct,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(e,s){var a=on();return rd(a,e,s)},useTransition:function(){var e=ed(!1);return e=p0.bind(null,Ct,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ct,f=on();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Ot&127)!==0||Hy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,a0(Yy.bind(null,l,d,e),[e]),l.flags|=2048,za(9,{destroy:void 0},Gy.bind(null,l,d,a,s),null),a},useId:function(){var e=on(),s=ne.identifierPrefix;if(kt){var a=Di,l=Ni;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=fc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=TS++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:od,useFormState:e0,useActionState:e0,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ld.bind(null,Ct,!0,a),a.dispatch=s,[e,s]},useMemoCache:Wf,useCacheRefresh:function(){return on().memoizedState=RS.bind(null,Ct)},useEffectEvent:function(e){var s=on(),a={impl:e};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Ke,use:mc,useCallback:f0,useContext:Ke,useEffect:id,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:pc,useRef:r0,useState:function(){return pc(ns)},useDebugValue:sd,useDeferredValue:function(e,s){var a=ve();return m0(a,Wt.memoizedState,e,s)},useTransition:function(){var e=pc(ns)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:fl(e),s]},useSyncExternalStore:qy,useId:v0,useHostTransitionStatus:od,useFormState:n0,useActionState:n0,useOptimistic:function(e,s){var a=ve();return Xy(a,Wt,e,s)},useMemoCache:Wf,useCacheRefresh:_0};ud.useEffectEvent=o0;var A0={readContext:Ke,use:mc,useCallback:f0,useContext:Ke,useEffect:id,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:td,useRef:r0,useState:function(){return td(ns)},useDebugValue:sd,useDeferredValue:function(e,s){var a=ve();return Wt===null?rd(a,e,s):m0(a,Wt.memoizedState,e,s)},useTransition:function(){var e=td(ns)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:fl(e),s]},useSyncExternalStore:qy,useId:v0,useHostTransitionStatus:od,useFormState:s0,useActionState:s0,useOptimistic:function(e,s){var a=ve();return Wt!==null?Xy(a,Wt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:_0};A0.useEffectEvent=o0;function cd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Cn(),f=Is(l);f.payload=s,a!=null&&(f.callback=a),s=Os(e,f,l),s!==null&&(pn(s,e,l),ll(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Cn(),f=Is(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Os(e,f,l),s!==null&&(pn(s,e,l),ll(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Cn(),l=Is(a);l.tag=2,s!=null&&(l.callback=s),s=Os(e,l,a),s!==null&&(pn(s,e,a),ll(s,e,a))}};function S0(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function w0(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&hd.enqueueReplaceState(s,s.state,null)}function Hr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function R0(e){$u(e)}function C0(e){console.error(e)}function N0(e){$u(e)}function _c(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function D0(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(e,s,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(e,s)},a}function V0(e){return e=Is(e),e.tag=3,e}function M0(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){D0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){D0(s,a,l),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function NS(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ia(s,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Vc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ac?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Ld(e,l,f)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Ld(e,l,f)),!1}throw Error(r(435,a.tag))}return Ld(e,l,f),Vc(),!1}if(kt)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Vf&&(e=Error(r(422),{cause:l}),il(Pn(e,a)))):(l!==Vf&&(s=Error(r(423),{cause:l}),il(Pn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Pn(l,a),f=fd(e.stateNode,l,f),Ff(e,f),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:l});if(d=Pn(d,a),El===null?El=[d]:El.push(d),de!==4&&(de=2),s===null)return!0;l=Pn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=fd(a.stateNode,l,e),Ff(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=V0(f),M0(f,e,a,l),Ff(a,f),!1}a=a.return}while(a!==null);return!1}var dd=Error(r(461)),Re=!1;function Qe(e,s,a,l){s.child=e===null?Py(s,null,a,l):Fr(s,e.child,a,l)}function I0(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return kr(s),l=Qf(e,s,a,_,d,f),A=Xf(),e!==null&&!Re?($f(e,s,f),is(e,s,f)):(kt&&A&&Nf(s),s.flags|=1,Qe(e,s,l,f),s.child)}function O0(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,j0(e,s,d,l,f)):(e=tc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!Td(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&e.ref===s.ref)return is(e,s,f)}return s.flags|=1,e=Zi(d,l),e.ref=s.ref,e.return=s,s.child=e}function j0(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(tl(d,l)&&e.ref===s.ref)if(Re=!1,s.pendingProps=l=d,Td(e,f))(e.flags&131072)!==0&&(Re=!0);else return s.lanes=e.lanes,is(e,s,f)}return md(e,s,a,l,f)}function P0(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return L0(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(s,d!==null?d.cachePool:null),d!==null?Uy(s,d):Hf(),By(s);else return l=s.lanes=536870912,L0(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(s,d.cachePool),Uy(s,d),Ps(),s.memoizedState=null):(e!==null&&sc(s,null),Hf(),Ps());return Qe(e,s,f,a),s.child}function pl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function L0(e,s,a,l,f){var d=kf();return d=d===null?null:{parent:Se._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&sc(s,null),Hf(),By(s),e!==null&&Ia(e,s,l,!0),s.childLanes=f,null}function bc(e,s){return s=Ec({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function k0(e,s,a){return Fr(s,e.child,null,a),e=bc(s,s.pendingProps),e.flags|=2,Sn(s),s.memoizedState=null,e}function DS(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=bc(s,l),s.lanes=536870912,pl(null,e);if(Yf(s),(e=se)?(e=$v(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ty(e),a.return=s,s.child=a,Ye=s,se=null)):e=null,e===null)throw Ds(s);return s.lanes=536870912,null}return bc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(s),f)if(s.flags&256)s.flags&=-257,s=k0(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Re||Ia(e,s,a,!1),f=(a&e.childLanes)!==0,Re||f){if(l=ne,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Or(e,_),pn(l,e,_),dd;Vc(),s=k0(e,s,a)}else e=d.treeContext,se=zn(_.nextSibling),Ye=s,kt=!0,Ns=null,Un=!1,e!==null&&Ay(s,e),s=bc(s,l),s.flags|=4096;return s}return e=Zi(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Tc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function md(e,s,a,l,f){return kr(s),a=Qf(e,s,a,l,void 0,f),l=Xf(),e!==null&&!Re?($f(e,s,f),is(e,s,f)):(kt&&l&&Nf(s),s.flags|=1,Qe(e,s,a,f),s.child)}function U0(e,s,a,l,f,d){return kr(s),s.updateQueue=null,a=Fy(s,l,a,f),zy(e),l=Xf(),e!==null&&!Re?($f(e,s,d),is(e,s,d)):(kt&&l&&Nf(s),s.flags|=1,Qe(e,s,a,d),s.child)}function B0(e,s,a,l,f){if(kr(s),s.stateNode===null){var d=Na,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Bf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Na,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),cl(s,l,d,f),ul(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var A=s.memoizedProps,M=Hr(a,A);d.props=M;var H=d.context,$=a.contextType;_=Na,typeof $=="object"&&$!==null&&(_=Ke($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==_)&&w0(s,d,l,_),Ms=!1;var Y=s.memoizedState;d.state=Y,cl(s,l,d,f),ul(),H=s.memoizedState,A||Y!==H||Ms?(typeof W=="function"&&(cd(s,a,W,l),H=s.memoizedState),(M=Ms||S0(s,a,M,l,Y,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,zf(e,s),_=s.memoizedProps,$=Hr(a,_),d.props=$,W=s.pendingProps,Y=d.context,H=a.contextType,M=Na,typeof H=="object"&&H!==null&&(M=Ke(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||Y!==M)&&w0(s,d,l,M),Ms=!1,Y=s.memoizedState,d.state=Y,cl(s,l,d,f),ul();var Q=s.memoizedState;_!==W||Y!==Q||Ms||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof A=="function"&&(cd(s,a,A,l),Q=s.memoizedState),($=Ms||S0(s,a,$,l,Y,Q,M)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,Tc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=Fr(s,e.child,null,f),s.child=Fr(s,null,a,f)):Qe(e,s,a,f),s.memoizedState=d.state,e=s.child):e=is(e,s,f),e}function z0(e,s,a,l){return Pr(),s.flags|=256,Qe(e,s,a,l),s.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:Dy()}}function yd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Rn),e}function F0(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(kt){if(f?js(s):Ps(),(e=se)?(e=$v(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ty(e),a.return=s,s.child=a,Ye=s,se=null)):e=null,e===null)throw Ds(s);return Jd(e)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Ps(),f=s.mode,A=Ec({mode:"hidden",children:A},f),l=jr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=gd(a),l.childLanes=yd(e,_,a),s.memoizedState=pd,pl(null,l)):(js(s),vd(s,A))}var M=e.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(d)s.flags&256?(js(s),s.flags&=-257,s=_d(e,s,a)):s.memoizedState!==null?(Ps(),s.child=e.child,s.flags|=128,s=null):(Ps(),A=l.fallback,f=s.mode,l=Ec({mode:"visible",children:l.children},f),A=jr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,Fr(s,e.child,null,a),l=s.child,l.memoizedState=gd(a),l.childLanes=yd(e,_,a),s.memoizedState=pd,s=pl(null,l));else if(js(s),Jd(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),s=_d(e,s,a)}else if(Re||Ia(e,s,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=Po(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Or(e,l),pn(_,e,l),dd;Wd(A)||Vc(),s=_d(e,s,a)}else Wd(A)?(s.flags|=192,s.child=e.child,s=null):(e=M.treeContext,se=zn(A.nextSibling),Ye=s,kt=!0,Ns=null,Un=!1,e!==null&&Ay(s,e),s=vd(s,l.children),s.flags|=4096);return s}return f?(Ps(),A=l.fallback,f=s.mode,M=e.child,H=M.sibling,l=Zi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?A=Zi(H,A):(A=jr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,pl(null,l),l=s.child,A=e.child.memoizedState,A===null?A=gd(a):(f=A.cachePool,f!==null?(M=Se._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Dy(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=yd(e,_,a),s.memoizedState=pd,pl(e.child,l)):(js(s),a=e.child,e=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function vd(e,s){return s=Ec({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ec(e,s){return e=xn(22,e,null,s),e.lanes=0,e}function _d(e,s,a){return Fr(s,e.child,null,a),e=vd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function q0(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Of(e.return,s,a)}function bd(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function H0(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,ut(ye,_),Qe(e,s,l,a),l=kt?nl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q0(e,a,s);else if(e.tag===19)q0(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&cc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),bd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&cc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bd(s,!0,a,null,d,l);break;case"together":bd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function is(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Us|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Ia(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Zi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Zi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Td(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function VS(e,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Vs(s,Se,e.memoizedState.cache),Pr();break;case 27:case 5:gr(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Vs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(js(s),s.flags|=128,null):(a&s.child.childLanes)!==0?F0(e,s,a):(js(s),e=is(e,s,a),e!==null?e.sibling:null);js(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ia(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return H0(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(ye,ye.current),l)break;return null;case 22:return s.lanes=0,P0(e,s,a,s.pendingProps);case 24:Vs(s,Se,e.memoizedState.cache)}return is(e,s,a)}function G0(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Re=!0;else{if(!Td(e,a)&&(s.flags&128)===0)return Re=!1,VS(e,s,a);Re=(e.flags&131072)!==0}else Re=!1,kt&&(s.flags&1048576)!==0&&xy(s,nl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=Br(s.elementType),s.type=e,typeof e=="function")wf(e)?(l=Hr(e,l),s.tag=1,s=B0(null,s,e,l,a)):(s.tag=0,s=md(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===rt){s.tag=11,s=I0(null,s,e,l,a);break t}else if(f===R){s.tag=14,s=O0(null,s,e,l,a);break t}}throw s=xt(e)||e,Error(r(306,s,""))}}return s;case 0:return md(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Hr(l,s.pendingProps),B0(e,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,zf(e,s),cl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Vs(s,Se,l),l!==d.cache&&jf(s,[Se],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=z0(e,s,l,a);break t}else if(l!==f){f=Pn(Error(r(424)),s),il(f),s=z0(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=zn(e.firstChild),Ye=s,kt=!0,Ns=null,Un=!0,a=Py(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),l===f){s=is(e,s,a);break t}Qe(e,s,l,a)}s=s.child}return s;case 26:return Tc(e,s),e===null?(a=n_(s.type,null,s.pendingProps,null))?s.memoizedState=a:kt||(a=s.type,e=s.pendingProps,l=kc(Nt.current).createElement(a),l[Ee]=s,l[Ue]=e,Xe(l,a,e),xe(l),s.stateNode=l):s.memoizedState=n_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return gr(s),e===null&&kt&&(l=s.stateNode=Jv(s.type,s.pendingProps,Nt.current),Ye=s,Un=!0,f=se,Hs(s.type)?(tm=f,se=zn(l.firstChild)):se=f),Qe(e,s,s.pendingProps.children,a),Tc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&kt&&((f=l=se)&&(l=o2(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Ye=s,se=zn(l.firstChild),Un=!1,f=!0):f=!1),f||Ds(s)),gr(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Xd(f,d)?l=null:_!==null&&Xd(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Qf(e,s,ES,null,null,a),Dl._currentValue=f),Tc(e,s),Qe(e,s,l,a),s.child;case 6:return e===null&&kt&&((e=a=se)&&(a=l2(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Ye=s,se=null,e=!0):e=!1),e||Ds(s)),null;case 13:return F0(e,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Fr(s,null,l,a):Qe(e,s,l,a),s.child;case 11:return I0(e,s,s.type,s.pendingProps,a);case 7:return Qe(e,s,s.pendingProps,a),s.child;case 8:return Qe(e,s,s.pendingProps.children,a),s.child;case 12:return Qe(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Vs(s,s.type,l.value),Qe(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,kr(s),f=Ke(f),l=l(f),s.flags|=1,Qe(e,s,l,a),s.child;case 14:return O0(e,s,s.type,s.pendingProps,a);case 15:return j0(e,s,s.type,s.pendingProps,a);case 19:return H0(e,s,a);case 31:return DS(e,s,a);case 22:return P0(e,s,a,s.pendingProps);case 24:return kr(s),l=Ke(Se),e===null?(f=kf(),f===null&&(f=ne,d=Pf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Bf(s),Vs(s,Se,f)):((e.lanes&a)!==0&&(zf(e,s),cl(s,null,null,a),ul()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Vs(s,Se,l)):(l=d.cache,Vs(s,Se,l),l!==f.cache&&jf(s,[Se],a,!0))),Qe(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ss(e){e.flags|=4}function Ed(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(vv())e.flags|=8192;else throw zr=ac,Uf}else e.flags&=-16777217}function Y0(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(s))if(vv())e.flags|=8192;else throw zr=ac,Uf}function xc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Nu():536870912,e.lanes|=s,Ga|=s)}function gl(e,s){if(!kt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function MS(e,s,a){var l=s.pendingProps;switch(Df(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(Se),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(s)?ss(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mf())),re(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?(ss(s),d!==null?(re(s),Y0(s,d)):(re(s),Ed(s,f,null,l,a))):d?d!==e.memoizedState?(ss(s),re(s),Y0(s,d)):(re(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&ss(s),re(s),Ed(s,f,e,l,a)),null;case 27:if(ca(s),a=Nt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}e=dt.current,Ma(s)?Sy(s):(e=Jv(f,l,a),s.stateNode=e,ss(s))}return re(s),null;case 5:if(ca(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(d=dt.current,Ma(s))Sy(s);else{var _=kc(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ee]=s,d[Ue]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ss(s)}}return re(s),Ed(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Nt.current,Ma(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ee]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(e.nodeValue,a)),e||Ds(s,!0)}else e=kc(e).createTextNode(l),e[Ee]=s,s.stateNode=e}return re(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Ma(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),e=!1}else a=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Sn(s),s):(Sn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ma(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ee]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else f=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Sn(s),s):(Sn(s),null)}return Sn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),xc(s,s.updateQueue),re(s),null);case 4:return oe(),e===null&&Hd(s.stateNode.containerInfo),re(s),null;case 10:return ts(s.type),re(s),null;case 19:if(tt(ye),l=s.memoizedState,l===null)return re(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)gl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=cc(e),d!==null){for(s.flags|=128,gl(l,!1),e=d.updateQueue,s.updateQueue=e,xc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)by(a,e),a=a.sibling;return ut(ye,ye.current&1|2),kt&&Wi(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&rn()>Cc&&(s.flags|=128,f=!0,gl(l,!1),s.lanes=4194304)}else{if(!f)if(e=cc(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,xc(s,e),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return re(s),null}else 2*rn()-l.renderingStartTime>Cc&&a!==536870912&&(s.flags|=128,f=!0,gl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ye.current,ut(ye,f?a&1|2:a&1),kt&&Wi(s,l.treeForkCount),e):(re(s),null);case 22:case 23:return Sn(s),Gf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),a=s.updateQueue,a!==null&&xc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&tt(Ur),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(Se),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IS(e,s){switch(Df(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ts(Se),oe(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return ca(s),null;case 31:if(s.memoizedState!==null){if(Sn(s),s.alternate===null)throw Error(r(340));Pr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Sn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Pr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return tt(ye),null;case 4:return oe(),null;case 10:return ts(s.type),null;case 22:case 23:return Sn(s),Gf(),e!==null&&tt(Ur),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ts(Se),null;case 25:return null;default:return null}}function K0(e,s){switch(Df(s),s.tag){case 3:ts(Se),oe();break;case 26:case 27:case 5:ca(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&Sn(s);break;case 13:Sn(s);break;case 19:tt(ye);break;case 10:ts(s.type);break;case 22:case 23:Sn(s),Gf(),e!==null&&tt(Ur);break;case 24:ts(Se)}}function yl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){$t(s,s.return,A)}}function Ls(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var M=a,H=A;try{H()}catch($){$t(f,M,$)}}}l=l.next}while(l!==d)}}catch($){$t(s,s.return,$)}}function Q0(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{ky(s,a)}catch(l){$t(e,e.return,l)}}}function X0(e,s,a){a.props=Hr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,s,l)}}function vl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){$t(e,s,f)}}function Vi(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,s,f)}else a.current=null}function $0(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function xd(e,s,a){try{var l=e.stateNode;e2(l,e.type,a,s),l[Ue]=s}catch(f){$t(e,e.return,f)}}function Z0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function Ad(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Z0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=$n));else if(l!==4&&(l===27&&Hs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Sd(e,s,a),e=e.sibling;e!==null;)Sd(e,s,a),e=e.sibling}function Ac(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Hs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,s,a),e=e.sibling;e!==null;)Ac(e,s,a),e=e.sibling}function W0(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Ee]=e,s[Ue]=a}catch(d){$t(e,e.return,d)}}var rs=!1,Ce=!1,wd=!1,J0=typeof WeakSet=="function"?WeakSet:Set,ze=null;function OS(e,s){if(e=e.containerInfo,Kd=Gc,e=hy(e),_f(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,M=-1,H=0,$=0,W=e,Y=null;e:for(;;){for(var Q;W!==a||f!==0&&W.nodeType!==3||(A=_+f),W!==d||l!==0&&W.nodeType!==3||(M=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)Y=W,W=Q;for(;;){if(W===e)break e;if(Y===a&&++H===f&&(A=_),Y===d&&++$===l&&(M=_),(Q=W.nextSibling)!==null)break;W=Y,Y=W.parentNode}W=Q}a=A===-1||M===-1?null:{start:A,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},Gc=!1,ze=s;ze!==null;)if(s=ze,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ze=e;else for(;ze!==null;){switch(s=ze,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Hr(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,ze=e;break}ze=s.return}}function tv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(e,a),l&4&&yl(5,a);break;case 1:if(os(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var f=Hr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Q0(a),l&512&&vl(a,a.return);break;case 3:if(os(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ky(e,s)}catch(_){$t(a,a.return,_)}}break;case 27:s===null&&l&4&&W0(a);case 26:case 5:os(e,a),s===null&&l&4&&$0(a),l&512&&vl(a,a.return);break;case 12:os(e,a);break;case 31:os(e,a),l&4&&iv(e,a);break;case 13:os(e,a),l&4&&sv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qS.bind(null,a),u2(e,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){s=s!==null&&s.memoizedState!==null||Ce,f=rs;var d=Ce;rs=l,(Ce=s)&&!d?ls(e,a,(a.subtreeFlags&8772)!==0):os(e,a),rs=f,Ce=d}break;case 30:break;default:os(e,a)}}function ev(e){var s=e.alternate;s!==null&&(e.alternate=null,ev(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&pa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,hn=!1;function as(e,s,a){for(a=a.child;a!==null;)nv(e,s,a),a=a.sibling}function nv(e,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ce||Vi(a,s),as(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Vi(a,s);var l=ue,f=hn;Hs(a.type)&&(ue=a.stateNode,hn=!1),as(e,s,a),Rl(a.stateNode),ue=l,hn=f;break;case 5:Ce||Vi(a,s);case 6:if(l=ue,f=hn,ue=null,as(e,s,a),ue=l,hn=f,ue!==null)if(hn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,s,d)}break;case 18:ue!==null&&(hn?(e=ue,Qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ja(e)):Qv(ue,a.stateNode));break;case 4:l=ue,f=hn,ue=a.stateNode.containerInfo,hn=!0,as(e,s,a),ue=l,hn=f;break;case 0:case 11:case 14:case 15:Ls(2,a,s),Ce||Ls(4,a,s),as(e,s,a);break;case 1:Ce||(Vi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&X0(a,s,l)),as(e,s,a);break;case 21:as(e,s,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,as(e,s,a),Ce=l;break;default:as(e,s,a)}}function iv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(a){$t(s,s.return,a)}}}function sv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(a){$t(s,s.return,a)}}function jS(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new J0),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new J0),s;default:throw Error(r(435,e.tag))}}function Sc(e,s){var a=jS(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=HS.bind(null,e,l);l.then(f,f)}})}function fn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Hs(A.type)){ue=A.stateNode,hn=!1;break t}break;case 5:ue=A.stateNode,hn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,hn=!0;break t}A=A.return}if(ue===null)throw Error(r(160));nv(d,_,f),ue=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)rv(s,e),s=s.sibling}var ni=null;function rv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(s,e),dn(e),l&4&&(Ls(3,e,e.return),yl(3,e),Ls(5,e,e.return));break;case 1:fn(s,e),dn(e),l&512&&(Ce||a===null||Vi(a,a.return)),l&64&&rs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(fn(s,e),dn(e),l&512&&(Ce||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Ee]=e,xe(d),l=d;break t;case"link":var _=r_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=r_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ee]=e,xe(d),l=d}e.stateNode=l}else a_(f,e.type,e.stateNode);else e.stateNode=s_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?a_(f,e.type,e.stateNode):s_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(s,e),dn(e),l&512&&(Ce||a===null||Vi(a,a.return)),a!==null&&l&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,e),dn(e),l&512&&(Ce||a===null||Vi(a,a.return)),e.flags&32){f=e.stateNode;try{cn(f,"")}catch(pt){$t(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,xd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(wd=!0);break;case 6:if(fn(s,e),dn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){$t(e,e.return,pt)}}break;case 3:if(zc=null,f=ni,ni=Uc(s.containerInfo),fn(s,e),ni=f,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(s.containerInfo)}catch(pt){$t(e,e.return,pt)}wd&&(wd=!1,av(e));break;case 4:l=ni,ni=Uc(e.stateNode.containerInfo),fn(s,e),dn(e),ni=l;break;case 12:fn(s,e),dn(e);break;case 31:fn(s,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 13:fn(s,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 22:f=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=rs,$=Ce;if(rs=H||f,Ce=$||M,fn(s,e),Ce=$,rs=H,dn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||rs||Ce||Gr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=M.stateNode;var W=M.memoizedProps.style,Y=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pt){$t(M,M.return,pt)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pt){$t(M,M.return,pt)}}}else if(s.tag===18){if(a===null){M=s;try{var Q=M.stateNode;f?Xv(Q,!0):Xv(M.stateNode,!1)}catch(pt){$t(M,M.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(e,a))));break;case 19:fn(s,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 30:break;case 21:break;default:fn(s,e),dn(e)}}function dn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Z0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Ad(e);Ac(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var A=Ad(e);Ac(e,A,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Ad(e);Sd(e,H,M);break;default:throw Error(r(161))}}catch($){$t(e,e.return,$)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;av(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function os(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tv(e,s.alternate,s),s=s.sibling}function Gr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),Gr(s);break;case 1:Vi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&X0(s,s.return,a),Gr(s);break;case 27:Rl(s.stateNode);case 26:case 5:Vi(s,s.return),Gr(s);break;case 22:s.memoizedState===null&&Gr(s);break;case 30:Gr(s);break;default:Gr(s)}e=e.sibling}}function ls(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ls(f,d,a),yl(4,d);break;case 1:if(ls(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Ly(M[f],A)}catch(H){$t(l,l.return,H)}}a&&_&64&&Q0(d),vl(d,d.return);break;case 27:W0(d);case 26:case 5:ls(f,d,a),a&&l===null&&_&4&&$0(d),vl(d,d.return);break;case 12:ls(f,d,a);break;case 31:ls(f,d,a),a&&_&4&&iv(f,d);break;case 13:ls(f,d,a),a&&_&4&&sv(f,d);break;case 22:d.memoizedState===null&&ls(f,d,a),vl(d,d.return);break;case 30:break;default:ls(f,d,a)}s=s.sibling}}function Rd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Cd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&sl(e))}function ii(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ov(e,s,a,l),s=s.sibling}function ov(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ii(e,s,a,l),f&2048&&yl(9,s);break;case 1:ii(e,s,a,l);break;case 3:ii(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&sl(e)));break;case 12:if(f&2048){ii(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){$t(s,s.return,M)}}else ii(e,s,a,l);break;case 31:ii(e,s,a,l);break;case 13:ii(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ii(e,s,a,l):_l(e,s):d._visibility&2?ii(e,s,a,l):(d._visibility|=2,Fa(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Rd(_,s);break;case 24:ii(e,s,a,l),f&2048&&Cd(s.alternate,s);break;default:ii(e,s,a,l)}}function Fa(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,A=a,M=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,A,M,f),yl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Fa(d,_,A,M,f):_l(d,_):($._visibility|=2,Fa(d,_,A,M,f)),f&&H&2048&&Rd(_.alternate,_);break;case 24:Fa(d,_,A,M,f),f&&H&2048&&Cd(_.alternate,_);break;default:Fa(d,_,A,M,f)}s=s.sibling}}function _l(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Rd(l.alternate,l);break;case 24:_l(a,l),f&2048&&Cd(l.alternate,l);break;default:_l(a,l)}s=s.sibling}}var bl=8192;function qa(e,s,a){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)lv(e,s,a),e=e.sibling}function lv(e,s,a){switch(e.tag){case 26:qa(e,s,a),e.flags&bl&&e.memoizedState!==null&&T2(a,ni,e.memoizedState,e.memoizedProps);break;case 5:qa(e,s,a);break;case 3:case 4:var l=ni;ni=Uc(e.stateNode.containerInfo),qa(e,s,a),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,qa(e,s,a),bl=l):qa(e,s,a));break;default:qa(e,s,a)}}function uv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Tl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,hv(l,e)}uv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cv(e),e=e.sibling}function cv(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,wc(e)):Tl(e);break;default:Tl(e)}}function wc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,hv(l,e)}uv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,wc(s));break;default:wc(s)}e=e.sibling}}function hv(e,s){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Ls(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var f=l.sibling,d=l.return;if(ev(l),l===a){ze=null;break t}if(f!==null){f.return=d,ze=f;break t}ze=d}}}var PS={getCacheForType:function(e){var s=Ke(Se),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ke(Se).controller.signal}},LS=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Vt=null,Ot=0,Xt=0,wn=null,ks=!1,Ha=!1,Nd=!1,us=0,de=0,Us=0,Yr=0,Dd=0,Rn=0,Ga=0,El=null,mn=null,Vd=!1,Rc=0,fv=0,Cc=1/0,Nc=null,Bs=null,Pe=0,zs=null,Ya=null,cs=0,Md=0,Id=null,dv=null,xl=0,Od=null;function Cn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:X.T!==null?Bd():Du()}function mv(){if(Rn===0)if((Ot&536870912)===0||kt){var e=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function pn(e,s,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Fs(e,Ot,Rn,!1)),br(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Yr|=a),de===4&&Fs(e,Ot,Rn,!1)),Mi(e))}function pv(e,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Kn(e,s),f=l?BS(e,s):Pd(e,s,!0),d=l;do{if(f===0){Ha&&!l&&Fs(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!kS(a)){f=Pd(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=e;f=El;var M=A.current.memoizedState.isDehydrated;if(M&&(Ka(A,_).flags|=256),_=Pd(A,_,!1),_!==2){if(Nd&&!M){A.errorRecoveryDisabledLanes|=d,Yr|=d,f=4;break t}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ka(e,0),Fs(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(l,s,Rn,!ks);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Rc+300-rn(),10<f)){if(Fs(l,s,Rn,!ks),mi(l,0,!0)!==0)break t;cs=s,l.timeoutHandle=Yv(gv.bind(null,l,a,mn,Nc,Vd,s,Rn,Yr,Ga,ks,d,"Throttled",-0,0),f);break t}gv(l,a,mn,Nc,Vd,s,Rn,Yr,Ga,ks,d,null,-0,0)}}break}while(!0);Mi(e)}function gv(e,s,a,l,f,d,_,A,M,H,$,W,Y,Q){if(e.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},lv(s,d,W);var pt=(d&62914560)===d?Rc-rn():(d&4194048)===d?fv-rn():0;if(pt=E2(W,pt),pt!==null){cs=d,e.cancelPendingCommit=pt(Av.bind(null,e,s,d,a,l,f,_,A,M,$,W,null,Y,Q)),Fs(e,d,_,!H);return}}Av(e,s,d,a,l,f,_,A,M)}function kS(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(e,s,a,l){s&=~Dd,s&=~Yr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Tr(e,a,s)}function Dc(){return(Gt&6)===0?(Al(0),!1):!0}function jd(){if(Vt!==null){if(Xt===0)var e=Vt.return;else e=Vt,Ji=Lr=null,Zf(e),La=null,al=0,e=Vt;for(;e!==null;)K0(e.alternate,e),e=e.return;Vt=null}}function Ka(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,s2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),cs=0,jd(),ne=e,Vt=a=Zi(e.current,null),Ot=s,Xt=0,wn=null,ks=!1,Ha=Kn(e,s),Nd=!1,Ga=Rn=Dd=Yr=Us=de=0,mn=El=null,Vd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-pe(l),d=1<<f;s|=e[f],l&=~d}return us=s,Zu(),a}function yv(e,s){Ct=null,X.H=ml,s===Pa||s===rc?(s=Iy(),Xt=3):s===Uf?(s=Iy(),Xt=4):Xt=s===dd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Vt===null&&(de=1,_c(e,Pn(s,e.current)))}function vv(){var e=An.current;return e===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Bn:!1}function _v(){var e=X.H;return X.H=ml,e===null?ml:e}function bv(){var e=X.A;return X.A=PS,e}function Vc(){de=4,ks||(Ot&4194048)!==Ot&&An.current!==null||(Ha=!0),(Us&134217727)===0&&(Yr&134217727)===0||ne===null||Fs(ne,Ot,Rn,!1)}function Pd(e,s,a){var l=Gt;Gt|=2;var f=_v(),d=bv();(ne!==e||Ot!==s)&&(Nc=null,Ka(e,s)),s=!1;var _=de;t:do try{if(Xt!==0&&Vt!==null){var A=Vt,M=wn;switch(Xt){case 8:jd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var H=Xt;if(Xt=0,wn=null,Qa(e,A,M,H),a&&Ha){_=0;break t}break;default:H=Xt,Xt=0,wn=null,Qa(e,A,M,H)}}US(),_=de;break}catch($){yv(e,$)}while(!0);return s&&e.shellSuspendCounter++,Ji=Lr=null,Gt=l,X.H=f,X.A=d,Vt===null&&(ne=null,Ot=0,Zu()),_}function US(){for(;Vt!==null;)Tv(Vt)}function BS(e,s){var a=Gt;Gt|=2;var l=_v(),f=bv();ne!==e||Ot!==s?(Nc=null,Cc=rn()+500,Ka(e,s)):Ha=Kn(e,s);t:do try{if(Xt!==0&&Vt!==null){s=Vt;var d=wn;e:switch(Xt){case 1:Xt=0,wn=null,Qa(e,s,d,1);break;case 2:case 9:if(Vy(d)){Xt=0,wn=null,Ev(s);break}s=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Mi(e)},d.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Vy(d)?(Xt=0,wn=null,Ev(s)):(Xt=0,wn=null,Qa(e,s,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var A=Vt;if(_?o_(_):A.stateNode.complete){Xt=0,wn=null;var M=A.sibling;if(M!==null)Vt=M;else{var H=A.return;H!==null?(Vt=H,Mc(H)):Vt=null}break e}}Xt=0,wn=null,Qa(e,s,d,5);break;case 6:Xt=0,wn=null,Qa(e,s,d,6);break;case 8:jd(),de=6;break t;default:throw Error(r(462))}}zS();break}catch($){yv(e,$)}while(!0);return Ji=Lr=null,X.H=l,X.A=f,Gt=a,Vt!==null?0:(ne=null,Ot=0,Zu(),de)}function zS(){for(;Vt!==null&&!ff();)Tv(Vt)}function Tv(e){var s=G0(e.alternate,e,us);e.memoizedProps=e.pendingProps,s===null?Mc(e):Vt=s}function Ev(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=U0(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=U0(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Zf(s);default:K0(a,s),s=Vt=by(s,us),s=G0(a,s,us)}e.memoizedProps=e.pendingProps,s===null?Mc(e):Vt=s}function Qa(e,s,a,l){Ji=Lr=null,Zf(s),La=null,al=0;var f=s.return;try{if(NS(e,f,s,a,Ot)){de=1,_c(e,Pn(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;de=1,_c(e,Pn(a,e.current)),Vt=null;return}s.flags&32768?(kt||l===1?e=!0:Ha||(Ot&536870912)!==0?e=!1:(ks=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),xv(s,e)):Mc(s)}function Mc(e){var s=e;do{if((s.flags&32768)!==0){xv(s,ks);return}e=s.return;var a=MS(s.alternate,s,us);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=e}while(s!==null);de===0&&(de=5)}function xv(e,s){do{var a=IS(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);de=6,Vt=null}function Av(e,s,a,l,f,d,_,A,M){e.cancelPendingCommit=null;do Ic();while(Pe!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Af,pf(e,a,d,_,A,M),e===ne&&(Vt=ne=null,Ot=0),Ya=s,zs=e,cs=a,Md=d,Id=f,dv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,GS(vs,function(){return Nv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=st.p,st.p=2,_=Gt,Gt|=4;try{OS(e,s,a)}finally{Gt=_,st.p=f,X.T=l}}Pe=1,Sv(),wv(),Rv()}}function Sv(){if(Pe===1){Pe=0;var e=zs,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Gt;Gt|=4;try{rv(s,e);var d=Qd,_=hy(e.containerInfo),A=d.focusedElem,M=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&cy(A.ownerDocument.documentElement,A)){if(M!==null&&_f(A)){var H=M.start,$=M.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var W=A.ownerDocument||document,Y=W&&W.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),pt=A.textContent.length,_t=Math.min(M.start,pt),te=M.end===void 0?_t:Math.min(M.end,pt);!Q.extend&&_t>te&&(_=te,te=_t,_t=_);var k=uy(A,_t),j=uy(A,te);if(k&&j&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var q=W.createRange();q.setStart(k.node,k.offset),Q.removeAllRanges(),_t>te?(Q.addRange(q),Q.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Q.addRange(q))}}}}for(W=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gc=!!Kd,Qd=Kd=null}finally{Gt=f,st.p=l,X.T=a}}e.current=s,Pe=2}}function wv(){if(Pe===2){Pe=0;var e=zs,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Gt;Gt|=4;try{tv(e,s.alternate,s)}finally{Gt=f,st.p=l,X.T=a}}Pe=3}}function Rv(){if(Pe===4||Pe===3){Pe=0,xu();var e=zs,s=Ya,a=cs,l=dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,Ya=zs=null,Cv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Bs=null),Ki(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=st.p,st.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{X.T=s,st.p=f}}(cs&3)!==0&&Ic(),Mi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Od?xl++:(xl=0,Od=e):xl=0,Al(0)}}function Cv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,sl(s)))}function Ic(){return Sv(),wv(),Rv(),Nv()}function Nv(){if(Pe!==5)return!1;var e=zs,s=Md;Md=0;var a=Ki(cs),l=X.T,f=st.p;try{st.p=32>a?32:a,X.T=null,a=Id,Id=null;var d=zs,_=cs;if(Pe=0,Ya=zs=null,cs=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,cv(d.current),ov(d,d.current,_,a),Gt=A,Al(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{st.p=f,X.T=l,Cv(e,s)}}function Dv(e,s,a){s=Pn(a,s),s=fd(e.stateNode,s,2),e=Os(e,s,2),e!==null&&(br(e,2),Mi(e))}function $t(e,s,a){if(e.tag===3)Dv(e,e,a);else for(;s!==null;){if(s.tag===3){Dv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){e=Pn(a,e),a=V0(2),l=Os(s,a,2),l!==null&&(M0(a,l,s,e),br(l,2),Mi(l));break}}s=s.return}}function Ld(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new LS;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Nd=!0,f.add(a),e=FS.bind(null,e,s,a),s.then(e,e))}function FS(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Ot&a)===a&&(de===4||de===3&&(Ot&62914560)===Ot&&300>rn()-Rc?(Gt&2)===0&&Ka(e,0):Dd|=a,Ga===Ot&&(Ga=0)),Mi(e)}function Vv(e,s){s===0&&(s=Nu()),e=Or(e,s),e!==null&&(br(e,s),Mi(e))}function qS(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Vv(e,a)}function HS(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Vv(e,a)}function GS(e,s){return je(e,s)}var Oc=null,Xa=null,kd=!1,jc=!1,Ud=!1,qs=0;function Mi(e){e!==Xa&&e.next===null&&(Xa===null?Oc=Xa=e:Xa=Xa.next=e),jc=!0,kd||(kd=!0,KS())}function Al(e,s){if(!Ud&&jc){Ud=!0;do for(var a=!1,l=Oc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jv(l,d))}else d=Ot,d=mi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,jv(l,d));l=l.next}while(a);Ud=!1}}function YS(){Mv()}function Mv(){jc=kd=!1;var e=0;qs!==0&&i2()&&(e=qs);for(var s=rn(),a=null,l=Oc;l!==null;){var f=l.next,d=Iv(l,s);d===0?(l.next=null,a===null?Oc=f:a.next=f,f===null&&(Xa=a)):(a=l,(e!==0||(d&3)!==0)&&(jc=!0)),l=f}Pe!==0&&Pe!==5||Al(e),qs!==0&&(qs=0)}function Iv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),A=1<<_,M=f[_];M===-1?((A&a)===0||(A&l)!==0)&&(f[_]=mf(A,s)):M<=s&&(e.expiredLanes|=A),d&=~A}if(s=ne,a=Ot,a=mi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Kn(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&ys(l),Ki(a)){case 2:case 8:a=Oo;break;case 32:a=vs;break;case 268435456:a=Au;break;default:a=vs}return l=Ov.bind(null,e),a=je(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&ys(l),e.callbackPriority=2,e.callbackNode=null,2}function Ov(e,s){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ic()&&e.callbackNode!==a)return null;var l=Ot;return l=mi(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pv(e,l,s),Iv(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Ov.bind(null,e):null)}function jv(e,s){if(Ic())return null;pv(e,s,!0)}function KS(){r2(function(){(Gt&6)!==0?je(Io,YS):Mv()})}function Bd(){if(qs===0){var e=Oa;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),qs=e}return qs}function Pv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function Lv(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function QS(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Pv((f[Ue]||null).action),_=l.submitter;_&&(s=(s=_[Ue]||null)?Pv(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new Si("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var M=_?Lv(f,_):new FormData(f);ad(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(A.preventDefault(),M=_?Lv(f,_):new FormData(f),ad(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var zd=0;zd<xf.length;zd++){var Fd=xf[zd],XS=Fd.toLowerCase(),$S=Fd[0].toUpperCase()+Fd.slice(1);ei(XS,"on"+$S)}ei(my,"onAnimationEnd"),ei(py,"onAnimationIteration"),ei(gy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(fS,"onTransitionRun"),ei(dS,"onTransitionStart"),ei(mS,"onTransitionCancel"),ei(yy,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function kv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],M=A.instance,H=A.currentTarget;if(A=A.listener,M!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){$u($)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(A=l[_],M=A.instance,H=A.currentTarget,A=A.listener,M!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){$u($)}f.currentTarget=null,d=M}}}}function Mt(e,s){var a=s[ma];a===void 0&&(a=s[ma]=new Set);var l=e+"__bubble";a.has(l)||(Uv(s,e,2,!1),a.add(l))}function qd(e,s,a){var l=0;s&&(l|=4),Uv(a,e,l,s)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[Pc]){e[Pc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(ZS.has(a)||qd(a,!1,e),qd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Pc]||(s[Pc]=!0,qd("selectionchange",!1,s))}}function Uv(e,s,a,l){switch(m_(s)){case 2:var f=S2;break;case 8:f=w2;break;default:f=rm}a=f.bind(null,s,a,e),f=void 0,!wr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Gd(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=vi(A),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}A=A.parentNode}}l=l.return}As(function(){var H=d,$=Mn(a),W=[];t:{var Y=vy.get(e);if(Y!==void 0){var Q=Si,pt=e;switch(e){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":Q=Ku;break;case"focusin":pt="focus",Q=Dr;break;case"focusout":pt="blur",Q=Dr;break;case"beforeblur":case"afterblur":Q=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case my:case py:case gy:Q=Bu;break;case yy:Q=w;break;case"scroll":case"scrollend":Q=Xo;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$i;break;case"toggle":case"beforetoggle":Q=Rt}var _t=(s&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),k=_t?Y!==null?Y+"Capture":null:Y;_t=[];for(var j=H,q;j!==null;){var Z=j;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||k===null||(Z=Zn(j,k),Z!=null&&_t.push(wl(j,Z,q))),te)break;j=j.return}0<_t.length&&(Y=new Q(Y,pt,null,a,$),W.push({event:Y,listeners:_t}))}}if((s&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Y&&a!==Yo&&(pt=a.relatedTarget||a.fromElement)&&(vi(pt)||pt[gi]))break t;if((Q||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(pt=a.relatedTarget||a.toElement,Q=H,pt=pt?vi(pt):null,pt!==null&&(te=u(pt),_t=pt.tag,pt!==te||_t!==5&&_t!==27&&_t!==6)&&(pt=null)):(Q=null,pt=H),Q!==pt)){if(_t=$o,Z="onMouseLeave",k="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(_t=$i,Z="onPointerLeave",k="onPointerEnter",j="pointer"),te=Q==null?Y:bn(Q),q=pt==null?Y:bn(pt),Y=new _t(Z,j+"leave",Q,a,$),Y.target=te,Y.relatedTarget=q,Z=null,vi($)===H&&(_t=new _t(k,j+"enter",pt,a,$),_t.target=q,_t.relatedTarget=te,Z=_t),te=Z,Q&&pt)e:{for(_t=WS,k=Q,j=pt,q=0,Z=k;Z;Z=_t(Z))q++;Z=0;for(var yt=j;yt;yt=_t(yt))Z++;for(;0<q-Z;)k=_t(k),q--;for(;0<Z-q;)j=_t(j),Z--;for(;q--;){if(k===j||j!==null&&k===j.alternate){_t=k;break e}k=_t(k),j=_t(j)}_t=null}else _t=null;Q!==null&&Bv(W,Y,Q,_t,!1),pt!==null&&te!==null&&Bv(W,te,pt,_t,!0)}}t:{if(Y=H?bn(H):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ft=iy;else if(ey(Y))if(sy)Ft=uS;else{Ft=oS;var gt=aS}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&va(H.elementType)&&(Ft=iy):Ft=lS;if(Ft&&(Ft=Ft(e,H))){ny(W,Ft,a,$);break t}gt&&gt(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&qo(Y,"number",Y.value)}switch(gt=H?bn(H):window,e){case"focusin":(ey(gt)||gt.contentEditable==="true")&&(wa=gt,bf=H,el=null);break;case"focusout":el=bf=wa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,fy(W,a,$);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":fy(W,a,$)}var Dt;if(Ht)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Sa?Vr(e,a)&&(jt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(Ci&&a.locale!=="ko"&&(Sa||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Sa&&(Dt=Qo()):(Ai=$,Ko="value"in Ai?Ai.value:Ai.textContent,Sa=!0)),gt=Lc(H,jt),0<gt.length&&(jt=new Ri(jt,e,null,a,$),W.push({event:jt,listeners:gt}),Dt?jt.data=Dt:(Dt=Aa(a),Dt!==null&&(jt.data=Dt)))),(Dt=On?nS(e,a):iS(e,a))&&(jt=Lc(H,"onBeforeInput"),0<jt.length&&(gt=new Ri("onBeforeInput","beforeinput",null,a,$),W.push({event:gt,listeners:jt}),gt.data=Dt)),QS(W,e,H,a,$)}kv(W,s)})}function wl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Lc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(e,a),f!=null&&l.unshift(wl(e,f,d)),f=Zn(e,s),f!=null&&l.push(wl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function WS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bv(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,M=A.alternate,H=A.stateNode;if(A=A.tag,M!==null&&M===l)break;A!==5&&A!==26&&A!==27||H===null||(M=H,f?(H=Zn(a,d),H!=null&&_.unshift(wl(a,H,M))):f||(H=Zn(a,d),H!=null&&_.push(wl(a,H,M)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var JS=/\r\n?/g,t2=/\u0000|\uFFFD/g;function zv(e){return(typeof e=="string"?e:""+e).replace(JS,`
`).replace(t2,"")}function Fv(e,s){return s=zv(s),zv(e)===s}function Jt(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&cn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,a,l);break;case"style":Go(e,l,d);break;case"data":if(s!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_a(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Jt(e,s,"name",f.name,f,null),Jt(e,s,"formEncType",f.formEncType,f,null),Jt(e,s,"formMethod",f.formMethod,f,null),Jt(e,s,"formTarget",f.formTarget,f,null)):(Jt(e,s,"encType",f.encType,f,null),Jt(e,s,"method",f.method,f,null),Jt(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_a(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ga(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,ga(e,a,l))}}function Yd(e,s,a,l,f,d){switch(a){case"style":Go(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ga(e,a,l)}}}function Xe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(e,s,d,_,a,null)}}f&&Jt(e,s,"srcSet",a.srcSet,a,null),l&&Jt(e,s,"src",a.src,a,null);return;case"input":Mt("invalid",e);var A=d=_=f=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":M=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Jt(e,s,l,$,a,null)}}Ou(e,d,A,M,H,_,f,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Jt(e,s,f,A,a,null)}s=d,a=_,e.multiple=!!l,s!=null?bs(e,!!l,s,!1):a!=null&&bs(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Jt(e,s,_,A,a,null)}Ts(e,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,s,M,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Mt(Sl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(e,s,H,l,a,null)}return;default:if(va(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Yd(e,s,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Jt(e,s,A,l,a,null))}function e2(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,M=null,H=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=W;default:l.hasOwnProperty(Q)||Jt(e,s,Q,null,l,W)}}for(var Y in l){var Q=l[Y];if(W=a[Y],l.hasOwnProperty(Y)&&(Q!=null||W!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==W&&Jt(e,s,Y,Q,l,W)}}ya(e,_,A,M,H,$,d,f);return;case"select":Q=_=A=Y=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||Jt(e,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":Y=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==M&&Jt(e,s,f,d,l,M)}s=A,a=_,l=Q,Y!=null?bs(e,!!a,Y,!1):!!l!=!!a&&(s!=null?bs(e,!!a,s,!0):bs(e,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Jt(e,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Jt(e,s,_,f,l,d)}ju(e,Y,Q);return;case"option":for(var pt in a)if(Y=a[pt],a.hasOwnProperty(pt)&&Y!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Jt(e,s,pt,null,l,Y)}for(M in l)if(Y=l[M],Q=a[M],l.hasOwnProperty(M)&&Y!==Q&&(Y!=null||Q!=null))switch(M){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Jt(e,s,M,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)Y=a[_t],a.hasOwnProperty(_t)&&Y!=null&&!l.hasOwnProperty(_t)&&Jt(e,s,_t,null,l,Y);for(H in l)if(Y=l[H],Q=a[H],l.hasOwnProperty(H)&&Y!==Q&&(Y!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Jt(e,s,H,Y,l,Q)}return;default:if(va(s)){for(var te in a)Y=a[te],a.hasOwnProperty(te)&&Y!==void 0&&!l.hasOwnProperty(te)&&Yd(e,s,te,void 0,l,Y);for($ in l)Y=l[$],Q=a[$],!l.hasOwnProperty($)||Y===Q||Y===void 0&&Q===void 0||Yd(e,s,$,Y,l,Q);return}}for(var k in a)Y=a[k],a.hasOwnProperty(k)&&Y!=null&&!l.hasOwnProperty(k)&&Jt(e,s,k,null,l,Y);for(W in l)Y=l[W],Q=a[W],!l.hasOwnProperty(W)||Y===Q||Y==null&&Q==null||Jt(e,s,W,Y,l,Q)}function qv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&qv(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>A)break;var $=M.transferSize,W=M.initiatorType;$&&qv(W)&&(M=M.responseEnd,_+=$*(M<A?1:(A-H)/(M-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Qd=null;function kc(e){return e.nodeType===9?e:e.ownerDocument}function Hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Xd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $d=null;function i2(){var e=window.event;return e&&e.type==="popstate"?e===$d?!1:($d=e,!0):($d=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(a2)}:Yv;function a2(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function Qv(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Ja(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(e.ownerDocument.body);a=f}while(a);Ja(s)}function Xv(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Zd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function o2(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[yi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function l2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function $v(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$?"||e.data==="$~"}function Jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var tm=null;function Zv(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return zn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Wv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function Jv(e,s,a){switch(s=kc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);pa(e)}var Fn=new Map,t_=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=st.d;st.d={f:c2,r:h2,D:f2,C:d2,L:m2,m:p2,X:y2,S:g2,M:v2};function c2(){var e=hs.f(),s=Dc();return e||s}function h2(e){var s=Vn(e);s!==null&&s.tag===5&&s.type==="form"?y0(s):hs.r(e)}var $a=typeof document>"u"?null:document;function e_(e,s,a){var l=$a;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),t_.has(f)||(t_.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",e),xe(s),l.head.appendChild(s)))}}function f2(e){hs.D(e),e_("dns-prefetch",e,null)}function d2(e,s){hs.C(e,s),e_("preconnect",e,s)}function m2(e,s,a){hs.L(e,s,a);var l=$a;if(l&&e&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(e)+'"]';var d=f;switch(s){case"style":d=Za(e);break;case"script":d=Wa(e)}Fn.has(d)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Fn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Cl(d))||s==="script"&&l.querySelector(Nl(d))||(s=l.createElement("link"),Xe(s,"link",e),xe(s),l.head.appendChild(s)))}}function p2(e,s){hs.m(e,s);var a=$a;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(e)}if(!Fn.has(d)&&(e=b({rel:"modulepreload",href:e},s),Fn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Xe(l,"link",e),xe(l),a.head.appendChild(l)}}}function g2(e,s,a){hs.S(e,s,a);var l=$a;if(l&&e){var f=_i(l).hoistableStyles,d=Za(e);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Cl(d)))A.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Fn.get(d))&&em(e,a);var M=_=l.createElement("link");xe(M),Xe(M,"link",e),M._p=new Promise(function(H,$){M.onload=H,M.onerror=$}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Bc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function y2(e,s){hs.X(e,s);var a=$a;if(a&&e){var l=_i(a).hoistableScripts,f=Wa(e),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(e=b({src:e,async:!0},s),(s=Fn.get(f))&&nm(e,s),d=a.createElement("script"),xe(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function v2(e,s){hs.M(e,s);var a=$a;if(a&&e){var l=_i(a).hoistableScripts,f=Wa(e),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(e=b({src:e,async:!0,type:"module"},s),(s=Fn.get(f))&&nm(e,s),d=a.createElement("script"),xe(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function n_(e,s,a,l){var f=(f=Nt.current)?Uc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Za(a.href),a=_i(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var d=_i(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Cl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(e,a),d||_2(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=_i(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+un(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function _2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),xe(s),e.head.appendChild(s))}function Wa(e){return'[src="'+un(e)+'"]'}function Nl(e){return"script[async]"+e}function s_(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,xe(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Xe(l,"style",f),Bc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Za(a.href);var d=e.querySelector(Cl(f));if(d)return s.state.loading|=4,s.instance=d,xe(d),d;l=i_(a),(f=Fn.get(f))&&em(l,f),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(A,M){_.onload=A,_.onerror=M}),Xe(d,"link",l),s.state.loading|=4,Bc(d,a.precedence,e),s.instance=d;case"script":return d=Wa(a.src),(f=e.querySelector(Nl(d)))?(s.instance=f,xe(f),f):(l=a,(f=Fn.get(d))&&(l=b({},a),nm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),xe(f),Xe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bc(l,a.precedence,e));return s.instance}function Bc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function em(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function nm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var zc=null;function r_(e,s,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function a_(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function b2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function T2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Za(l.href),d=s.querySelector(Cl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Fc.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,xe(d);return}d=s.ownerDocument||s,l=i_(l),(f=Fn.get(f))&&em(l,f),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(A,M){_.onload=A,_.onerror=M}),Xe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fc.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var im=0;function E2(e,s){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&im===0&&(im=62500*n2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>im?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Hc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,s.forEach(x2,e),qc=null,Fc.call(e))}function x2(e,s){if(!(s.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Dl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function A2(e,s,a,l,f,d,_,A,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function l_(e,s,a,l,f,d,_,A,M,H,$,W){return e=new A2(e,s,a,_,M,H,$,W,A),s=1,d===!0&&(s|=24),d=xn(3,null,null,s),e.current=d,d.stateNode=e,s=Pf(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Bf(d),e}function u_(e){return e?(e=Na,e):Na}function c_(e,s,a,l,f,d){f=u_(f),l.context===null?l.context=f:l.pendingContext=f,l=Is(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Os(e,l,s),a!==null&&(pn(a,e,s),ll(a,e,s))}function h_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function sm(e,s){h_(e,s),(e=e.alternate)&&h_(e,s)}function f_(e){if(e.tag===13||e.tag===31){var s=Or(e,67108864);s!==null&&pn(s,e,67108864),sm(e,67108864)}}function d_(e){if(e.tag===13||e.tag===31){var s=Cn();s=Er(s);var a=Or(e,s);a!==null&&pn(a,e,s),sm(e,s)}}var Gc=!0;function S2(e,s,a,l){var f=X.T;X.T=null;var d=st.p;try{st.p=2,rm(e,s,a,l)}finally{st.p=d,X.T=f}}function w2(e,s,a,l){var f=X.T;X.T=null;var d=st.p;try{st.p=8,rm(e,s,a,l)}finally{st.p=d,X.T=f}}function rm(e,s,a,l){if(Gc){var f=am(l);if(f===null)Gd(e,s,l,Yc,a),p_(e,l);else if(C2(f,e,s,a,l))l.stopPropagation();else if(p_(e,l),s&4&&-1<R2.indexOf(e)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var M=1<<31-pe(_);A.entanglements[1]|=M,_&=~M}Mi(d),(Gt&6)===0&&(Cc=rn()+500,Al(0))}}break;case 31:case 13:A=Or(d,2),A!==null&&pn(A,d,2),Dc(),sm(d,2)}if(d=am(l),d===null&&Gd(e,s,l,Yc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gd(e,s,l,null,a)}}function am(e){return e=Mn(e),om(e)}var Yc=null;function om(e){if(Yc=null,e=vi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Yc=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case Io:return 2;case Oo:return 8;case vs:case df:return 32;case Au:return 268435456;default:return 32}default:return 32}}var lm=!1,Gs=null,Ys=null,Ks=null,Vl=new Map,Ml=new Map,Qs=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(e,s){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Il(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&f_(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function C2(e,s,a,l,f){switch(s){case"focusin":return Gs=Il(Gs,e,s,a,l,f),!0;case"dragenter":return Ys=Il(Ys,e,s,a,l,f),!0;case"mouseover":return Ks=Il(Ks,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Il(Vl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Il(Ml.get(d)||null,e,s,a,l,f)),!0}return!1}function g_(e){var s=vi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){d_(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){d_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=am(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return s=Vn(a),s!==null&&f_(s),e.blockedOn=a,!1;s.shift()}return!0}function y_(e,s,a){Kc(e)&&a.delete(s)}function N2(){lm=!1,Gs!==null&&Kc(Gs)&&(Gs=null),Ys!==null&&Kc(Ys)&&(Ys=null),Ks!==null&&Kc(Ks)&&(Ks=null),Vl.forEach(y_),Ml.forEach(y_)}function Qc(e,s){e.blockedOn===s&&(e.blockedOn=null,lm||(lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,N2)))}var Xc=null;function v_(e){Xc!==e&&(Xc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xc===e&&(Xc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Vn(a);d!==null&&(e.splice(s,3),s-=3,ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ja(e){function s(M){return Qc(M,e)}Gs!==null&&Qc(Gs,e),Ys!==null&&Qc(Ys,e),Ks!==null&&Qc(Ks,e),Vl.forEach(s),Ml.forEach(s);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ue]||null;if(typeof d=="function")_||v_(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ue]||null)A=_.formAction;else if(om(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),v_(a)}}}function __(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function um(e){this._internalRoot=e}$c.prototype.render=um.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Cn();c_(a,l,e,s,null,null)},$c.prototype.unmount=um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;c_(e.current,2,null,e,null,null),Dc(),s[gi]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var s=Du();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qs.length&&s!==0&&s<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&g_(e)}};var b_=t.version;if(b_!=="19.2.3")throw Error(r(527,b_,"19.2.3"));st.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var D2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Yn=Zc.inject(D2),He=Zc}catch{}}return jl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=R0,d=C0,_=N0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=l_(e,1,!1,null,null,a,l,null,f,d,_,__),e[gi]=s.current,Hd(e),new um(s)},jl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=R0,_=C0,A=N0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=l_(e,1,!0,s,a??null,l,f,M,d,_,A,__),s.context=u_(null),a=s.current,l=Cn(),l=Er(l),f=Is(l),f.callback=null,Os(a,f,l),a=l,s.current.lanes=a,br(s,a),Mi(s),e[gi]=s.current,Hd(e),new $c(s)},jl.version="19.2.3",jl}var D_;function z2(){if(D_)return fm.exports;D_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),fm.exports=B2(),fm.exports}var F2=z2();const q2=h1(F2),H2=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},G2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(x=64)),r.push(i[v],i[b],i[x],i[C])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(f1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):G2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new Y2;const x=u<<2|m>>4;if(r.push(x),g!==64){const C=m<<4&240|g>>2;if(r.push(C),b!==64){const L=g<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Y2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(n){const t=f1(n);return d1.encodeByteArray(t,!0)},bh=function(n){return K2(n).replace(/\./g,"")},Q2=function(n){try{return d1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=()=>X2().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof V_>"u")return;const n=V_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Q2(n[1]);return t&&JSON.parse(t)},Pp=()=>{try{return H2()||$2()||Z2()||W2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},J2=n=>{var t,i;return(i=(t=Pp())==null?void 0:t.emulatorHosts)==null?void 0:i[n]},m1=n=>{const t=J2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},p1=()=>{var n;return(n=Pp())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bh(JSON.stringify(i)),bh(JSON.stringify(c)),""].join(".")}const Hl={};function ew(){const n={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?n.emulator.push(t):n.prod.push(t);return n}function nw(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let M_=!1;function v1(n,t){if(typeof window>"u"||typeof document>"u"||!qh(window.location.host)||Hl[n]===t||Hl[n]||M_)return;Hl[n]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=ew().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{M_=!0,c()},x}function v(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=nw(r),C=i("text"),L=document.getElementById(C)||document.createElement("span"),U=i("learnmore"),B=document.getElementById(U)||document.createElement("a"),G=i("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;m(F),v(B,U);const rt=g();p(J,G),F.append(J,L,B,rt),document.body.appendChild(F)}u?(L.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sw(){var t;const n=(t=Pp())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aw(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="FirebaseError";class aa extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=lw,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_1.prototype.create)}}class _1{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?uw(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new aa(o,m,r)}}function uw(n,t){return n.replace(cw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const cw=/\{\$([^}]+)}/g;function Th(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(I_(u)&&I_(c)){if(!Th(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function I_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n){return n&&n._delegate?n._delegate:n}class fo{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new tw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dw(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fw(n){return n===Qr?void 0:n}function dw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const pw={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},gw=zt.INFO,yw={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},vw=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=yw[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class b1{constructor(t){this.name=t,this._logLevel=gw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const _w=(n,t)=>t.some(i=>n instanceof i);let O_,j_;function bw(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,Fm=new WeakMap,E1=new WeakMap,gm=new WeakMap,Lp=new WeakMap;function Ew(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Js(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&T1.set(i,n)}).catch(()=>{}),Lp.set(t,n),t}function xw(n){if(Fm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Fm.set(n,t)}let qm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Fm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||E1.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Aw(n){qm=n(qm)}function Sw(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(ym(this),t,...i);return E1.set(r,t.sort?t.sort():[t]),Js(r)}:Tw().includes(n)?function(...t){return n.apply(ym(this),t),Js(T1.get(this))}:function(...t){return Js(n.apply(ym(this),t))}}function ww(n){return typeof n=="function"?Sw(n):(n instanceof IDBTransaction&&xw(n),_w(n,bw())?new Proxy(n,qm):n)}function Js(n){if(n instanceof IDBRequest)return Ew(n);if(gm.has(n))return gm.get(n);const t=ww(n);return t!==n&&(gm.set(n,t),Lp.set(t,n)),t}const ym=n=>Lp.get(n);function Rw(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=Js(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Js(c.result),p.oldVersion,p.newVersion,Js(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Cw=["get","getKey","getAll","getAllKeys","count"],Nw=["put","add","delete","clear"],vm=new Map;function P_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Nw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Cw.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return vm.set(t,u),u}Aw(n=>({...n,get:(t,i,r)=>P_(t,i)||n.get(t,i,r),has:(t,i)=>!!P_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Vw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Vw(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hm="@firebase/app",L_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new b1("@firebase/app"),Mw="@firebase/app-compat",Iw="@firebase/analytics-compat",Ow="@firebase/analytics",jw="@firebase/app-check-compat",Pw="@firebase/app-check",Lw="@firebase/auth",kw="@firebase/auth-compat",Uw="@firebase/database",Bw="@firebase/data-connect",zw="@firebase/database-compat",Fw="@firebase/functions",qw="@firebase/functions-compat",Hw="@firebase/installations",Gw="@firebase/installations-compat",Yw="@firebase/messaging",Kw="@firebase/messaging-compat",Qw="@firebase/performance",Xw="@firebase/performance-compat",$w="@firebase/remote-config",Zw="@firebase/remote-config-compat",Ww="@firebase/storage",Jw="@firebase/storage-compat",tR="@firebase/firestore",eR="@firebase/ai",nR="@firebase/firestore-compat",iR="firebase",sR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",rR={[Hm]:"fire-core",[Mw]:"fire-core-compat",[Ow]:"fire-analytics",[Iw]:"fire-analytics-compat",[Pw]:"fire-app-check",[jw]:"fire-app-check-compat",[Lw]:"fire-auth",[kw]:"fire-auth-compat",[Uw]:"fire-rtdb",[Bw]:"fire-data-connect",[zw]:"fire-rtdb-compat",[Fw]:"fire-fn",[qw]:"fire-fn-compat",[Hw]:"fire-iid",[Gw]:"fire-iid-compat",[Yw]:"fire-fcm",[Kw]:"fire-fcm-compat",[Qw]:"fire-perf",[Xw]:"fire-perf-compat",[$w]:"fire-rc",[Zw]:"fire-rc-compat",[Ww]:"fire-gcs",[Jw]:"fire-gcs-compat",[tR]:"fire-fst",[nR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,aR=new Map,Ym=new Map;function k_(n,t){try{n.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Jl(n){const t=n.name;if(Ym.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,n);for(const i of Eh.values())k_(i,n);for(const i of aR.values())k_(i,n);return!0}function x1(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function A1(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new _1("app","Firebase",oR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=sR;function w1(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Gm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(i||(i=p1()),!i)throw tr.create("no-options");const u=Eh.get(o);if(u){if(Th(i,u.options)&&Th(r,u.config))return u;throw tr.create("duplicate-app",{appName:o})}const c=new mw(o);for(const p of Ym.values())c.addComponent(p);const m=new lR(i,r,c);return Eh.set(o,m),m}function R1(n=Gm){const t=Eh.get(n);if(!t&&n===Gm&&p1())return w1();if(!t)throw tr.create("no-app",{appName:n});return t}function er(n,t,i){let r=rR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}Jl(new fo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebase-heartbeat-database",cR=1,tu="firebase-heartbeat-store";let _m=null;function C1(){return _m||(_m=Rw(uR,cR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(tu)}catch(i){console.warn(i)}}}}).catch(n=>{throw tr.create("idb-open",{originalErrorMessage:n.message})})),_m}async function hR(n){try{const i=(await C1()).transaction(tu),r=await i.objectStore(tu).get(N1(n));return await i.done,r}catch(t){if(t instanceof aa)fs.warn(t.message);else{const i=tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fs.warn(i.message)}}}async function U_(n,t){try{const r=(await C1()).transaction(tu,"readwrite");await r.objectStore(tu).put(t,N1(n)),await r.done}catch(i){if(i instanceof aa)fs.warn(i.message);else{const r=tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});fs.warn(r.message)}}}function N1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1024,dR=30;class mR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>dR){const c=yR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B_(),{heartbeatsToSend:r,unsentEntries:o}=pR(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return fs.warn(i),""}}}function B_(){return new Date().toISOString().substring(0,10)}function pR(n,t=fR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),z_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),z_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class gR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aw()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function z_(n){return bh(JSON.stringify({version:2,heartbeats:n})).length}function yR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){Jl(new fo("platform-logger",t=>new Dw(t),"PRIVATE")),Jl(new fo("heartbeat",t=>new mR(t),"PRIVATE")),er(Hm,L_,n),er(Hm,L_,"esm2020"),er("fire-js","")}vR("");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,D1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(I,O,V){for(var D=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)D[xt-2]=arguments[xt];return S.prototype[O].apply(I,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,N){N||(N=0);const I=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)I[O]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(O=0;O<16;++O)I[O]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],O=R.g[2];let V=R.g[3],D;D=S+(V^N&(O^V))+I[0]+3614090360&4294967295,S=N+(D<<7&4294967295|D>>>25),D=V+(O^S&(N^O))+I[1]+3905402710&4294967295,V=S+(D<<12&4294967295|D>>>20),D=O+(N^V&(S^N))+I[2]+606105819&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(S^O&(V^S))+I[3]+3250441966&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(V^N&(O^V))+I[4]+4118548399&4294967295,S=N+(D<<7&4294967295|D>>>25),D=V+(O^S&(N^O))+I[5]+1200080426&4294967295,V=S+(D<<12&4294967295|D>>>20),D=O+(N^V&(S^N))+I[6]+2821735955&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(S^O&(V^S))+I[7]+4249261313&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(V^N&(O^V))+I[8]+1770035416&4294967295,S=N+(D<<7&4294967295|D>>>25),D=V+(O^S&(N^O))+I[9]+2336552879&4294967295,V=S+(D<<12&4294967295|D>>>20),D=O+(N^V&(S^N))+I[10]+4294925233&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(S^O&(V^S))+I[11]+2304563134&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(V^N&(O^V))+I[12]+1804603682&4294967295,S=N+(D<<7&4294967295|D>>>25),D=V+(O^S&(N^O))+I[13]+4254626195&4294967295,V=S+(D<<12&4294967295|D>>>20),D=O+(N^V&(S^N))+I[14]+2792965006&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(S^O&(V^S))+I[15]+1236535329&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(O^V&(N^O))+I[1]+4129170786&4294967295,S=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(S^N))+I[6]+3225465664&4294967295,V=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(V^S))+I[11]+643717713&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^S&(O^V))+I[0]+3921069994&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^V&(N^O))+I[5]+3593408605&4294967295,S=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(S^N))+I[10]+38016083&4294967295,V=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(V^S))+I[15]+3634488961&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^S&(O^V))+I[4]+3889429448&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^V&(N^O))+I[9]+568446438&4294967295,S=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(S^N))+I[14]+3275163606&4294967295,V=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(V^S))+I[3]+4107603335&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^S&(O^V))+I[8]+1163531501&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^V&(N^O))+I[13]+2850285829&4294967295,S=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(S^N))+I[2]+4243563512&4294967295,V=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(V^S))+I[7]+1735328473&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^S&(O^V))+I[12]+2368359562&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(N^O^V)+I[5]+4294588738&4294967295,S=N+(D<<4&4294967295|D>>>28),D=V+(S^N^O)+I[8]+2272392833&4294967295,V=S+(D<<11&4294967295|D>>>21),D=O+(V^S^N)+I[11]+1839030562&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^S)+I[14]+4259657740&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^V)+I[1]+2763975236&4294967295,S=N+(D<<4&4294967295|D>>>28),D=V+(S^N^O)+I[4]+1272893353&4294967295,V=S+(D<<11&4294967295|D>>>21),D=O+(V^S^N)+I[7]+4139469664&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^S)+I[10]+3200236656&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^V)+I[13]+681279174&4294967295,S=N+(D<<4&4294967295|D>>>28),D=V+(S^N^O)+I[0]+3936430074&4294967295,V=S+(D<<11&4294967295|D>>>21),D=O+(V^S^N)+I[3]+3572445317&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^S)+I[6]+76029189&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^V)+I[9]+3654602809&4294967295,S=N+(D<<4&4294967295|D>>>28),D=V+(S^N^O)+I[12]+3873151461&4294967295,V=S+(D<<11&4294967295|D>>>21),D=O+(V^S^N)+I[15]+530742520&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^S)+I[2]+3299628645&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(O^(N|~V))+I[0]+4096336452&4294967295,S=N+(D<<6&4294967295|D>>>26),D=V+(N^(S|~O))+I[7]+1126891415&4294967295,V=S+(D<<10&4294967295|D>>>22),D=O+(S^(V|~N))+I[14]+2878612391&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~S))+I[5]+4237533241&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~V))+I[12]+1700485571&4294967295,S=N+(D<<6&4294967295|D>>>26),D=V+(N^(S|~O))+I[3]+2399980690&4294967295,V=S+(D<<10&4294967295|D>>>22),D=O+(S^(V|~N))+I[10]+4293915773&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~S))+I[1]+2240044497&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~V))+I[8]+1873313359&4294967295,S=N+(D<<6&4294967295|D>>>26),D=V+(N^(S|~O))+I[15]+4264355552&4294967295,V=S+(D<<10&4294967295|D>>>22),D=O+(S^(V|~N))+I[6]+2734768916&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~S))+I[13]+1309151649&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~V))+I[4]+4149444226&4294967295,S=N+(D<<6&4294967295|D>>>26),D=V+(N^(S|~O))+I[11]+3174756917&4294967295,V=S+(D<<10&4294967295|D>>>22),D=O+(S^(V|~N))+I[2]+718787259&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~S))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,I=this.C;let O=this.h,V=0;for(;V<S;){if(O==0)for(;V<=N;)o(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<S;)if(I[O++]=R.charCodeAt(V++),O==this.blockSize){o(this,I),O=0;break}}else for(;V<S;)if(I[O++]=R[V++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)R[S++]=this.g[N]>>>I&255;return R};function u(R,S){var N=m;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function c(R,S){this.h=S;const N=[];let I=!0;for(let O=R.length-1;O>=0;O--){const V=R[O]|0;I&&V==S||(N[O]=V,I=!1)}this.g=N}var m={};function p(R){return-128<=R&&R<128?u(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return B(g(-R));const S=[];let N=1;for(let I=0;R>=N;I++)S[I]=R/N|0,N*=4294967296;return new c(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return B(v(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let I=b;for(let V=0;V<R.length;V+=8){var O=Math.min(8,R.length-V);const D=parseInt(R.substring(V,V+O),S);O<8?(O=g(Math.pow(S,O)),I=I.j(O).add(g(D))):(I=I.j(N),I=I.add(g(D)))}return I}var b=p(0),x=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-B(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);R+=(I>=0?I:4294967296+I)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(U(this))return"-"+B(this).toString(R);const S=g(Math.pow(R,6));var N=this;let I="";for(;;){const O=rt(N,S).g;N=G(N,O.j(S));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=O,L(N))return V+I;for(;V.length<6;)V="0"+V;I=V+I}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function U(R){return R.h==-1}n.l=function(R){return R=G(this,R),U(R)?-1:L(R)?0:1};function B(R){const S=R.g.length,N=[];for(let I=0;I<S;I++)N[I]=~R.g[I];return new c(N,~R.h).add(x)}n.abs=function(){return U(this)?B(this):this},n.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let I=0;for(let O=0;O<=S;O++){let V=I+(this.i(O)&65535)+(R.i(O)&65535),D=(V>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);I=D>>>16,V&=65535,D&=65535,N[O]=D<<16|V}return new c(N,N[N.length-1]&-2147483648?-1:0)};function G(R,S){return R.add(B(S))}n.j=function(R){if(L(this)||L(R))return b;if(U(this))return U(R)?B(this).j(B(R)):B(B(this).j(R));if(U(R))return B(this.j(B(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var I=0;I<2*S;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<R.g.length;O++){const V=this.i(I)>>>16,D=this.i(I)&65535,xt=R.i(O)>>>16,Yt=R.i(O)&65535;N[2*I+2*O]+=D*Yt,J(N,2*I+2*O),N[2*I+2*O+1]+=V*Yt,J(N,2*I+2*O+1),N[2*I+2*O+1]+=D*xt,J(N,2*I+2*O+1),N[2*I+2*O+2]+=V*xt,J(N,2*I+2*O+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new c(N,0)};function J(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function F(R,S){this.g=R,this.h=S}function rt(R,S){if(L(S))throw Error("division by zero");if(L(R))return new F(b,b);if(U(R))return S=rt(B(R),S),new F(B(S.g),B(S.h));if(U(S))return S=rt(R,B(S)),new F(B(S.g),S.h);if(R.g.length>30){if(U(R)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,I=S;I.l(R)<=0;)N=at(N),I=at(I);var O=it(N,1),V=it(I,1);for(I=it(I,2),N=it(N,2);!L(I);){var D=V.add(I);D.l(R)<=0&&(O=O.add(N),V=D),I=it(I,1),N=it(N,1)}return S=G(R,O.j(S)),new F(O,S)}for(O=b;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),V=g(N),D=V.j(S);U(D)||D.l(R)>0;)N-=I,V=g(N),D=V.j(S);L(V)&&(V=x),O=O.add(V),R=G(R,D)}return new F(O,R)}n.B=function(R){return rt(this,R).h},n.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)&R.i(I);return new c(N,this.h&R.h)},n.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)|R.i(I);return new c(N,this.h|R.h)},n.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)^R.i(I);return new c(N,this.h^R.h)};function at(R){const S=R.g.length+1,N=[];for(let I=0;I<S;I++)N[I]=R.i(I)<<1|R.i(I-1)>>>31;return new c(N,R.h)}function it(R,S){const N=S>>5;S%=32;const I=R.g.length-N,O=[];for(let V=0;V<I;V++)O[V]=S>0?R.i(V+N)>>>S|R.i(V+N+1)<<32-S:R.i(V+N);return new c(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,D1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,nr=c}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V1,kl,M1,lh,Km,I1,O1,j1;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var z=h[w];if(!(z in T))break t;T=T[z]}h=h[h.length-1],w=T[h],y=y(w),y!=w&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([w,y[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,z,K){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return y.prototype[z].apply(w,lt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const T=Array(y);for(let w=0;w<y;w++)T[w]=h[w];return T}return[]}function L(h,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=h.length||0;const K=z.length||0;h.length=T+K;for(let lt=0;lt<K;lt++)h[T+lt]=z[lt]}else h.push(z)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){c.setTimeout(()=>{throw h},0)}function G(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,T){const w=F.get();w.set(y,T),this.h?this.h.next=w:this.g=w,this.h=w}}var F=new U(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,it=!1,R=new J,S=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(N)}};function N(){for(var h;h=G();){try{h.h.call(h.g)}catch(T){B(T)}var y=F;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}it=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function xt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(xt,O),xt.prototype.init=function(h,y){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Yt="closure_listenable_"+(Math.random()*1e6|0),X=0;function st(h,y,T,w,z){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!w,this.ha=z,this.key=++X,this.da=this.fa=!1}function ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tt(h,y,T){for(const w in h)y.call(T,h[w],w,h)}function It(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function P(h){const y={};for(const T in h)y[T]=h[T];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let T,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(T in w)h[T]=w[T];for(let K=0;K<tt.length;K++)T=tt[K],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,y,T,w,z){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const lt=Nt(h,y,w,z);return lt>-1?(y=h[lt],T||(y.fa=!1)):(y=new st(y,this.src,K,!!w,z),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var w=h.g[T],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(ct(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Nt(h,y,T,w){for(let z=0;z<h.length;++z){const K=h[z];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==w)return z}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(h,y,T,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)oe(h,y[K],T,w,z);return null}return T=Mo(T),h&&h[Yt]?h.J(y,T,m(w)?!!w.capture:!1,z):gr(h,y,T,!1,w,z)}function gr(h,y,T,w,z,K){if(!y)throw Error("Invalid event type");const lt=m(z)?!!z.capture:!!z;let Rt=yr(h);if(Rt||(h[Ut]=Rt=new dt(h)),T=Rt.add(y,T,w,lt,K),T.proxy)return T;if(w=ca(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)V||(z=lt),z===void 0&&(z=!1),h.addEventListener(y.toString(),w,z);else if(h.attachEvent)h.attachEvent(hi(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ca(){function h(T){return y.call(h.src,h.listener,T)}const y=Do;return h}function ha(h,y,T,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)ha(h,y[K],T,w,z);else w=m(w)?!!w.capture:!!w,T=Mo(T),h&&h[Yt]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],T=Nt(y,T,w,z),T>-1&&(ct(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=yr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Nt(y,T,w,z)),(T=h>-1?y[h]:null)&&fa(T))}function fa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Yt])Et(y.i,h);else{var T=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(T,w,h.capture):y.detachEvent?y.detachEvent(hi(T),w):y.addListener&&y.removeListener&&y.removeListener(w),(T=yr(y))?(Et(T,h),T.h==0&&(T.src=null,y[Ut]=null)):ct(h)}}}function hi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Do(h,y){if(h.da)h=!0;else{y=new xt(y,this);const T=h.listener,w=h.ha||h.src;h.fa&&fa(h),h=T.call(w,y)}return h}function yr(h){return h=h[Ut],h instanceof dt?h:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(h){return typeof h=="function"?h:(h[Vo]||(h[Vo]=function(y){return h.handleEvent(y)}),h[Vo])}function be(){I.call(this),this.i=new dt(this),this.M=this,this.G=null}b(be,I),be.prototype[Yt]=!0,be.prototype.removeEventListener=function(h,y,T,w){ha(this,h,y,T,w)};function je(h,y){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(w,h),ut(y,z)}z=!0;let K,lt;if(T)for(lt=T.length-1;lt>=0;lt--)K=y.g=T[lt],z=ys(K,w,!0,y)&&z;if(K=y.g=h,z=ys(K,w,!0,y)&&z,z=ys(K,w,!1,y)&&z,T)for(lt=0;lt<T.length;lt++)K=y.g=T[lt],z=ys(K,w,!1,y)&&z}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let w=0;w<T.length;w++)ct(T[w]);delete h.g[y],h.h--}}this.G=null},be.prototype.J=function(h,y,T,w){return this.i.add(String(h),y,!1,T,w)},be.prototype.K=function(h,y,T,w){return this.i.add(String(h),y,!0,T,w)};function ys(h,y,T,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const lt=y[K];if(lt&&!lt.da&&lt.capture==T){const Rt=lt.listener,ge=lt.ha||lt.src;lt.fa&&Et(h.i,lt),z=Rt.call(ge,w)!==!1&&z}}return z&&!w.defaultPrevented}function ff(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xu(h){h.g=ff(()=>{h.g=null,h.i&&(h.i=!1,xu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends I{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){I.call(this),this.h=h,this.g={}}b(vr,I);var Io=[];function Oo(h){Tt(h.g,function(y,T){this.g.hasOwnProperty(T)&&fa(y)},h),h.g={}}vr.prototype.N=function(){vr.Z.N.call(this),Oo(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=c.JSON.stringify,df=c.JSON.parse,Au=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Su(){}function wu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){O.call(this,"d")}b(He,O);function Dn(){O.call(this,"c")}b(Dn,O);var pe={},Ru=null;function da(){return Ru=Ru||new be}pe.Ia="serverreachability";function Cu(h){O.call(this,pe.Ia,h)}b(Cu,O);function fi(h){const y=da();je(y,new Cu(y))}pe.STAT_EVENT="statevent";function _r(h,y){O.call(this,pe.STAT_EVENT,h),this.stat=y}b(_r,O);function Te(h){const y=da();je(y,new _r(y,h))}pe.Ja="timingevent";function di(h,y){O.call(this,pe.Ja,h),this.size=y}b(di,O);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function mf(h,y,T,w,z,K){h.info(function(){if(h.g)if(K){var lt="",Rt=K.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var ge=Rt[Ht].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const On=le.split("_");lt=On.length>=2&&On[1]=="type"?lt+(le+"="+ge+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+T+`
`+lt})}function Nu(h,y,T,w,z,K,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+T+`
`+K+" "+lt})}function pi(h,y,T,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+pf(h,T)+(w?" "+w:"")})}function br(h,y){h.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function pf(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return vs(K)}catch{return y}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Er(){}b(Er,Su),Er.prototype.g=function(){return new XMLHttpRequest},Po=new Er;function Ki(h){return encodeURIComponent(String(h))}function Du(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Qn(h,y,T,w){this.j=h,this.i=y,this.l=T,this.S=w||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function gi(h,y,T){h.M=1,h.A=xr(Ae(y)),h.u=T,h.R=!0,ma(h,null)}function ma(h,y){h.F=Date.now(),yi(h),h.B=Ae(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),va(T.i,"t",w),h.C=0,T=h.j.L,h.h=new Xn,h.g=Gu(h.j,T?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,w=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Io[0]=z.toString()),z=Io);for(let K=0;K<z.length;K++){const lt=oe(T,z[K],w||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),mf(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Wn(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||ge==7||(ge==8||Ht<=0?fi(3):fi(2)),vi(this);var y=this.g.ca();this.X=y;var T=gf(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var K=w;break e}}K=null}if(h=K)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,h);else{this.o=!1,this.m=3,Te(12),bn(this),Vn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<T.length;)if(le=Mu(this,T),le==Ue){Rt==4&&(this.m=4,Te(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,Te(15),pi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,le,null),_i(this,le);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Te(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),Vn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Zo(lt),lt.P=!0,Te(11))}}else pi(this.i,this.l,T,null),_i(this,T);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?zu(this.j,this):(this.o=!1,yi(this)))}else Xi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),bn(this),Vn(this)}}}catch{}finally{}};function gf(h){if(!Vu(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let T="";const w=y.length,z=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,T+=h.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Vu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mu(h,y){var T=h.C,w=y.indexOf(`
`,T);return w==-1?Ue:(T=Number(y.substring(T,w)),isNaN(T)?Ee:(w+=1,w+T>y.length?Ue:(y=y.slice(w,w+T),h.C=w+T,y)))}Qn.prototype.cancel=function(){this.K=!0,bn(this)};function yi(h){h.T=Date.now()+h.H,pa(h,h.H)}function pa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(g(h.aa,h),y)}function vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(br(this.i,this.B),this.M!=2&&(fi(),Te(17)),bn(this),this.m=2,Vn(this)):pa(this,this.T-h)};function Vn(h){h.j.I==0||h.K||zu(h.j,h)}function bn(h){vi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Oo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function _i(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Ti(T.h,h))){if(!h.L&&Ti(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)xa(T),ws(T);else break t;Dr(T),Te(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=mi(g(T.Va,T),6e3));bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ri(T,11)}else if((h.L||T.g==h)&&xa(T),!D(y))for(z=T.Ba.g.parse(y),y=0;y<z.length;y++){let Ht=z[y];const le=Ht[0];if(!(le<=T.K))if(T.K=le,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const On=Ht[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const Ci=Ht[4];Ci!=null&&(T.za=Ci,T.j.info("SVER="+T.za));const Jn=Ht[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const ti=h.g;if(ti){const Vr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var K=w.h;K.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Uo(K,K.h),K.h=null))}if(w.G){const Aa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(w.wa=Aa,Qt(w.J,w.G,Aa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var lt=h;if(w.na=Hu(w,w.L?w.ba:null,w.W),lt.L){Bo(w.h,lt);var Rt=lt,ge=w.O;ge&&(Rt.H=ge),Rt.D&&(vi(Rt),yi(Rt)),w.g=lt}else Uu(w);T.i.length>0&&wi(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Ri(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ri(T,7):Xo(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}fi(4)}catch{}}var xe=class{constructor(h,y){this.g=h,this.map=y}};function Lo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Uo(h,y){h.g?h.g.add(y):h.h=y}function Bo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return C(h.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let z,K=null;w>=0?(z=h[T].substring(0,w),K=h[T].substring(w+1)):z=h[T],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,_s(this,h.u),this.h=h.h,Fo(this,Lu(h.i)),this.m=h.m):h&&(y=String(h).match(Iu))?(this.l=!1,Be(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),_s(this,y[4]),this.h=Ei(y[5]||"",!0),Fo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ar(y,ya,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ar(y,ya,!0),"@"),h.push(Ki(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ar(T,T.charAt(0)=="/"?qo:Ou,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ar(T,ju)),h.join("")},Tn.prototype.resolve=function(h){const y=Ae(this);let T=!!h.j;T?Be(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var w=h.h;if(T)_s(y,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let lt=0;lt<z.length;){const Rt=z[lt++];Rt=="."?w&&lt==z.length&&K.push(""):Rt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&lt==z.length&&K.push("")):(K.push(Rt),w=!0)}w=K.join("/")}else w=z}return T?y.h=w:T=h.i.toString()!=="",T?Fo(y,Lu(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ae(h){return new Tn(h)}function Be(h,y,T){h.j=T?Ei(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function _s(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Fo(h,y,T){y instanceof Ts?(h.i=y,_a(h.i,h.l)):(T||(y=Ar(y,bs)),h.i=new Ts(y,h.l))}function Qt(h,y,T){h.i.set(y,T)}function xr(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ei(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ar(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,un),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ya=/[#\/\?@]/g,Ou=/[#\?:]/g,qo=/[#\?]/g,bs=/[#\?@]/g,ju=/#/g;function Ts(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&ga(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Ts.prototype,n.add=function(h,y){cn(this),this.i=null,h=Es(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Pu(h,y){cn(h),y=Es(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ho(h,y){return cn(h),y=Es(h,y),h.g.has(y)}n.forEach=function(h,y){cn(this),this.g.forEach(function(T,w){T.forEach(function(z){h.call(y,z,w,this)},this)},this)};function Go(h,y){cn(h);let T=[];if(typeof y=="string")Ho(h,y)&&(T=T.concat(h.g.get(Es(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return cn(this),this.i=null,h=Es(this,h),Ho(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Go(this,h),h.length>0?String(h[0]):y):y};function va(h,y,T){Pu(h,y),T.length>0&&(h.i=null,h.g.set(Es(h,y),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var T=y[w];const z=Ki(T);T=Go(this,T);for(let K=0;K<T.length;K++){let lt=z;T[K]!==""&&(lt+="="+Ki(T[K])),h.push(lt)}}return this.i=h.join("&")};function Lu(h){const y=new Ts;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Es(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function _a(h,y){y&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(T,w){const z=w.toLowerCase();w!=z&&(Pu(this,w),va(this,z,T))},h)),h.j=y}function $n(h,y){const T=new Kn;if(c.Image){const w=new Image;w.onload=v(Mn,T,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Mn,T,"TestLoadImage: error",!1,y,w),w.onabort=v(Mn,T,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Mn,T,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Yo(h,y){const T=new Kn,w=new AbortController,z=setTimeout(()=>{w.abort(),Mn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Mn(T,"TestPingServer: ok",!0,y):Mn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mn(T,"TestPingServer: error",!1,y)})}function Mn(h,y,T,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(T)}catch{}}function xs(){this.g=new Au}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(xi,Su),xi.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(h,y){be.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sr,be),n=Sr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?As(this):Zn(this),this.readyState==3&&ba(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,As(this))},n.Na=function(h){this.g&&(this.response=h,As(this))},n.ga=function(){this.g&&As(this)};function As(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function In(h){let y="";return Tt(h,function(T,w){y+=w,y+=":",y+=T,y+=`\r
`}),y}function wr(h,y,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=In(T),typeof h=="string"?T!=null&&Ki(T):Qt(h,y,T))}function Zt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,be);var Ai=/^https?$/i,Ko=["POST","PUT"];n=Zt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){Rr(this,K);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)T.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())T.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||w||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of T)this.g.setRequestHeader(K,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Rr(this,K)}};function Rr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Qo(h),Qi(h)}function Qo(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Zt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},n.Xa=function(){Cr(this)};function Cr(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var w;if(w=K===0){let lt=String(h.D).match(Iu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!Ai.test(lt?lt.toLowerCase():"")}T=w}if(T)je(h,"complete"),je(h,"success");else{h.o=6;try{var z=Wn(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Qo(h)}}finally{Qi(h)}}}}function Qi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||je(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),df(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var T=Du(h[w]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[z]||[];y[z]=K,K.push(T)}It(y,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ss(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(h&&h.concurrentRequestLimit),this.Ba=new xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ss.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,w){Te(0),this.W=h,this.H=y||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Hu(this,null,this.W),wi(this)};function Xo(h){if(Ta(h),h.I==3){var y=h.V++,T=Ae(h.J);if(Qt(T,"SID",h.M),Qt(T,"RID",y),Qt(T,"TYPE","terminate"),Nr(h,T),y=new Qn(h,h.j,y),y.M=2,y.A=xr(Ae(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}qu(h)}function ws(h){h.g&&(Zo(h),h.g.cancel(),h.g=null)}function Ta(h){ws(h),h.v&&(c.clearTimeout(h.v),h.v=null),xa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wi(h){if(!ko(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||S(),it||(at(),it=!0),R.add(y,h),h.D=0}}function Ea(h,y){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(g(h.Ea,h,y),Fu(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Qn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=ku(this,z,y),T=Ae(this.J),Qt(T,"RID",h),Qt(T,"CVER",22),this.G&&Qt(T,"X-HTTP-Session-Id",this.G),Nr(this,T),K&&(this.R?y="headers="+Ki(In(K))+"&"+y:this.u&&wr(T,this.u,K)),Uo(this.h,z),this.Ra&&Qt(T,"TYPE","init"),this.S?(Qt(T,"$req",y),Qt(T,"SID","null"),z.U=!0,gi(z,T,null)):gi(z,T,y),this.I=2}}else this.I==3&&(h?$o(this,h):this.i.length==0||ko(this.h)||$o(this))};function $o(h,y){var T;y?T=y.l:T=h.V++;const w=Ae(h.J);Qt(w,"SID",h.M),Qt(w,"RID",T),Qt(w,"AID",h.K),Nr(h,w),h.u&&h.o&&wr(w,h.u,h.o),T=new Qn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ku(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Uo(h.h,T),gi(T,w,y)}function Nr(h,y){h.H&&Tt(h.H,function(T,w){Qt(y,w,T)}),h.l&&Tt({},function(T,w){Qt(y,w,T)})}function ku(h,y,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Rt=-1;for(;;){const ge=["count="+T];Rt==-1?T>0?(Rt=z[0].g,ge.push("ofs="+Rt)):Rt=0:ge.push("ofs="+Rt);let Ht=!0;for(let le=0;le<T;le++){var K=z[le].g;const On=z[le].map;if(K-=Rt,K<0)Rt=Math.max(0,z[le].g-100),Ht=!1;else try{K="req"+K+"_"||"";try{var lt=On instanceof Map?On:Object.entries(On);for(const[Ci,Jn]of lt){let ti=Jn;m(Jn)&&(ti=vs(Jn)),ge.push(K+Ci+"="+encodeURIComponent(ti))}}catch(Ci){throw ge.push(K+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(On)}}if(Ht){lt=ge.join("&");break t}}lt=void 0}return h=h.i.splice(0,T),y.G=h,lt}function Uu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||S(),it||(at(),it=!0),R.add(y,h),h.A=0}}function Dr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(g(h.Da,h),Fu(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),ws(this),Bu(this))};function Zo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Bu(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ae(h.na);Qt(y,"RID","rpc"),Qt(y,"SID",h.M),Qt(y,"AID",h.K),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(y,"TO",h.ia),Qt(y,"TYPE","xmlhttp"),Nr(h,y),h.u&&h.o&&wr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=xr(Ae(y)),T.u=null,T.R=!0,ma(T,h)}n.Va=function(){this.C!=null&&(this.C=null,ws(this),Dr(this),Te(19))};function xa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function zu(h,y){var T=null;if(h.g==y){xa(h),Zo(h),h.g=null;var w=2}else if(Ti(h.h,y))T=y.G,Bo(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;w=da(),je(w,new di(w,T)),wi(h)}else Uu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Ea(h,y)||w==2&&Dr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),z){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function Fu(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),w=h.Ua;const z=!w;w=new Tn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(w,"https"),xr(w),z?$n(w.toString(),T):Yo(w.toString(),T)}else Te(2);h.I=0,h.l&&h.l.pa(y),qu(h),Ta(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function qu(h){if(h.I=0,h.ja=[],h.l){const y=zo(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Hu(h,y,T){var w=T instanceof Tn?Ae(T):new Tn(T);if(w.g!="")y&&(w.g=y+"."+w.g),_s(w,w.u);else{var z=c.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new Tn(null);w&&Be(K,w),y&&(K.g=y),z&&_s(K,z),T&&(K.h=T),w=K}return T=h.G,y=h.wa,T&&y&&Qt(w,T,y),Qt(w,"VER",h.ka),Nr(h,w),w}function Gu(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Zt(new xi({ab:T})):new Zt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}n=Yu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Rs(){}Rs.prototype.g=function(h,y){return new an(h,y)};function an(h,y){be.call(this),this.g=new Ss(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new $i(this)}b(an,be),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Xo(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=vs(h),h=T);y.i.push(new xe(y.Ya++,h)),y.I==3&&wi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,an.Z.N.call(this)};function Ku(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(Ku,He);function Qu(){Dn.call(this),this.status=1}b(Qu,Dn);function $i(h){this.g=h}b($i,Yu),$i.prototype.ra=function(){je(this.g,"a")},$i.prototype.qa=function(h){je(this.g,new Ku(h))},$i.prototype.pa=function(h){je(this.g,new Qu)},$i.prototype.oa=function(){je(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,j1=function(){return new Rs},O1=function(){return da()},I1=pe,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,lh=Tr,jo.COMPLETE="complete",M1=jo,wu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",be.prototype.listen=be.prototype.J,kl=wu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,V1=Zt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",H_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new b1("@firebase/firestore");function to(){return ia.logLevel}function ft(n,...t){if(ia.logLevel<=zt.DEBUG){const i=t.map(kp);ia.debug(`Firestore (${Eo}): ${n}`,...i)}}function ds(n,...t){if(ia.logLevel<=zt.ERROR){const i=t.map(kp);ia.error(`Firestore (${Eo}): ${n}`,...i)}}function mo(n,...t){if(ia.logLevel<=zt.WARN){const i=t.map(kp);ia.warn(`Firestore (${Eo}): ${n}`,...i)}}function kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,P1(n,r,i)}function P1(n,t,i){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ds(r),new Error(r)}function Kt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||P1(t,o,r)}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends aa{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new L1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class ER{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,A1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function Qm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return bm(o)===bm(u)?Pt(o,u):bm(o)?1:-1}return Pt(n.length,t.length)}const wR=55296,RR=57343;function bm(n){const t=n.charCodeAt(0);return t>=wR&&t<=RR}function po(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Ii{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ii.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Ii.isNumericId(t),o=Ii.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):Qm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class ie extends Ii{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ii{construct(t,i,r){return new Ze(t,i,r)}static isValidIdentifier(t){return CR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Ze([Y_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n,t,i){if(!i)throw new ht(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NR(n,t,i,r){if(t===!0&&r===!0)throw new ht(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function K_(n){if(!vt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q_(n){if(vt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function U1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function ji(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hh(n);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,t){const i={typeString:n};return t&&(i.value=t),i}function fu(n,t){if(!U1(n))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ht(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,$_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*$_);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Me("string",ae._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ae(0,0))}static max(){return new At(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function DR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new ar(o,vt.empty(),t)}function VR(n){return new ar(n.readTime,n.key,eu)}class ar{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ar(At.min(),vt.empty(),eu)}static max(){return new ar(At.max(),vt.empty(),eu)}}function MR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==IR)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,r)=>{i(t)}))}static reject(t){return new nt(((i,r)=>{r(t)}))}static waitFor(t){return new nt(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const r of t)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new nt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function jR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function Yh(n){return n==null}function xh(n){return n===0&&1/n==-1/0}function PR(n){return typeof n=="number"&&Number.isInteger(n)&&!xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function LR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=Z_(t)),t=kR(n.get(i),t);return Z_(t)}function kR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case B1:i+="";break;default:i+=u}}return i}function Z_(n){return n+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function dr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function z1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new $e(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new ke(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F1("Invalid base64 string: "+u):u}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const i=UR.exec(n);if(Kt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lr(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="server_timestamp",H1="__type__",G1="__previous_value__",Y1="__local_write_time__";function zp(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[H1])==null?void 0:r.stringValue)===q1}function Kh(n){const t=n.mapValue.fields[G1];return zp(t)?Kh(t):t}function nu(n){const t=or(n.mapValue.fields[Y1].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ah="(default)";class iu{constructor(t,i){this.projectId=t,this.database=i||Ah}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",zR="__max__",th={mapValue:{}},Q1="__vector__",Sh="value";function ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:qR(n)?9007199254740991:FR(n)?10:11:bt(28295,{value:n})}function Fi(n,t){if(n===t)return!0;const i=ur(n);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nu(n).isEqual(nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=or(o.timestampValue),m=or(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return lr(o.bytesValue).isEqual(lr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),m=_e(u.doubleValue);return c===m?xh(c)===xh(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return po(n.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W_(c)!==W_(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Fi(c[p],m[p])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function su(n,t){return(n.values||[]).find((i=>Fi(i,t)))!==void 0}function go(n,t){if(n===t)return 0;const i=ur(n),r=ur(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return tb(n.timestampValue,t.timestampValue);case 4:return tb(nu(n),nu(t));case 5:return Qm(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=lr(u),p=lr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Pt(m[g],p[g]);if(v!==0)return v}return Pt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Pt(_e(u.latitude),_e(c.latitude));return m!==0?m:Pt(_e(u.longitude),_e(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return eb(n.arrayValue,t.arrayValue);case 10:return(function(u,c){var x,C,L,U;const m=u.fields||{},p=c.fields||{},g=(x=m[Sh])==null?void 0:x.arrayValue,v=(C=p[Sh])==null?void 0:C.arrayValue,b=Pt(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((U=v==null?void 0:v.values)==null?void 0:U.length)||0);return b!==0?b:eb(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===th.mapValue&&c===th.mapValue)return 0;if(u===th.mapValue)return 1;if(c===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=Qm(p[b],v[b]);if(x!==0)return x;const C=go(m[p[b]],g[v[b]]);if(C!==0)return C}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function tb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const i=or(n),r=or(t),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function eb(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=go(i[o],r[o]);if(u)return u}return Pt(i.length,r.length)}function yo(n){return Xm(n)}function Xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=or(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return lr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return vt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Xm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Xm(i.fields[c])}`;return o+"}"})(n.mapValue):bt(61005,{value:n})}function uh(n){switch(ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kh(n);return t?16+uh(t):16;case 5:return 2*n.stringValue.length;case 6:return lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+uh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return dr(r.fields,((u,c)=>{o+=u.length+uh(c)})),o})(n.mapValue);default:throw bt(13486,{value:n})}}function nb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $m(n){return!!n&&"integerValue"in n}function Fp(n){return!!n&&"arrayValue"in n}function ib(n){return!!n&&"nullValue"in n}function sb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function FR(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[K1])==null?void 0:r.stringValue)===Q1}function Gl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return dr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Gl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Gl(n.arrayValue.values[i]);return t}return{...n}}function qR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ch(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(i)}setAll(t){let i=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=Gl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());ch(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){dr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new yn(Gl(this.value))}}function X1(n){const t=[];return dr(n.fields,((i,r)=>{const o=new Ze([i]);if(ch(r)){const u=X1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new nn(t,0,At.min(),At.min(),At.min(),yn.empty(),0)}static newFoundDocument(t,i,r,o){return new nn(t,1,i,At.min(),r,o,0)}static newNoDocument(t,i){return new nn(t,2,i,At.min(),At.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,At.min(),At.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,i){this.position=t,this.inclusive=i}}function rb(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),i.key):r=go(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ab(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Fi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function HR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class Ve extends $1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new YR(t,i,r):i==="array-contains"?new XR(t,r):i==="in"?new $R(t,r):i==="not-in"?new ZR(t,r):i==="array-contains-any"?new WR(t,r):new Ve(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new KR(t,r):new QR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends $1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ci(t,i)}matches(t){return Z1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z1(n){return n.op==="and"}function W1(n){return GR(n)&&Z1(n)}function GR(n){for(const t of n.filters)if(t instanceof ci)return!1;return!0}function Zm(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+yo(n.value);if(W1(n))return n.filters.map((t=>Zm(t))).join(",");{const t=n.filters.map((i=>Zm(i))).join(",");return`${n.op}(${t})`}}function J1(n,t){return n instanceof Ve?(function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&Fi(r.value,o.value)})(n,t):n instanceof ci?(function(r,o){return o instanceof ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&J1(c,o.filters[m])),!0):!1})(n,t):void bt(19439)}function tE(n){return n instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`})(n):n instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(tE).join(" ,")+"}"})(n):"Filter"}class YR extends Ve{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class KR extends Ve{constructor(t,i){super(t,"in",i),this.keys=eE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QR extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=eE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function eE(n,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>vt.fromName(r.referenceValue)))}class XR extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fp(i)&&su(i.arrayValue,this.value)}}class $R extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&su(this.value.arrayValue,i)}}class ZR extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!su(this.value.arrayValue,i)}}class WR extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function ob(n,t=null,i=[],r=[],o=null,u=null,c=null){return new JR(n,t,i,r,o,u,c)}function qp(n){const t=wt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Zm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>yo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>yo(r))).join(",")),t.Te=i}return t.Te}function Hp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!HR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!J1(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ab(n.startAt,t.startAt)&&ab(n.endAt,t.endAt)}function Wm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tC(n,t,i,r,o,u,c,m){return new du(n,t,i,r,o,u,c,m)}function Gp(n){return new du(n)}function lb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nE(n){return n.collectionGroup!==null}function Yl(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ke(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Rh(u,r))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Rh(Ze.keyField(),r))}return t.Ie}function Pi(n){const t=wt(n);return t.Ee||(t.Ee=eC(t,Yl(n))),t.Ee}function eC(n,t){if(n.limitType==="F")return ob(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Rh(o.field,u)}));const i=n.endAt?new wh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wh(n.startAt.position,n.startAt.inclusive):null;return ob(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Jm(n,t){const i=n.filters.concat([t]);return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function tp(n,t,i){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Qh(n,t){return Hp(Pi(n),Pi(t))&&n.limitType===t.limitType}function iE(n){return`${qp(Pi(n))}|lt:${n.limitType}`}function eo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>tE(o))).join(", ")}]`),Yh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>yo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(Pi(n))}; limitType=${n.limitType})`}function Xh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Yl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=rb(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(c,m,p){const g=rb(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Yl(r),o))})(n,t)}function nC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sE(n){return(t,i)=>{let r=!1;for(const o of Yl(n)){const u=iC(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function iC(n,t,i){const r=n.field.isKeyField()?vt.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):bt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){dr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new he(vt.comparator);function ms(){return sC}const rE=new he(vt.comparator);function Ul(...n){let t=rE;for(const i of n)t=t.insert(i.key,i);return t}function aE(n){let t=rE;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function $r(){return Kl()}function oE(){return Kl()}function Kl(){return new oa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const rC=new he(vt.comparator),aC=new ke(vt.comparator);function Lt(...n){let t=aC;for(const i of n)t=t.add(i);return t}const oC=new ke(Pt);function lC(){return oC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function lE(n){return{integerValue:""+n}}function uC(n,t){return PR(t)?lE(t):Yp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function cC(n,t,i){return n instanceof Ch?(function(o,u){const c={fields:{[H1]:{stringValue:q1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=Kh(u)),u&&(c.fields[G1]=u),{mapValue:c}})(i,t):n instanceof ru?cE(n,t):n instanceof au?hE(n,t):(function(o,u){const c=uE(o,u),m=ub(c)+ub(o.Ae);return $m(c)&&$m(o.Ae)?lE(m):Yp(o.serializer,m)})(n,t)}function hC(n,t,i){return n instanceof ru?cE(n,t):n instanceof au?hE(n,t):i}function uE(n,t){return n instanceof Nh?(function(r){return $m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Ch extends $h{}class ru extends $h{constructor(t){super(),this.elements=t}}function cE(n,t){const i=fE(t);for(const r of n.elements)i.some((o=>Fi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class au extends $h{constructor(t){super(),this.elements=t}}function hE(n,t){let i=fE(t);for(const r of n.elements)i=i.filter((o=>!Fi(o,r)));return{arrayValue:{values:i}}}class Nh extends $h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ub(n){return _e(n.integerValue||n.doubleValue)}function fE(n){return Fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fC(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof ru&&o instanceof ru||r instanceof au&&o instanceof au?po(r.elements,o.elements,Fi):r instanceof Nh&&o instanceof Nh?Fi(r.Ae,o.Ae):r instanceof Ch&&o instanceof Ch})(n.transform,t.transform)}class dC{constructor(t,i){this.version=t,this.transformResults=i}}class li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Zh{}function dE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Kp(n.key,li.none()):new mu(n.key,n.data,li.none());{const i=n.data,r=yn.empty();let o=new ke(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new mr(n.key,r,new Nn(o.toArray()),li.none())}}function mC(n,t,i){n instanceof mu?(function(o,u,c){const m=o.value.clone(),p=hb(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):n instanceof mr?(function(o,u,c){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=hb(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(mE(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function Ql(n,t,i,r){return n instanceof mu?(function(u,c,m,p){if(!hh(u.precondition,c))return m;const g=u.value.clone(),v=fb(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof mr?(function(u,c,m,p){if(!hh(u.precondition,c))return m;const g=fb(u.fieldTransforms,p,c),v=c.data;return v.setAll(mE(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,m){return hh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,i)}function pC(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=uE(r.transform,o||null);u!=null&&(i===null&&(i=yn.empty()),i.set(r.field,u))}return i||null}function cb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,((u,c)=>fC(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class mu extends Zh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends Zh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mE(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function hb(n,t,i){const r=new Map;Kt(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,hC(c,m,i[o]))}return r}function fb(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,cC(u,c,t))}return r}class Kp extends Zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends Zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&mC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=oE();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=dE(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,((i,r)=>cb(i,r)))&&po(this.baseMutations,t.baseMutations,((i,r)=>cb(i,r)))}}class Qp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return rC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Qp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Bt;function bC(n){switch(n){case et.OK:return bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function pE(n){if(n===void 0)return ds("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ne.OK:return et.OK;case Ne.CANCELLED:return et.CANCELLED;case Ne.UNKNOWN:return et.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return et.INTERNAL;case Ne.UNAVAILABLE:return et.UNAVAILABLE;case Ne.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ne.NOT_FOUND:return et.NOT_FOUND;case Ne.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ne.ABORTED:return et.ABORTED;case Ne.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ne.DATA_LOSS:return et.DATA_LOSS;default:return bt(39323,{code:n})}}(Bt=Ne||(Ne={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new nr([4294967295,4294967295],0);function db(n){const t=TC().encode(n),i=new D1;return i.update(t),new Uint8Array(i.digest())}function mb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new nr([i,r],0),new nr([o,u],0)]}class Xp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(nr.fromNumber(r)));return o.compare(EC)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=db(t),[r,o]=mb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Xp(u,o,i);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const i=db(t),[r,o]=mb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Wh(At.min(),o,new he(Pt),ms(),Lt())}}class pu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new pu(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class gE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,r=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class pb{constructor(){this.ve=0,this.Fe=gb(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new pu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=gb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=eh(),this.He=eh(),this.Ye=new he(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Wm(u))if(r===0){const c=new vt(u.path);this.et(i,c,nn.newNoDocument(c,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,m;try{c=lr(r).toUint8Array()}catch(p){if(p instanceof F1)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(c,o,u)}catch(p){return mo(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Wm(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Lt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Wh(t,i,this.Ye,this.je,r);return this.je=ms(),this.Je=eh(),this.He=eh(),this.Ye=new he(Pt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new pb,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pb),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function eh(){return new he(vt.comparator)}function gb(){return new he(vt.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wC={and:"AND",or:"OR"};class RC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ep(n,t){return n.useProto3Json||Yh(t)?t:{value:t}}function Dh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function CC(n,t){return Dh(n,t.toTimestamp())}function Li(n){return Kt(!!n,49232),At.fromTimestamp((function(i){const r=or(i);return new ae(r.seconds,r.nanos)})(n))}function $p(n,t){return np(n,t).canonicalString()}function np(n,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function _E(n){const t=ie.fromString(n);return Kt(AE(t),10190,{key:t.toString()}),t}function ip(n,t){return $p(n.databaseId,t.path)}function Tm(n,t){const i=_E(t);if(i.get(1)!==n.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(TE(i))}function bE(n,t){return $p(n.databaseId,t)}function NC(n){const t=_E(n);return t.length===4?ie.emptyPath():TE(t)}function sp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TE(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yb(n,t,i){return{name:ip(n,t),fields:i.value.mapValue.fields}}function DC(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?et.UNKNOWN:pE(g.code);return new ht(v,g.message||"")})(c);i=new yE(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Tm(n,r.document.name),u=Li(r.document.updateTime),c=r.document.createTime?Li(r.document.createTime):At.min(),m=new yn({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new fh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Tm(n,r.document),u=r.readTime?Li(r.readTime):At.min(),c=nn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Tm(n,r.document),u=r.removedTargetIds||[];i=new fh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new _C(o,u),m=r.targetId;i=new gE(m,c)}}return i}function VC(n,t){let i;if(t instanceof mu)i={update:yb(n,t.key,t.value)};else if(t instanceof Kp)i={delete:ip(n,t.key)};else if(t instanceof mr)i={update:yb(n,t.key,t.data),updateMask:BC(t.fieldMask)};else{if(!(t instanceof gC))return bt(16599,{Vt:t.type});i={verify:ip(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Ch)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),i}function MC(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?Li(o.updateTime):Li(u);return c.isEqual(At.min())&&(c=Li(u)),new dC(c,o.transformResults||[])})(i,t)))):[]}function IC(n,t){return{documents:[bE(n,t.path)]}}function OC(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=bE(n,o);const u=(function(g){if(g.length!==0)return xE(ci.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:no(x.field),direction:LC(x.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const m=ep(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function jC(n){let t=NC(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const x=EE(b);return x instanceof ci&&W1(x)?x.getFilters():[x]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((x=>(function(L){return new Rh(io(L.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(x)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,Yh(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(b){const x=!!b.before,C=b.values||[];return new wh(C,x)})(i.startAt));let g=null;return i.endAt&&(g=(function(b){const x=!b.before,C=b.values||[];return new wh(C,x)})(i.endAt)),tC(t,o,c,u,m,"F",p,g)}function PC(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=io(i.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(i.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=io(i.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Ve.create(io(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((r=>EE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(n):bt(30097,{filter:n})}function LC(n){return AC[n]}function kC(n){return SC[n]}function UC(n){return wC[n]}function no(n){return{fieldPath:n.canonicalString()}}function io(n){return Ze.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof Ve?(function(i){if(i.op==="=="){if(sb(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(ib(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sb(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(ib(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:kC(i.op),value:i.value}}})(n):n instanceof ci?(function(i){const r=i.getFilters().map((o=>xE(o)));return r.length===1?r[0]:{compositeFilter:{op:UC(i.op),filters:r}}})(n):bt(54877,{filter:n})}function BC(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,i,r,o,u=At.min(),c=At.min(),m=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.yt=t}}function FC(n){const t=jC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Cn=new HC}addToCollectionParentIndex(t,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(ar.min())}updateCollectionGroup(t,i,r){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class HC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new ke(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(SE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="LruGarbageCollector",GC=1048576;function bb([n,t],[i,r]){const o=Pt(n,i);return o===0?Pt(t,r):o}class YC{constructor(t){this.Ir=t,this.buffer=new ke(bb),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();bb(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(_b,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?ft(_b,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.Vr(3e5)}))}}class QC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(Gh.ce);const r=new YC(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(vb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vb):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(g=Date.now(),to()<=zt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function XC(n,t){return new QC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Ql(r.mutation,o,Nn.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const o=$r();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Ul();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=$r();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=ms();const c=Kl(),m=(function(){return Kl()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof mr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ql(v.mutation,g,v.mutation.getFieldMask(),ae.now())):c.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new ZC(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=Kl();let o=new he(((c,m)=>c-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Nn.empty();v=m.applyToLocalView(g,v),r.set(p,v);const b=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=oE();v.forEach((x=>{if(!u.has(x)){const C=dE(i.get(x),r.get(x));C!==null&&b.set(x,C),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):nt.resolve($r());let m=eu,p=u;return c.next((g=>nt.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Lt()))).next((v=>({batchId:m,changes:aE(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((r=>{let o=Ul();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Ul();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(b,x){return new du(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))}));let m=Ul();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Ql(v.mutation,g,Nn.empty(),ae.now()),Xh(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:FC(o.bundledQuery),readTime:Li(o.readTime)}})(i)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.overlays=new he(vt.comparator),this.qr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=$r();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),nt.resolve()}getOverlaysForCollection(t,i,r){const o=$r(),u=i.length+1,c=new vt(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new he(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=$r(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=$r(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new vC(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Qr=new ke(qe.$r),this.Ur=new ke(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new vt(new ie([])),r=new qe(i,t),o=new qe(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ie([])),r=new qe(i,t),o=new qe(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(qe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yC(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Bp:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Pt);return i.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),nt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new vt(u),0);let m=new ke(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),nt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return nt.forEach(i.mutations,(o=>{const u=new qe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new qe(i,0),o=this.Zr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t){this.ri=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let r=ms();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=ms();const c=i.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||MR(VR(v),r)<=0||(o.has(v.key)||Xh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}ii(t,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new s4(this)}getSize(t){return nt.resolve(this.size)}}class s4 extends $C{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),nt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t){this.persistence=t,this.si=new oa((i=>qp(i)),Hp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),nt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new vo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.Pr(i),nt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return nt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),nt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return nt.resolve(r)}containsKey(t,i){return nt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new e4,this.referenceDelegate=t(this),this.Pi=new r4(this),this.indexManager=new qC,this.remoteDocumentCache=(function(o){return new i4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zC(i),this.Ii=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new t4,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new n4(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ft("MemoryPersistence","Starting transaction:",t);const o=new a4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return nt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class a4 extends OR{constructor(t){super(),this.currentSequenceNumber=t}}class Wp{constructor(t){this.persistence=t,this.Ri=new Zp,this.Vi=null}static mi(t){return new Wp(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),nt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Vh{constructor(t,i){this.persistence=t,this.pi=new oa((r=>LR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=XC(this,i)}static mi(t,i){return new Vh(t,i)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return nt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uh(t.data.value)),i}br(t,i,r){return nt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rw()?8:jR(iw())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new o4;return this.Ss(t,i,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,c,m.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(to()<=zt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(to()<=zt.DEBUG&&ft("QueryEngine","Query:",eo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(to()<=zt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):nt.resolve())}ys(t,i){if(lb(i))return nt.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=tp(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Lt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,c,p.readTime)?this.ys(t,tp(i,null,"F")):this.vs(t,g,i,p)}))))})))))}ws(t,i,r,o){return lb(i)||o.isEqual(At.min())?nt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?nt.resolve(null):(to()<=zt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(i)),this.vs(t,c,i,DR(o,eu)).next((m=>m)))}))}Ds(t,i){let r=new ke(sE(t));return i.forEach(((o,u)=>{Xh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return to()<=zt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",eo(i)),this.ps.getDocumentsMatchingQuery(t,i,ar.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",u4=3e8;class c4{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new he(Pt),this.xs=new oa((u=>qp(u)),Hp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function h4(n,t,i,r){return new c4(n,t,i,r)}async function RE(n,t){const i=wt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Lt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function f4(n,t){const i=wt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,x=b.keys();let C=nt.resolve();return x.forEach((L=>{C=C.next((()=>v.getEntry(p,L))).next((U=>{const B=g.docVersions.get(L);Kt(B!==null,48541),U.version.compareTo(B)<0&&(b.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Lt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function CE(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function d4(n,t){const i=wt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const x=o.get(b);if(!x)return;m.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let C=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(b,C),(function(U,B,G){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=u4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(x,C,v)&&m.push(i.Pi.updateTargetData(u,C))}));let p=ms(),g=Lt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(m4(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(At.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return nt.waitFor(m).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function m4(n,t,i){let r=Lt(),o=Lt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=ms();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ft(tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function p4(n,t){const i=wt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Bp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function g4(n,t){const i=wt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Ws(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function rp(n,t,i){const r=wt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ao(c))throw c;ft(tg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Tb(n,t,i){const r=wt(n);let o=At.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=wt(p),x=b.xs.get(v);return x!==void 0?nt.resolve(b.Ms.get(x)):b.Pi.getTargetData(g,v)})(r,c,Pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:At.min(),i?u:Lt()))).next((m=>(y4(r,nC(t),m),{documents:m,Qs:u})))))}function y4(n,t,i){let r=n.Os.get(t)||At.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class Eb{constructor(){this.activeTargetIds=lC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class v4{constructor(){this.Mo=new Eb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Eb,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="ConnectivityMonitor";class Ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(xb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function ap(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=ap(),m=this.zo(t,i.toUriEncodedString());ft(Em,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=qh(g);return this.Jo(t,m,p,r,v).then((b=>(ft(Em,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw mo(Em,`RPC '${t}' ${c} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=b4[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class x4 extends T4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=ap();return new Promise(((m,p)=>{const g=new V1;g.setWithCredentials(!0),g.listenOnce(M1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const b=g.getResponseJson();ft(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case lh.TIMEOUT:ft(tn,`RPC '${t}' ${c} timed out`),p(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const x=g.getStatus();if(ft(tn,`RPC '${t}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const U=(function(G){const J=G.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(J)>=0?J:et.UNKNOWN})(L.status);p(new ht(U,L.message))}else p(new ht(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(et.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ft(tn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=ap(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=j1(),m=O1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let x=!1,C=!1;const L=new E4({Yo:B=>{C?ft(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(x||(ft(tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),x=!0),ft(tn,`RPC '${t}' stream ${o} sending:`,B),b.send(B))},Zo:()=>b.close()}),U=(B,G,J)=>{B.listen(G,(F=>{try{J(F)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return U(b,kl.EventType.OPEN,(()=>{C||(ft(tn,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),U(b,kl.EventType.CLOSE,(()=>{C||(C=!0,ft(tn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(b))})),U(b,kl.EventType.ERROR,(B=>{C||(C=!0,mo(tn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),L.a_(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),U(b,kl.EventType.MESSAGE,(B=>{var G;if(!C){const J=B.data[0];Kt(!!J,16349);const F=J,rt=(F==null?void 0:F.error)||((G=F[0])==null?void 0:G.error);if(rt){ft(tn,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let it=(function(N){const I=Ne[N];if(I!==void 0)return pE(I)})(at),R=rt.message;it===void 0&&(it=et.INTERNAL,R="Unknown error status: "+at+" with message "+rt.message),C=!0,L.a_(new ht(it,R)),b.close()}else ft(tn,`RPC '${t}' stream ${o} received:`,J),L.u_(J)}})),U(m,I1.STAT_EVENT,(B=>{B.stat===Km.PROXY?ft(tn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Km.NOPROXY&&ft(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return new RC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="PersistentStream";class DE{constructor(t,i,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new ht(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Sb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ft(Sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A4 extends DE{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=DC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Li(c.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=sp(this.serializer),i.addTarget=(function(u,c){let m;const p=c.target;if(m=Wm(p)?{documents:IC(u,p)}:{query:OC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=vE(u,c.resumeToken);const g=ep(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=Dh(u,c.snapshotVersion.toTimestamp());const g=ep(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=PC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=sp(this.serializer),i.removeTarget=t,this.q_(i)}}class S4 extends DE{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=MC(t.writeResults,t.commitTime),r=Li(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=sp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>VC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{}class R4 extends w4{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,np(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(et.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,np(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C4{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class N4{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{la(this)&&(ft(sa,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tf(g)})(this))}))})),this.Ra=new C4(r,o)}}async function tf(n){if(la(n))for(const t of n.da)await t(!0)}async function gu(n){for(const t of n.da)await t(!1)}function VE(n,t){const i=wt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):So(i).O_()&&ng(i,t))}function eg(n,t){const i=wt(n),r=So(i);i.Ia.delete(t),r.O_()&&ME(i,t),i.Ia.size===0&&(r.O_()?r.L_():la(i)&&i.Ra.set("Unknown"))}function ng(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}So(n).Y_(t)}function ME(n,t){n.Va.Ue(t),So(n).Z_(t)}function ig(n){n.Va=new xC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),So(n).start(),n.Ra.ua()}function sg(n){return la(n)&&!So(n).x_()&&n.Ia.size>0}function la(n){return wt(n).Ea.size===0}function IE(n){n.Va=void 0}async function D4(n){n.Ra.set("Online")}async function V4(n){n.Ia.forEach(((t,i)=>{ng(n,t)}))}async function M4(n,t){IE(n),sg(n)?(n.Ra.ha(t),ig(n)):n.Ra.set("Unknown")}async function I4(n,t,i){if(n.Ra.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(n,t)}catch(r){ft(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Mh(n,r)}else if(t instanceof fh?n.Va.Ze(t):t instanceof gE?n.Va.st(t):n.Va.tt(t),!i.isEqual(At.min()))try{const r=await CE(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),ME(u,p);const b=new Ws(v.target,p,g,v.sequenceNumber);ng(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){ft(sa,"Failed to raise snapshot:",r),await Mh(n,r)}}async function Mh(n,t,i){if(!Ao(t))throw t;n.Ea.add(1),await gu(n),n.Ra.set("Offline"),i||(i=()=>CE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(sa,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await tf(n)}))}function OE(n,t){return t().catch((i=>Mh(n,i,t)))}async function ef(n){const t=wt(n),i=cr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bp;for(;O4(t);)try{const o=await p4(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,j4(t,o)}catch(o){await Mh(t,o)}jE(t)&&PE(t)}function O4(n){return la(n)&&n.Ta.length<10}function j4(n,t){n.Ta.push(t);const i=cr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function jE(n){return la(n)&&!cr(n).x_()&&n.Ta.length>0}function PE(n){cr(n).start()}async function P4(n){cr(n).ra()}async function L4(n){const t=cr(n);for(const i of n.Ta)t.ea(i.mutations)}async function k4(n,t,i){const r=n.Ta.shift(),o=Qp.from(r,t,i);await OE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ef(n)}async function U4(n,t){t&&cr(n).X_&&await(async function(r,o){if((function(c){return bC(c)&&c!==et.ABORTED})(o.code)){const u=r.Ta.shift();cr(r).B_(),await OE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(r)}})(n,t),jE(n)&&PE(n)}async function wb(n,t){const i=wt(n);i.asyncQueue.verifyOperationInProgress(),ft(sa,"RemoteStore received new credentials");const r=la(i);i.Ea.add(3),await gu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await tf(i)}async function B4(n,t){const i=wt(n);t?(i.Ea.delete(2),await tf(i)):t||(i.Ea.add(2),await gu(i),i.Ra.set("Unknown"))}function So(n){return n.ma||(n.ma=(function(i,r,o){const u=wt(i);return u.sa(),new A4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:D4.bind(null,n),t_:V4.bind(null,n),r_:M4.bind(null,n),H_:I4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),sg(n)?ig(n):n.Ra.set("Unknown")):(await n.ma.stop(),IE(n))}))),n.ma}function cr(n){return n.fa||(n.fa=(function(i,r,o){const u=wt(i);return u.sa(),new S4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:P4.bind(null,n),r_:U4.bind(null,n),ta:L4.bind(null,n),na:k4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await ef(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(sa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new rg(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(n,t){if(ds("AsyncQueue",`${t}: ${n}`),Ao(n))return new ht(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.ga=new he(vt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class _o{constructor(t,i,r,o,u,c,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((m=>{c.push({type:0,doc:m})})),new _o(t,i,co.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class F4{constructor(){this.queries=Cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=wt(i),u=o.queries;o.queries=Cb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function Cb(){return new oa((n=>iE(n)),Qh)}async function LE(n,t){const i=wt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new z4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const m=ag(c,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&og(i)}async function kE(n,t){const i=wt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function q4(n,t){const i=wt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&og(i)}function H4(n,t,i){const r=wt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function og(n){n.Ca.forEach((t=>{t.next()}))}var op,Nb;(Nb=op||(op={})).Ma="default",Nb.Cache="cache";class UE{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t){this.key=t}}class zE{constructor(t){this.key=t}}class G4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=sE(t),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Rb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const x=o.get(v),C=Xh(this.query,b)?b:null,L=!!x&&this.mutatedKeys.has(x.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;x&&C?x.data.isEqual(C.data)?L!==U&&(r.track({type:3,doc:C}),B=!0):this.su(x,C)||(r.track({type:2,doc:C}),B=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!x&&C?(r.track({type:0,doc:C}),B=!0):x&&!C&&(r.track({type:1,doc:x}),B=!0,(p||g)&&(m=!0)),B&&(C?(c=c.add(C),u=U?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(C,L){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:B})}};return U(C)-U(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new _o(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new zE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new BE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class Y4{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class K4{constructor(t){this.key=t,this.hu=!1}}class Q4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oa((m=>iE(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new he(vt.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X4(n,t,i=!0){const r=KE(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FE(r,t,i,!0),o}async function $4(n,t){const i=KE(n);await FE(i,t,!0,!1)}async function FE(n,t,i,r){const o=await g4(n.localStore,Pi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await Z4(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&VE(n.remoteStore,o),m}async function Z4(n,t,i,r,o){n.pu=(b,x,C)=>(async function(U,B,G,J){let F=B.view.ru(G);F.Cs&&(F=await Tb(U.localStore,B.query,!1).then((({documents:R})=>B.view.ru(R,F))));const rt=J&&J.targetChanges.get(B.targetId),at=J&&J.targetMismatches.get(B.targetId)!=null,it=B.view.applyChanges(F,U.isPrimaryClient,rt,at);return Vb(U,B.targetId,it.au),it.snapshot})(n,b,x,C);const u=await Tb(n.localStore,t,!0),c=new G4(t,u.Qs),m=c.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);Vb(n,i,g.au);const v=new Y4(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function W4(n,t,i){const r=wt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Qh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&eg(r.remoteStore,o.targetId),lp(r,o.targetId)})).catch(xo)):(lp(r,o.targetId),await rp(r.localStore,o.targetId,!0))}async function J4(n,t){const i=wt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),eg(i.remoteStore,r.targetId))}async function tN(n,t,i){const r=oN(n);try{const o=await(function(c,m){const p=wt(c),g=ae.now(),v=m.reduce(((C,L)=>C.add(L.key)),Lt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=ms(),U=Lt();return p.Ns.getEntries(C,v).next((B=>{L=B,L.forEach(((G,J)=>{J.isValidDocument()||(U=U.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((B=>{b=B;const G=[];for(const J of m){const F=pC(J,b.get(J.key).overlayedDocument);F!=null&&G.push(new mr(J.key,F,X1(F.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,G,m)})).next((B=>{x=B;const G=B.applyToLocalDocumentSet(b,U);return p.documentOverlayCache.saveOverlays(C,B.batchId,G)}))})).then((()=>({batchId:x.batchId,changes:aE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(Pt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await yu(r,o.changes),await ef(r.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");i.reject(u)}}async function qE(n,t){const i=wt(n);try{const r=await d4(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await yu(i,r,t)}catch(r){await xo(r)}}function Db(n,t,i){const r=wt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const x of b.Sa)x.va(m)&&(g=!0)})),g&&og(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eN(n,t,i){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(vt.comparator);c=c.insert(u,nn.newNoDocument(u,At.min()));const m=Lt().add(u),p=new Wh(At.min(),new Map,new he(Pt),c,m);await qE(r,p),r.du=r.du.remove(u),r.Au.delete(t),ug(r)}else await rp(r.localStore,t,!1).then((()=>lp(r,t,i))).catch(xo)}async function nN(n,t){const i=wt(n),r=t.batch.batchId;try{const o=await f4(i.localStore,t);GE(i,r,null),HE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await yu(i,o)}catch(o){await xo(o)}}async function iN(n,t,i){const r=wt(n);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Kt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);GE(r,t,i),HE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await yu(r,o)}catch(o){await xo(o)}}function HE(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function GE(n,t,i){const r=wt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function lp(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||YE(n,r)}))}function YE(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(eg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),ug(n))}function Vb(n,t,i){for(const r of i)r instanceof BE?(n.Ru.addReference(r.key,t),sN(n,r)):r instanceof zE?(ft(lg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||YE(n,r.key)):bt(19791,{wu:r})}function sN(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(ft(lg,"New document in limbo: "+i),n.Eu.add(r),ug(n))}function ug(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new vt(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new K4(i)),n.du=n.du.insert(i,r),VE(n.remoteStore,new Ws(Pi(Gp(i.path)),r,"TargetPurposeLimboResolution",Gh.ce))}}async function yu(n,t,i){const r=wt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{var v;if((g||i)&&r.isPrimaryClient){const b=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Jp.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(g,(x=>nt.forEach(x.Es,(C=>v.persistence.referenceDelegate.addReference(b,x.targetId,C))).next((()=>nt.forEach(x.ds,(C=>v.persistence.referenceDelegate.removeReference(b,x.targetId,C)))))))))}catch(b){if(!Ao(b))throw b;ft(tg,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const C=v.Ms.get(x),L=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(x,U)}}})(r.localStore,u))}async function rN(n,t){const i=wt(n);if(!i.currentUser.isEqual(t)){ft(lg,"User change. New user:",t.toKey());const r=await RE(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ht(et.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await yu(i,r.Ls)}}function aN(n,t){const i=wt(n),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const m=i.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function KE(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eN.bind(null,t),t.Pu.H_=q4.bind(null,t.eventManager),t.Pu.yu=H4.bind(null,t.eventManager),t}function oN(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return h4(this.persistence,new l4,t.initialUser,this.serializer)}Cu(t){return new wE(Wp.mi,this.serializer)}Du(t){return new v4}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class lN extends Ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new wE((r=>Vh.mi(r,i)),this.serializer)}}class up{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Db(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await B4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new F4})()}createDatastore(t){const i=Jh(t.databaseInfo.databaseId),r=(function(u){return new x4(u)})(t.databaseInfo);return(function(u,c,m,p){return new R4(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new N4(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>Db(this.syncEngine,i,0)),(function(){return Ab.v()?new Ab:new _4})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const b=new Q4(o,u,c,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=wt(o);ft(sa,"RemoteStore shutting down."),u.Ea.add(5),await gu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class uN{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ft(hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ft(hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ag(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Am(n,t){n.asyncQueue.verifyOperationInProgress(),ft(hr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await RE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Mb(n,t){n.asyncQueue.verifyOperationInProgress();const i=await cN(n);ft(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>wb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>wb(t.remoteStore,o))),n._onlineComponents=t}async function cN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(hr,"Using user provided OfflineComponentProvider");try{await Am(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;mo("Error using user provided cache. Falling back to memory cache: "+i),await Am(n,new Ih)}}else ft(hr,"Using default OfflineComponentProvider"),await Am(n,new lN(void 0));return n._offlineComponents}async function XE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(hr,"Using user provided OnlineComponentProvider"),await Mb(n,n._uninitializedComponentsProvider._online)):(ft(hr,"Using default OnlineComponentProvider"),await Mb(n,new up))),n._onlineComponents}function hN(n){return XE(n).then((t=>t.syncEngine))}async function cp(n){const t=await XE(n),i=t.eventManager;return i.onListen=X4.bind(null,t.syncEngine),i.onUnlisten=W4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=J4.bind(null,t.syncEngine),i}function fN(n,t,i={}){const r=new ir;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new QE({next:x=>{v.Nu(),c.enqueueAndForget((()=>kE(u,b))),x.fromCache&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new UE(m,v,{includeMetadataChanges:!0,qa:!0});return LE(u,b)})(await cp(n),n.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firestore.googleapis.com",Ob=!0;class jb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Ob}else this.host=t.host,this.ssl=t.ssl??Ob;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GC)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nf{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _R;switch(r.type){case"firstParty":return new xR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Ib.get(i);r&&(ft("ComponentProvider","Removing Datastore"),Ib.delete(i),r.terminate())})(this),Promise.resolve()}}function dN(n,t,i,r={}){var g;n=ji(n,nf);const o=qh(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(g1(`https://${m}`),v1("Firestore",!0)),u.host!==ZE&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Th(p,c)&&(n._setSettings(p),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=en.MOCK_USER;else{v=y1(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(x)}n._authCredentials=new bR(new L1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class Ie{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(fu(i,Ie._jsonSchema))return new Ie(t,r||null,new vt(ie.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Me("string",Ie._jsonSchemaVersion),referencePath:Me("string")};class sr extends ua{constructor(t,i,r){super(t,i,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new vt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function wo(n,t,...i){if(n=ui(n),k1("collection","path",t),n instanceof nf){const r=ie.fromString(t,...i);return Q_(r),new sr(n,null,r)}{if(!(n instanceof Ie||n instanceof sr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return Q_(r),new sr(n.firestore,null,r)}}function sf(n,t,...i){if(n=ui(n),arguments.length===1&&(t=Up.newId()),k1("doc","path",t),n instanceof nf){const r=ie.fromString(t,...i);return K_(r),new Ie(n,null,new vt(r))}{if(!(n instanceof Ie||n instanceof sr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return K_(r),new Ie(n.firestore,n instanceof sr?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="AsyncQueue";class Lb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const r=xm();r&&ft(Pb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=xm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ao(t))throw t;ft(Pb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",kb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=rg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function kb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class ra extends nf{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Lb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lb(t),this._firestoreClient=void 0,await t}}}function mN(n,t){const i=typeof n=="object"?n:R1(),r=typeof n=="string"?n:Ah,o=x1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=m1("firestore");u&&dN(o,...u)}return o}function cg(n){if(n._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pN(n),n._firestoreClient}function pN(n){var r,o,u;const t=n._freezeSettings(),i=(function(m,p,g,v){return new BR(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$E(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new uN(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(We.fromBase64String(t))}catch(i){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fu(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Me("string",Hn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(fu(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Me("string",ki._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fu(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Me("string",Ui._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^__.*__$/;class yN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new mr(t,this.data,this.fieldMask,i,this.fieldTransforms):new mu(t,this.data,i,this.fieldTransforms)}}class WE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new mr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:n})}}class fg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JE(this.Ac)&&gN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class vN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Jh(t)}Cc(t,i,r,o=!1){return new fg({Ac:t,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(n){const t=n._freezeSettings(),i=Jh(n._databaseId);return new vN(n._databaseId,!!t.ignoreUndefinedProperties,i)}function _N(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);mg("Data must be an object, but it was:",c,r);const m=tx(r,c);let p,g;if(u.merge)p=new Nn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const x=hp(t,b,i);if(!c.contains(x))throw new ht(et.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nx(v,x)||v.push(x)}p=new Nn(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new yN(new yn(m),p,g)}class af extends hg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}function bN(n,t,i,r){const o=n.Cc(1,t,i);mg("Data must be an object, but it was:",o,r);const u=[],c=yn.empty();dr(r,((p,g)=>{const v=pg(t,p,i);g=ui(g);const b=o.yc(v);if(g instanceof af)u.push(v);else{const x=vu(g,b);x!=null&&(u.push(v),c.set(v,x))}}));const m=new Nn(u);return new WE(c,m,o.fieldTransforms)}function TN(n,t,i,r,o,u){const c=n.Cc(1,t,i),m=[hp(t,r,i)],p=[o];if(u.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(hp(t,u[x])),p.push(u[x+1]);const g=[],v=yn.empty();for(let x=m.length-1;x>=0;--x)if(!nx(g,m[x])){const C=m[x];let L=p[x];L=ui(L);const U=c.yc(C);if(L instanceof af)g.push(C);else{const B=vu(L,U);B!=null&&(g.push(C),v.set(C,B))}}const b=new Nn(g);return new WE(v,b,c.fieldTransforms)}function EN(n,t,i,r=!1){return vu(i,n.Cc(r?4:3,t))}function vu(n,t){if(ex(n=ui(n)))return mg("Unsupported field value:",t,n),tx(n,t);if(n instanceof hg)return(function(r,o){if(!JE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=vu(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:Dh(o.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:vE(o.serializer,r._byteString)};if(r instanceof Ie){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ui)return(function(c,m){return{mapValue:{fields:{[K1]:{stringValue:Q1},[Sh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Yp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Hh(r)}`)})(n,t)}function tx(n,t){const i={};return z1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dr(n,((r,o)=>{const u=vu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ae||n instanceof ki||n instanceof Hn||n instanceof Ie||n instanceof hg||n instanceof Ui)}function mg(n,t,i){if(!ex(i)||!U1(i)){const r=Hh(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function hp(n,t,i){if((t=ui(t))instanceof rf)return t._internalPath;if(typeof t=="string")return pg(n,t);throw Oh("Field path arguments must be of type string or ",n,!1,void 0,i)}const xN=new RegExp("[~\\*/\\[\\]]");function pg(n,t,i){if(t.search(xN)>=0)throw Oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new rf(...t.split("."))._internalPath}catch{throw Oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Oh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new ht(et.INVALID_ARGUMENT,m+n+p)}function nx(n,t){return n.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AN extends ix{data(){return super.data()}}function gg(n,t){return typeof t=="string"?pg(n,t):t instanceof rf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class SN extends yg{}function rx(n,t,...i){let r=[];t instanceof yg&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((p=>p instanceof vg)).length,m=u.filter((p=>p instanceof of)).length;if(c>1||c>0&&m>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class of extends SN{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new of(t,i,r)}_apply(t){const i=this._parse(t);return ox(t._query,i),new ua(t.firestore,t.converter,Jm(t._query,i))}_parse(t){const i=dg(t.firestore);return(function(u,c,m,p,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){zb(b,v);const L=[];for(const U of b)L.push(Bb(p,u,U));x={arrayValue:{values:L}}}else x=Bb(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||zb(b,v),x=EN(m,c,b,v==="in"||v==="not-in");return Ve.create(g,v,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function ax(n,t,i){const r=t,o=gg("where",n);return of._create(o,r,i)}class vg extends yg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new vg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)ox(c,p),c=Jm(c,p)})(t._query,i),new ua(t.firestore,t.converter,Jm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bb(n,t,i){if(typeof(i=ui(i))=="string"){if(i==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(t)&&i.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ie.fromString(i));if(!vt.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nb(n,new vt(r))}if(i instanceof Ie)return nb(n,i._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(i)}.`)}function zb(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ox(n,t){const i=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class wN{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return dr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var r,o,u;const i=(u=(o=(r=t.fields)==null?void 0:r[Sh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>_e(c.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new ki(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Kh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const i=or(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Kt(AE(r),9688,{name:t});const o=new iu(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(i)||ds(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class zl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends ix{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(gg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Me("string",Jr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class dh extends Jr{data(t={}){return super.data(t)}}class ta{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new dh(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:CN(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ta._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function CN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Me("string",ta._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class _g extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function NN(n){n=ji(n,ua);const t=ji(n.firestore,ra),i=cg(t),r=new _g(t);return sx(n._query),fN(i,n._query).then((o=>new ta(t,r,n,o)))}function DN(n,t,i,...r){n=ji(n,Ie);const o=ji(n.firestore,ra),u=dg(o);let c;return c=typeof(t=ui(t))=="string"||t instanceof rf?TN(u,"updateDoc",n._key,t,i,r):bN(u,"updateDoc",n._key,t),Eg(o,[c.toMutation(n._key,li.exists(!0))])}function VN(n){return Eg(ji(n.firestore,ra),[new Kp(n._key,li.none())])}function bg(n,t){const i=ji(n.firestore,ra),r=sf(n),o=RN(n.converter,t);return Eg(i,[_N(dg(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,li.exists(!1))]).then((()=>r))}function Tg(n,...t){var p,g,v;n=ui(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Ub(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ub(t[r])){const b=t[r];t[r]=(p=b.next)==null?void 0:p.bind(b),t[r+1]=(g=b.error)==null?void 0:g.bind(b),t[r+2]=(v=b.complete)==null?void 0:v.bind(b)}let u,c,m;if(n instanceof Ie)c=ji(n.firestore,ra),m=Gp(n._key.path),u={next:b=>{t[r]&&t[r](MN(c,n,b))},error:t[r+1],complete:t[r+2]};else{const b=ji(n,ua);c=ji(b.firestore,ra),m=b._query;const x=new _g(c);u={next:C=>{t[r]&&t[r](new ta(c,x,b,C))},error:t[r+1],complete:t[r+2]},sx(n._query)}return(function(x,C,L,U){const B=new QE(U),G=new UE(C,B,L);return x.asyncQueue.enqueueAndForget((async()=>LE(await cp(x),G))),()=>{B.Nu(),x.asyncQueue.enqueueAndForget((async()=>kE(await cp(x),G)))}})(cg(c),m,o,u)}function Eg(n,t){return(function(r,o){const u=new ir;return r.asyncQueue.enqueueAndForget((async()=>tN(await hN(r),o,u))),u.promise})(cg(n),t)}function MN(n,t,i){const r=i.docs.get(t._key),o=new _g(n);return new Jr(n,o,t._key,r,new zl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Eo=o})(S1),Jl(new fo("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new ra(new TR(r.getProvider("auth-internal")),new AR(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),er(q_,H_,t),er(q_,H_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firebasestorage.googleapis.com",IN="storageBucket",ON=120*1e3,jN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends aa{constructor(t,i,r=0){super(Sm(t),`Firebase Storage: ${i} (${Sm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Sm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function Sm(n){return"storage/"+n}function PN(){const n="An unknown error occurred, please check the error payload for server response.";return new Yi(qi.UNKNOWN,n)}function LN(){return new Yi(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kN(){return new Yi(qi.CANCELED,"User canceled the upload/download.")}function UN(n){return new Yi(qi.INVALID_URL,"Invalid URL '"+n+"'.")}function BN(n){return new Yi(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Fb(n){return new Yi(qi.INVALID_ARGUMENT,n)}function ux(){return new Yi(qi.APP_DELETED,"The Firebase app was deleted.")}function zN(n){return new Yi(qi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=oi.makeFromUrl(t,i)}catch{return new oi(t,"")}if(r.path==="")return r;throw BN(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const v="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${v}/b/${o}/o${x}`,"i"),L={bucket:1,path:3},U=i===lx?"(?:storage.googleapis.com|storage.cloud.google.com)":i,B="([^?#]*)",G=new RegExp(`^https?://${U}/${o}/${B}`,"i"),F=[{regex:m,indices:p,postModify:u},{regex:C,indices:L,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<F.length;rt++){const at=F[rt],it=at.regex.exec(t);if(it){const R=it[at.indices.bucket];let S=it[at.indices.path];S||(S=""),r=new oi(R,S),at.postModify(r);break}}if(r==null)throw UN(t);return r}}class FN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,t,i){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...B){g||(g=!0,t.apply(null,B))}function b(B){o=setTimeout(()=>{o=null,n(C,p())},B)}function x(){u&&clearTimeout(u)}function C(B,...G){if(g){x();return}if(B){x(),v.call(null,B,...G);return}if(p()||c){x(),v.call(null,B,...G);return}r<64&&(r*=2);let F;m===1?(m=2,F=0):F=(r+Math.random())*1e3,b(F)}let L=!1;function U(B){L||(L=!0,x(),!g&&(o!==null?(B||(m=2),clearTimeout(o),b(0)):B||(m=1)))}return b(0),u=setTimeout(()=>{c=!0,U(!0)},i),U}function HN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){return n!==void 0}function qb(n,t,i,r){if(r<t)throw Fb(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>i)throw Fb(`Invalid value for '${n}'. Expected ${i} or less.`)}function YN(n){const t=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var jh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(jh||(jh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n,t){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,i,r,o,u,c,m,p,g,v,b,x=!0,C=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,U)=>{this.resolve_=L,this.reject_=U,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===jh.NO_ERROR,p=u.getStatus();if(!m||KN(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===jh.ABORT;r(!1,new ih(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new ih(g,u))})},i=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());GN(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=PN();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?ux():kN();c(p)}else{const p=LN();c(p)}};this.canceled_?i(!1,new ih(!1,null,!0)):this.backoffId_=qN(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&HN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function XN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function $N(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ZN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function WN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function JN(n,t,i,r,o,u,c=!0,m=!1){const p=YN(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return ZN(v,t),XN(v,i),$N(v,u),WN(v,r),new QN(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function eD(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,i){this._service=t,i instanceof oi?this._location=i:this._location=oi.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Ph(t,i)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eD(this._location.path)}get storage(){return this._service}get parent(){const t=tD(this._location.path);if(t===null)return null;const i=new oi(this._location.bucket,t);return new Ph(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw zN(t)}}function Hb(n,t){const i=t==null?void 0:t[IN];return i==null?null:oi.makeFromBucketSpec(i,n)}function nD(n,t,i,r={}){n.host=`${t}:${i}`;const o=qh(t);o&&(g1(`https://${n.host}/b`),v1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(n._overrideAuthToken=typeof u=="string"?u:y1(u,n.app.options.projectId))}class iD{constructor(t,i,r,o,u,c=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=lx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ON,this._maxUploadRetryTime=jN,this._requests=new Set,o!=null?this._bucket=oi.makeFromBucketSpec(o,this._host):this._bucket=Hb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,t):this._bucket=Hb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(A1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ph(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new FN(ux());{const c=JN(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const Gb="@firebase/storage",Yb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="storage";function sD(n=R1(),t){n=ui(n);const r=x1(n,cx).getImmediate({identifier:t}),o=m1("storage");return o&&rD(r,...o),r}function rD(n,t,i,r={}){nD(n,t,i,r)}function aD(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new iD(i,r,o,t,S1)}function oD(){Jl(new fo(cx,aD,"PUBLIC").setMultipleInstances(!0)),er(Gb,Yb,""),er(Gb,Yb,"esm2020")}oD();var lD="firebase",uD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(lD,uD,"app");const Fl={apiKey:"AIzaSyDMP1qs_egJbyS2rWiZihynlbA_HBbiMi0",authDomain:"manas-nidar-trip.firebaseapp.com",projectId:"manas-nidar-trip",storageBucket:"manas-nidar-trip.firebasestorage.app",messagingSenderId:"268881524512",appId:"1:268881524512:web:f66e24a451fb51b537c945",measurementId:"G-BVBR6CN7JG"},cD=()=>Fl.apiKey&&!Fl.apiKey.includes("YOUR_")&&Fl.projectId&&!Fl.projectId.includes("YOUR_"),hx=w1(Fl),gs=mN(hx);sD(hx);const fx="trips",dx="expenses",lf="settlements",hD=async(n,t,i)=>{try{console.log(" Creating trip with:",{name:n,participants:t,hasAvatars:!!i});const r={name:n,participants:t,memberAvatars:i||{},createdAt:Date.now()};console.log(" Sending to Firestore:",r);const o=await bg(wo(gs,fx),r);return console.log(" Trip created with ID:",o.id),o.id}catch(r){throw console.error(" Create trip error details:",{code:r.code,message:r.message,stack:r.stack}),r}},fD=(n,t)=>Tg(sf(gs,fx,n),i=>{i.exists()?t({id:i.id,...i.data()}):t(null)},i=>{console.error("Firestore Subscribe Error:",i),t(null)}),dD=(n,t)=>{const i=rx(wo(gs,dx),ax("tripId","==",n));return Tg(i,r=>{const o=r.docs.map(u=>({id:u.id,...u.data()}));o.sort((u,c)=>c.createdAt-u.createdAt),t(o)},r=>{console.error("Firestore Expenses Subscribe Error:",r),t([])})},mD=async(n,t)=>{console.log(" Creating expense:",{tripId:n,...t});const i=await bg(wo(gs,dx),{...t,tripId:n,createdAt:Date.now()});return console.log(" Expense created with ID:",i.id),i},Kb=async(n,t,i,r,o)=>(await bg(wo(gs,lf),{tripId:n,from:t,to:i,amount:r,isPaid:!1,proofImageUrl:null,createdAt:Date.now()})).id,pD=async(n,t)=>{const i=sf(gs,lf,n),r={isPaid:t,paidAt:t?Date.now():null};await DN(i,r)},gD=async n=>{const t=sf(gs,lf,n);await VN(t)},yD=(n,t)=>{const i=rx(wo(gs,lf),ax("tripId","==",n));return Tg(i,r=>{const o=r.docs.map(u=>({id:u.id,...u.data()}));t(o)},r=>{console.error("Firestore Settlements Subscribe Error:",r),t([])})},si="/manas-split/",rr=[{id:"manas",image:`${si}pics/manas.png`},{id:"avatar1",image:`${si}pics/Screenshot 2026-01-05 184222.png`},{id:"avatar2",image:`${si}pics/Screenshot 2026-01-05 184242.png`},{id:"avatar3",image:`${si}pics/Screenshot 2026-01-05 184251.png`},{id:"avatar4",image:`${si}pics/Screenshot 2026-01-05 184317.png`},{id:"avatar5",image:`${si}pics/Screenshot 2026-01-05 184328.png`},{id:"avatar6",image:`${si}pics/Screenshot 2026-01-05 184347.png`},{id:"avatar7",image:`${si}pics/Screenshot 2026-01-05 184406.png`},{id:"avatar8",image:`${si}pics/Screenshot 2026-01-05 184426.png`},{id:"avatar9",image:`${si}pics/Screenshot 2026-01-05 184453.png`},{id:"avatar10",image:`${si}pics/Screenshot 2026-01-05 184505.png`}],vD=({onJoin:n})=>{const[t,i]=ot.useState(""),[r,o]=ot.useState(!1),u=async c=>{if(c.preventDefault(),!!t.trim()){o(!0);try{localStorage.setItem("trip_user_name",t.trim()),n(t.trim())}catch(m){console.error("Error joining:",m),alert("Error saving your name. Please try again.")}finally{o(!1)}}};return E.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-6 z-50",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md p-12 text-center border-4 border-[#f49221]",children:[E.jsx("div",{className:"w-24 h-24 bg-[#f49221] rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#f49221]/30 rotate-3",children:E.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),E.jsx("h1",{className:"text-4xl font-bold text-black mb-2 font-pt tracking-tighter uppercase",children:"Manas Split"}),E.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"Smart expense tracking for your crew."}),E.jsxs("form",{onSubmit:u,className:"space-y-8 text-left",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Identify Yourself"}),E.jsx("input",{type:"text",required:!0,value:t,onChange:c=>i(c.target.value),placeholder:"Your Full Name",className:"w-full px-6 py-5 rounded-2xl border-2 border-gray-100 focus:outline-none focus:border-[#f49221] transition-all text-lg font-bold text-black"})]}),E.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#f49221] hover:bg-[#d97e1a] text-white font-bold py-5 rounded-2xl transition-all shadow-xl shadow-[#f49221]/30 disabled:opacity-50 uppercase tracking-widest",children:r?"Authenticating...":"Enter Dashboard"})]})]})})},_D=({onTripSelected:n})=>{const[t,i]=ot.useState("selection"),[r,o]=ot.useState(""),[u,c]=ot.useState(["",""]),[m,p]=ot.useState({}),[g,v]=ot.useState(null),[b,x]=ot.useState(""),[C,L]=ot.useState(!1),[U,B]=ot.useState(""),G=async()=>{try{console.log("Testing Firebase connection...");const F=wo(gs,"trips"),rt=await NN(F);return console.log(" Firebase connected successfully. Found",rt.size,"trips"),{success:!0,error:null}}catch(F){console.error(" Firebase connection error:",F);let rt="Unknown error";return F.code==="permission-denied"?rt=" PERMISSION DENIED - Firebase security rules are NOT allowing access. Your rules may not have been saved properly.":F.code==="unavailable"?rt="Firebase service unavailable. Check your internet connection.":F.message&&(rt=F.message),console.error("Detailed error:",F),{success:!1,error:rt}}},J=async F=>{F.preventDefault();const rt=u.filter(R=>R.trim()!=="");if(!r||rt.length<2)return alert("Trip name and 2+ people needed.");B(""),console.log("Creating trip with:",{tripName:r,participants:rt});const at=await G();if(!at.success){B(`Firebase Error: ${at.error}`);return}L(!0);const it=setTimeout(()=>{L(!1),B("Connection timeout after 8 seconds. Firebase security rules may be blocking writes.")},8e3);try{console.log(" Starting trip creation...");const R=await hD(r,rt,m);clearTimeout(it),console.log(" Trip created successfully with ID:",R),n(R)}catch(R){clearTimeout(it),L(!1),console.error(" Create trip error:",R);let S="Error creating trip: ";R.code==="permission-denied"?S+=" Permission denied. Firebase rules are STILL not set correctly. Please check Firebase Console Firestore Rules.":R.message?S+=R.message:S+="Unknown error. Check browser console (F12) for details.",B(S)}};return t==="create"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black",children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase tracking-tight",children:"New Trip"}),U&&E.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-xl text-red-800 text-sm",children:[E.jsx("p",{className:"font-bold mb-2",children:" Error"}),E.jsx("p",{className:"text-xs leading-relaxed",children:U}),U.includes("security rules")&&E.jsxs("p",{className:"mt-3 text-xs",children:[E.jsx("strong",{children:"Fix:"})," Go to Firebase Console  Firestore Database  Rules and set:",E.jsx("br",{}),E.jsx("code",{className:"block mt-1 bg-red-100 p-2 rounded",children:"allow read, write: if true;"})]})]}),E.jsxs("form",{onSubmit:J,className:"space-y-6",children:[E.jsx("input",{required:!0,className:"w-full px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none font-bold text-black placeholder-gray-400",placeholder:"Destination Name",value:r,onChange:F=>o(F.target.value)}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Participants"}),u.map((F,rt)=>{var at;return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex gap-2 items-center",children:[F.trim()&&m[F]&&E.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border-2 border-[#f49221]",children:E.jsx("img",{src:((at=rr.find(it=>it.id===m[F]))==null?void 0:at.image)||"",alt:F,className:"w-full h-full object-cover"})}),E.jsx("input",{required:!0,className:"flex-1 px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none text-black placeholder-gray-400 font-bold",placeholder:`Friend ${rt+1}`,value:F,onChange:it=>{const R=[...u];R[rt]=it.target.value,c(R)}})]}),F.trim()&&E.jsx("button",{type:"button",onClick:()=>v(F),className:"ml-2 text-xs text-[#f49221] font-bold hover:underline",children:m[F]?" Change Avatar":"+ Add Avatar (Optional)"})]},rt)})]}),E.jsx("button",{type:"button",onClick:()=>c([...u,""]),className:"text-xs text-[#f49221] font-bold uppercase tracking-wider hover:underline ml-1",children:"+ Add Participant"}),E.jsxs("div",{className:"pt-8 flex flex-col gap-4",children:[E.jsx("button",{type:"submit",disabled:C,className:"w-full py-5 bg-[#f49221] text-white rounded-2xl font-bold shadow-xl shadow-[#f49221]/20 uppercase tracking-widest disabled:opacity-50",children:C?"Creating Trip...":"Launch Trip"}),E.jsx("button",{type:"button",onClick:()=>i("selection"),disabled:C,className:"w-full py-4 px-4 border-2 border-black rounded-2xl font-bold text-black uppercase tracking-widest text-xs disabled:opacity-50",children:"Back"})]})]})]}),g&&E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),E.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:rr.map(F=>E.jsx("button",{type:"button",onClick:()=>{p({...m,[g]:F.id}),v(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:E.jsx("img",{src:F.image,alt:"avatar",className:"w-full h-full object-cover"})},F.id))}),E.jsx("button",{onClick:()=>v(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]}):t==="join"?E.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black text-center",children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase",children:"Join Trip"}),E.jsx("input",{className:"w-full px-6 py-5 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none mb-8 text-center font-mono text-xl text-black placeholder-gray-400",placeholder:"PASTE TRIP ID",value:b,onChange:F=>x(F.target.value)}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("button",{onClick:()=>b&&n(b),className:"w-full py-5 bg-black text-white rounded-2xl font-bold shadow-xl uppercase tracking-widest",children:"Connect"}),E.jsx("button",{onClick:()=>i("selection"),className:"w-full py-4 font-bold text-gray-400 uppercase tracking-widest text-xs",children:"Cancel"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-md mx-auto mt-20 text-center p-12 bg-white rounded-[3.5rem] shadow-2xl border-2 border-gray-50",children:[E.jsx("div",{className:"w-28 h-28 bg-[#f49221] rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-2xl shadow-[#f49221]/40 -rotate-3 border-4 border-white",children:E.jsx("svg",{className:"w-14 h-14 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),E.jsx("h1",{className:"text-5xl font-bold text-black mb-3 font-pt tracking-tighter uppercase",children:"Manas Split"}),E.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-[10px] mb-14",children:"Simplified Group Finance"}),E.jsxs("div",{className:"space-y-5",children:[E.jsx("button",{onClick:()=>i("create"),className:"w-full py-6 bg-[#f49221] text-white rounded-2xl font-bold hover:scale-[1.02] transition-all shadow-2xl shadow-[#f49221]/30 flex items-center justify-center gap-3 uppercase tracking-widest",children:"New Expedition"}),E.jsx("button",{onClick:()=>i("join"),className:"w-full py-6 bg-black text-white rounded-2xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:"Connect to Trip"})]})]}),g&&E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),E.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:rr.map(F=>E.jsx("button",{type:"button",onClick:()=>{p({...m,[g]:F.id}),v(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:E.jsx("img",{src:F.image,alt:"avatar",className:"w-full h-full object-cover"})},F.id))}),E.jsx("button",{onClick:()=>v(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]})},bD=({tripId:n,participants:t,onClose:i})=>{const[r,o]=ot.useState(""),[u,c]=ot.useState(""),[m,p]=ot.useState(""),[g,v]=ot.useState([]),[b,x]=ot.useState("fair"),[C,L]=ot.useState({}),[U,B]=ot.useState("UPI"),[G,J]=ot.useState(!1),F=ot.useMemo(()=>{if(b==="custom")return 0;const R=parseFloat(u);return isNaN(R)||g.length===0?0:R/g.length},[u,g,b]),rt=ot.useMemo(()=>Object.values(C).reduce((R,S)=>R+(parseFloat(S)||0),0),[C]),at=ot.useMemo(()=>{const R=parseFloat(u);return isNaN(R)||b!=="custom"?{valid:!0,message:""}:Math.abs(rt-R)>.01?{valid:!1,message:`Custom amounts (${rt.toFixed(2)}) don't match total (${R})`}:{valid:!0,message:" Custom amounts match total"}},[rt,u,b]),it=async R=>{if(R.preventDefault(),!r||!u||!m||g.length===0)return alert("Please fill all required fields.");const S=parseFloat(u);if(isNaN(S)||S<=0)return alert("Please enter a valid amount greater than 0.");if(b==="custom"&&!at.valid)return alert(at.message);J(!0);try{const N={title:r,amount:S,paidBy:m,splitBetween:g,perPersonAmount:F,splitType:b,paymentMethod:U};b==="custom"&&(N.customSplits=Object.fromEntries(Object.entries(C).map(([I,O])=>[I,parseFloat(O)||0]))),await mD(n,N),i()}catch(N){console.error("Error creating expense:",N),alert("Failed to save transaction. Check your backend/permissions.")}finally{J(!1)}};return E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl p-10 border-4 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-10",children:[E.jsx("h2",{className:"text-3xl font-bold text-black font-pt uppercase tracking-tight",children:"Add Transaction"}),E.jsx("button",{onClick:i,className:"p-3 hover:bg-gray-100 rounded-2xl transition-all",children:E.jsx("svg",{className:"w-6 h-6 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("form",{onSubmit:it,className:"space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Expense Item"}),E.jsx("input",{type:"text",placeholder:"e.g. Flight Tickets",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:r,onChange:R=>o(R.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Amount (INR)"}),E.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:u,onChange:R=>c(R.target.value)})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Who Paid?"}),E.jsxs("select",{className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none bg-white font-bold text-black",value:m,onChange:R=>p(R.target.value),children:[E.jsx("option",{value:"",children:"Select Member"}),t.map(R=>E.jsx("option",{value:R,children:R},R))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Payment Channel"}),E.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:["UPI","Cash"].map(R=>E.jsx("button",{type:"button",onClick:()=>B(R),className:`flex-1 py-3 text-xs rounded-xl font-bold transition-all uppercase tracking-widest ${U===R?"bg-white shadow-xl text-[#f49221]":"text-gray-400"}`,children:R},R))})]})]}),E.jsx("div",{children:E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Split Type"}),E.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-xl",children:[E.jsx("button",{type:"button",onClick:()=>x("fair"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${b==="fair"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Fair Split"}),E.jsx("button",{type:"button",onClick:()=>x("custom"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${b==="custom"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Custom Split"})]})]})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-end mb-3 ml-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Distributed Among"}),E.jsx("button",{type:"button",onClick:()=>v([...t]),className:"text-[10px] font-bold text-[#f49221] uppercase tracking-widest",children:"Select Everyone"})]}),E.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:t.map(R=>E.jsxs("label",{className:`flex items-center p-4 rounded-2xl border-2 cursor-pointer transition-all ${g.includes(R)?"bg-[#f49221]/10 border-[#f49221]":"bg-white border-gray-100"}`,children:[E.jsx("input",{type:"checkbox",className:"hidden",checked:g.includes(R),onChange:()=>v(S=>S.includes(R)?S.filter(N=>N!==R):[...S,R])}),E.jsx("span",{className:`text-xs font-black uppercase tracking-tight ${g.includes(R)?"text-black":"text-gray-400"}`,children:R})]},R))})]}),b==="custom"&&g.length>0&&E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Custom Amounts Per Person"}),E.jsx("div",{className:"space-y-3 max-h-52 overflow-y-auto pr-2",children:g.map(R=>E.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl",children:[E.jsx("span",{className:"text-sm font-bold text-black flex-1",children:R}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),E.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-28 pl-8 pr-3 py-2 rounded-lg border-2 border-gray-200 focus:border-[#f49221] outline-none font-bold text-sm text-black",value:C[R]||"",onChange:S=>L({...C,[R]:S.target.value})})]})]},R))}),E.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs font-bold ${at.valid?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:at.message||`Total: ${rt.toFixed(2)} / ${u||"0"}`})]}),E.jsx("button",{type:"submit",disabled:G,className:"w-full bg-[#f49221] text-white font-bold py-6 rounded-2xl shadow-2xl shadow-[#f49221]/40 transition-all uppercase tracking-[0.2em] disabled:opacity-50 text-sm",children:G?"Processing...":"Secure Transaction"})]})]})})},TD=({expenses:n})=>{const[t,i]=ot.useState(null);return E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-[#f49221]/10",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] text-white backdrop-blur-xl",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Description"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Value"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Paid By"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Split"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Proof"})]})}),E.jsx("tbody",{className:"divide-y divide-white/5",children:n.map(r=>E.jsxs("tr",{className:"hover:bg-white/10 transition-all border-l-4 border-transparent hover:border-[#f49221] backdrop-blur-sm group",children:[E.jsxs("td",{className:"px-6 py-5",children:[E.jsx("div",{className:"font-bold text-white text-base",children:r.title}),E.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(r.createdAt).toLocaleDateString()})]}),E.jsxs("td",{className:"px-6 py-5 font-bold text-lg text-white",children:["",r.amount.toFixed(2)]}),E.jsxs("td",{className:"px-6 py-5",children:[E.jsx("div",{className:"text-gray-300 font-medium",children:r.paidBy}),E.jsxs("div",{className:"text-xs text-gray-600",children:["(",r.paymentMethod,")"]})]}),E.jsxs("td",{className:"px-6 py-5",children:[E.jsxs("div",{className:"text-gray-300 font-medium text-sm",children:[r.splitBetween.length," person",r.splitBetween.length!==1?"s":""]}),r.splitType==="custom"?E.jsx("div",{className:"text-xs text-purple-400 font-bold mt-1",children:"CUSTOM SPLIT"}):E.jsxs("div",{className:"text-xs text-[#f49221] font-bold mt-1",children:["",r.perPersonAmount.toFixed(2)," each"]})]}),E.jsx("td",{className:"px-6 py-5",children:r.proofImageUrl?E.jsx("button",{onClick:()=>i(r.proofImageUrl),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"View"}):E.jsx("span",{className:"text-gray-600 text-xs",children:"No proof"})})]},r.id))})]})})}),t&&E.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center p-6 z-[60] backdrop-blur-xl",onClick:()=>i(null),children:E.jsxs("div",{className:"relative max-w-4xl w-full flex flex-col items-center",children:[E.jsx("button",{className:"absolute -top-16 right-0 text-white hover:text-[#f49221] transition-colors p-4",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("img",{src:t,alt:"Payment Proof",className:"max-h-[80vh] object-contain rounded-3xl shadow-[0_0_100px_rgba(244,146,33,0.3)] border-4 border-white"})]})})]})},ED=({balances:n,tripId:t,trackedSettlements:i,participants:r,trip:o})=>{const[u,c]=ot.useState(null),[m,p]=ot.useState(!1),[g,v]=ot.useState(""),[b,x]=ot.useState(""),[C,L]=ot.useState(""),[U,B]=ot.useState(!1),[G,J]=ot.useState(null),F=ot.useMemo(()=>{const V=n.filter(st=>st.net<0).map(st=>({name:st.name,amount:Math.abs(st.net)})),D=n.filter(st=>st.net>0).map(st=>({name:st.name,amount:st.net})),xt=[];let Yt=0,X=0;for(;Yt<V.length&&X<D.length;){const st=V[Yt],ct=D[X],Tt=Math.min(st.amount,ct.amount);Tt>.01&&xt.push({from:st.name,to:ct.name,amount:Tt}),st.amount-=Tt,ct.amount-=Tt,st.amount<.01&&(Yt+=1),ct.amount<.01&&(X+=1)}return xt},[n]),rt=i.filter(V=>!V.isPaid),at=i.filter(V=>V.isPaid),it=V=>{var Yt;const D=(Yt=o==null?void 0:o.memberAvatars)==null?void 0:Yt[V],xt=rr.find(X=>X.id===D);return xt!=null&&xt.image?E.jsx("img",{src:xt.image,alt:V,className:"w-10 h-10 rounded-lg object-cover"}):E.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:V[0]})},R=async V=>{const D=`${V.from}-${V.to}`;c(D);try{await Kb(t,V.from,V.to,V.amount)}catch(xt){console.error("Error creating settlement",xt),alert("Failed to track this payment.")}finally{c(null)}},S=async(V,D)=>{J(V);try{await pD(V,D)}catch(xt){console.error("Error updating paid status",xt),alert("Failed to update status.")}finally{J(null)}},N=async V=>{try{await gD(V)}catch(D){console.error("Error moving payment back to suggested",D),alert("Failed to move payment back.")}},I=async V=>{V.preventDefault();const D=parseFloat(C);if(!g||!b||Number.isNaN(D)||D<=0){alert("Please fill all fields with a valid amount.");return}if(g===b){alert("Payer and receiver cannot be the same.");return}B(!0);try{await Kb(t,g,b,D),p(!1),v(""),x(""),L("")}catch(xt){console.error("Error creating custom settlement",xt),alert("Failed to record payment.")}finally{B(!1)}};return F.length===0&&rt.length===0&&at.length===0?E.jsxs("div",{className:"mt-8 bg-gradient-to-br from-green-900 to-green-950 rounded-3xl p-8 text-center border-2 border-green-700",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),E.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),E.jsx("p",{className:"text-green-300 text-sm",children:"Everyone is balanced. No payments needed."})]}):E.jsxs("div",{className:"mt-8 space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"text-white text-2xl font-bold",children:"Settlements"}),E.jsxs("button",{onClick:()=>p(V=>!V),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v12M6 12h12"})}),"Record Payment"]})]}),m&&E.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-[#f49221] rounded-2xl p-6 shadow-2xl shadow-[#f49221]/20",children:[E.jsx("h4",{className:"text-white font-bold text-lg mb-4",children:"Record a Payment"}),E.jsxs("form",{onSubmit:I,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Who Paid"}),E.jsxs("select",{value:g,onChange:V=>v(V.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[E.jsx("option",{value:"",children:"Select person"}),r.map(V=>E.jsx("option",{value:V,children:V},V))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Paid To"}),E.jsxs("select",{value:b,onChange:V=>x(V.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[E.jsx("option",{value:"",children:"Select person"}),r.map(V=>E.jsx("option",{value:V,children:V},V))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Amount ()"}),E.jsx("input",{type:"number",step:"0.01",min:"0.01",value:C,onChange:V=>L(V.target.value),placeholder:"0.00",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{type:"submit",disabled:U,className:"bg-[#f49221] hover:bg-[#e58515] text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 flex-1",children:U?"Saving...":"Save Payment"}),E.jsx("button",{type:"button",onClick:()=>p(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),rt.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Tracked Payments"}),E.jsxs("span",{className:"bg-red-900 text-red-200 text-xs font-bold px-3 py-1 rounded-full",children:[rt.length," Pending"]})]}),E.jsx("div",{className:"space-y-3",children:rt.map(V=>E.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-red-800",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[it(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-red-300 text-xs",children:"should pay"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-red-300 text-xs",children:"receives"})]}),it(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",V.amount.toFixed(2)]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:()=>S(V.id,!0),disabled:G===V.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-red-700 text-white text-xs font-bold justify-between",title:"Mark as paid",children:[E.jsx("span",{className:"ml-2",children:"Unpaid"}),E.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]}),E.jsx("button",{onClick:()=>N(V.id),className:"px-3 py-2 rounded-lg text-xs font-bold bg-gray-700 text-white hover:bg-gray-600 transition-colors",title:"Move back to suggested",children:"Move to Suggested"})]})]})]})},V.id))})]}),F.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Suggested Settlements"}),E.jsxs("span",{className:"bg-[#f49221] text-white text-xs font-bold px-3 py-1 rounded-full",children:[F.length," Suggested"]})]}),E.jsx("div",{className:"space-y-3",children:F.map((V,D)=>{const xt=`${V.from}-${V.to}`;return rt.some(X=>X.from===V.from&&X.to===V.to&&Math.abs(X.amount-V.amount)<.01)?null:E.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-[#f49221]/30 hover:border-[#f49221] transition-all hover:shadow-xl hover:shadow-[#f49221]/20",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[it(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-gray-400 text-xs",children:"should pay"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-gray-400 text-xs",children:"receives"})]}),it(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",V.amount.toFixed(2)]}),E.jsx("button",{onClick:()=>R(V),disabled:u===xt,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl font-bold text-sm transition-colors disabled:opacity-50",title:"Track this payment",children:u===xt?"Adding...":"Track"})]})]})},xt||D)})})]}),at.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Completed Payments"}),E.jsxs("span",{className:"bg-green-900 text-green-300 text-xs font-bold px-3 py-1 rounded-full",children:[at.length," Completed"]})]}),E.jsx("div",{className:"space-y-3",children:at.map(V=>E.jsx("div",{className:"bg-gradient-to-r from-green-950 to-green-900 rounded-2xl p-5 border-2 border-green-800 opacity-80",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[it(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-green-300 text-xs",children:"paid"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-green-300 text-xs",children:"received"})]}),it(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-green-700 text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",V.amount.toFixed(2)]}),E.jsxs("button",{onClick:()=>S(V.id,!1),disabled:G===V.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-green-700 text-white text-xs font-bold justify-between",title:"Mark as unpaid",children:[E.jsx("span",{className:"ml-2",children:"Paid"}),E.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]})]})]})},V.id))})]})]})},xD=({person:n,balances:t,expenses:i,trip:r,onClose:o})=>{var b;const u=t.find(x=>x.name===n),m=(()=>{const x=t.filter(G=>G.net<0).map(G=>({name:G.name,amount:Math.abs(G.net)})),C=t.filter(G=>G.net>0).map(G=>({name:G.name,amount:G.net})),L=[];let U=0,B=0;for(;U<x.length&&B<C.length;){const G=x[U],J=C[B],F=Math.min(G.amount,J.amount);F>.01&&L.push({from:G.name,to:J.name,amount:F}),G.amount-=F,J.amount-=F,G.amount<.01&&U++,J.amount<.01&&B++}return L.filter(G=>G.from===n||G.to===n)})(),p=m.filter(x=>x.from===n),g=m.filter(x=>x.to===n),v=i.filter(x=>x.paidBy===n||x.splitBetween.includes(n));return E.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-4 z-50 overflow-y-auto",children:E.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-3xl shadow-2xl w-full max-w-4xl border-4 border-[#f49221] relative",children:[E.jsx("div",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] p-8 rounded-t-3xl",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[r.memberAvatars&&r.memberAvatars[n]?E.jsx("img",{src:((b=rr.find(x=>x.id===r.memberAvatars[n]))==null?void 0:b.image)||"",alt:n,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):E.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-[#f49221] font-bold text-2xl border-4 border-white shadow-lg",children:n[0]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-white",children:n}),E.jsx("p",{className:"text-white/80 text-sm",children:"Payment Dashboard"})]})]}),E.jsx("button",{onClick:o,className:"p-3 hover:bg-white/20 rounded-2xl transition-all",children:E.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),E.jsx("div",{className:"p-8 border-b border-gray-700",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/50 rounded-2xl p-6 border border-blue-700/50",children:[E.jsx("div",{className:"text-blue-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Total Paid"}),E.jsxs("div",{className:"text-4xl font-black text-white",children:["",u==null?void 0:u.paid.toFixed(2)]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/50 rounded-2xl p-6 border border-purple-700/50",children:[E.jsx("div",{className:"text-purple-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Fair Share"}),E.jsxs("div",{className:"text-4xl font-black text-white",children:["",u==null?void 0:u.owed.toFixed(2)]})]}),E.jsxs("div",{className:`bg-gradient-to-br ${u&&u.net<0?"from-red-900/50 to-red-800/50 border-red-700/50":u&&u.net>0?"from-green-900/50 to-green-800/50 border-green-700/50":"from-gray-700/50 to-gray-600/50 border-gray-600/50"} rounded-2xl p-6 border`,children:[E.jsx("div",{className:`text-xs font-bold uppercase tracking-widest mb-2 ${u&&u.net<0?"text-red-300":u&&u.net>0?"text-green-300":"text-gray-400"}`,children:u&&u.net<0?"You Owe":u&&u.net>0?"You Get Back":"Status"}),E.jsx("div",{className:`text-4xl font-black ${u&&u.net<0?"text-red-400":u&&u.net>0?"text-green-400":"text-gray-400"}`,children:u&&Math.abs(u.net)>.01?`${Math.abs(u.net).toFixed(2)}`:"Settled"})]})]})}),E.jsxs("div",{className:"p-8 space-y-6 max-h-[60vh] overflow-y-auto",children:[p.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"You Should Pay"]}),E.jsx("div",{className:"space-y-3",children:p.map((x,C)=>{var L;return E.jsx("div",{className:"bg-gradient-to-r from-red-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-red-700/50 hover:border-red-500/70 transition-all",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-red-500/20 p-3 rounded-xl",children:E.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-3",children:[r.memberAvatars&&r.memberAvatars[x.to]?E.jsx("img",{src:((L=rr.find(U=>U.id===r.memberAvatars[x.to]))==null?void 0:L.image)||"",alt:x.to,className:"w-10 h-10 rounded-full object-cover border-2 border-green-500/50"}):E.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center text-green-400 font-bold border-2 border-green-500/50",children:x.to[0]}),E.jsxs("div",{children:[E.jsxs("div",{className:"text-white font-bold text-lg",children:["Pay ",x.to]}),E.jsx("div",{className:"text-red-300 text-xs",children:"Settlement Required"})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:["",x.amount.toFixed(2)]})]})},C)})})]}),g.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"You Should Receive"]}),E.jsx("div",{className:"space-y-3",children:g.map((x,C)=>{var L;return E.jsx("div",{className:"bg-gradient-to-r from-green-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-green-700/50 hover:border-green-500/70 transition-all",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-green-500/20 p-3 rounded-xl",children:E.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})})}),E.jsxs("div",{className:"flex items-center gap-3",children:[r.memberAvatars&&r.memberAvatars[x.from]?E.jsx("img",{src:((L=rr.find(U=>U.id===r.memberAvatars[x.from]))==null?void 0:L.image)||"",alt:x.from,className:"w-10 h-10 rounded-full object-cover border-2 border-red-500/50"}):E.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center text-red-400 font-bold border-2 border-red-500/50",children:x.from[0]}),E.jsxs("div",{children:[E.jsxs("div",{className:"text-white font-bold text-lg",children:["From ",x.from]}),E.jsx("div",{className:"text-green-300 text-xs",children:"Pending Payment"})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:["",x.amount.toFixed(2)]})]})},C)})})]}),p.length===0&&g.length===0&&E.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-2xl p-8 text-center border-2 border-green-700/50",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),E.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),E.jsx("p",{className:"text-green-300 text-sm",children:"You're all balanced. No payments needed."})]}),v.length>0&&E.jsxs("div",{className:"mt-8",children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full"}),"Your Expense Activity"]}),E.jsx("div",{className:"bg-gray-800/50 rounded-2xl border border-gray-700 overflow-hidden",children:E.jsx("div",{className:"divide-y divide-gray-700",children:v.slice(0,10).map((x,C)=>E.jsx("div",{className:"p-4 hover:bg-gray-700/30 transition-colors",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{className:"text-white font-bold",children:x.title}),x.paidBy===n&&E.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Paid"}),x.splitBetween.includes(n)&&x.paidBy!==n&&E.jsx("span",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Split"})]}),E.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(x.createdAt).toLocaleDateString(),"  Paid by ",x.paidBy]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-white font-bold",children:["",x.amount.toFixed(2)]}),x.splitBetween.includes(n)&&E.jsxs("div",{className:"text-[#f49221] text-xs font-bold",children:["Your share: ",(x.splitType==="custom"&&x.customSplits&&x.customSplits[n]?x.customSplits[n]:x.perPersonAmount).toFixed(2)]})]})]})},C))})}),v.length>10&&E.jsxs("p",{className:"text-gray-400 text-xs text-center mt-2",children:["Showing 10 of ",v.length," expenses"]})]})]}),E.jsx("div",{className:"p-6 bg-gray-900/50 rounded-b-3xl border-t border-gray-700",children:E.jsx("button",{onClick:o,className:"w-full bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl",children:"Close"})})]})})},mx=ot.createContext({});function px(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const xg=typeof window<"u",gx=xg?ot.useLayoutEffect:ot.useEffect,Ag=ot.createContext(null);function Sg(n,t){n.indexOf(t)===-1&&n.push(t)}function wg(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Hi=(n,t,i)=>i>t?t:i<n?n:i;let ou=()=>{};const ps={},yx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vx(n){return typeof n=="object"&&n!==null}const _x=n=>/^0[^.\s]+$/u.test(n);function Rg(n){let t;return()=>(t===void 0&&(t=n()),t)}const _n=n=>n,AD=(n,t)=>i=>t(n(i)),_u=(...n)=>n.reduce(AD),bo=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Cg{constructor(){this.subscriptions=[]}add(t){return Sg(this.subscriptions,t),()=>wg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bi=n=>n*1e3,Gn=n=>n/1e3;function Ng(n,t){return t?n*(1e3/t):0}const bx=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,SD=1e-7,wD=12;function RD(n,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=bx(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>SD&&++m<wD);return c}function bu(n,t,i,r){if(n===t&&i===r)return _n;const o=u=>RD(u,0,1,n,i);return u=>u===0||u===1?u:bx(o(u),t,r)}const Tx=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Ex=n=>t=>1-n(1-t),xx=bu(.33,1.53,.69,.99),Dg=Ex(xx),Ax=Tx(Dg),Sx=n=>(n*=2)<1?.5*Dg(n):.5*(2-Math.pow(2,-10*(n-1))),Vg=n=>1-Math.sin(Math.acos(n)),wx=Ex(Vg),Rx=Tx(Vg),CD=bu(.42,0,1,1),ND=bu(0,0,.58,1),Cx=bu(.42,0,.58,1),DD=n=>Array.isArray(n)&&typeof n[0]!="number",Nx=n=>Array.isArray(n)&&typeof n[0]=="number",VD={linear:_n,easeIn:CD,easeInOut:Cx,easeOut:ND,circIn:Vg,circInOut:Rx,circOut:wx,backIn:Dg,backInOut:Ax,backOut:xx,anticipate:Sx},MD=n=>typeof n=="string",Qb=n=>{if(Nx(n)){ou(n.length===4);const[t,i,r,o]=n;return bu(t,i,r,o)}else if(MD(n))return VD[n];return n},sh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ID(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,b=!1,x=!1)=>{const L=x&&o?i:r;return b&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const OD=40;function Dx(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=sh.reduce((F,rt)=>(F[rt]=ID(u),F),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:b,preRender:x,render:C,postRender:L}=c,U=()=>{const F=ps.useManualTiming?o.timestamp:performance.now();i=!1,ps.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(F-o.timestamp,OD),1)),o.timestamp=F,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),b.process(o),x.process(o),C.process(o),L.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(U))},B=()=>{i=!0,r=!0,o.isProcessing||n(U)};return{schedule:sh.reduce((F,rt)=>{const at=c[rt];return F[rt]=(it,R=!1,S=!1)=>(i||B(),at.schedule(it,R,S)),F},{}),cancel:F=>{for(let rt=0;rt<sh.length;rt++)c[sh[rt]].cancel(F)},state:o,steps:c}}const{schedule:ee,cancel:Gi,state:Fe,steps:wm}=Dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0);let mh;function jD(){mh=void 0}const vn={now:()=>(mh===void 0&&vn.set(Fe.isProcessing||ps.useManualTiming?Fe.timestamp:performance.now()),mh),set:n=>{mh=n,queueMicrotask(jD)}},Vx=n=>t=>typeof t=="string"&&t.startsWith(n),Mx=Vx("--"),PD=Vx("var(--"),Mg=n=>PD(n)?LD.test(n.split("/*")[0].trim()):!1,LD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ro={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lu={...Ro,transform:n=>Hi(0,1,n)},rh={...Ro,default:1},Xl=n=>Math.round(n*1e5)/1e5,Ig=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kD(n){return n==null}const UD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Og=(n,t)=>i=>!!(typeof i=="string"&&UD.test(i)&&i.startsWith(n)||t&&!kD(i)&&Object.prototype.hasOwnProperty.call(i,t)),Ix=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ig);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},BD=n=>Hi(0,255,n),Rm={...Ro,transform:n=>Math.round(BD(n))},Zr={test:Og("rgb","red"),parse:Ix("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Rm.transform(n)+", "+Rm.transform(t)+", "+Rm.transform(i)+", "+Xl(lu.transform(r))+")"};function zD(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const fp={test:Og("#"),parse:zD,transform:Zr.transform},Tu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),$s=Tu("deg"),zi=Tu("%"),mt=Tu("px"),FD=Tu("vh"),qD=Tu("vw"),Xb={...zi,parse:n=>zi.parse(n)/100,transform:n=>zi.transform(n*100)},so={test:Og("hsl","hue"),parse:Ix("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+zi.transform(Xl(t))+", "+zi.transform(Xl(i))+", "+Xl(lu.transform(r))+")"},De={test:n=>Zr.test(n)||fp.test(n)||so.test(n),parse:n=>Zr.test(n)?Zr.parse(n):so.test(n)?so.parse(n):fp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zr.transform(n):so.transform(n),getAnimatableNone:n=>{const t=De.parse(n);return t.alpha=0,De.transform(t)}},HD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GD(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Ig))==null?void 0:t.length)||0)+(((i=n.match(HD))==null?void 0:i.length)||0)>0}const Ox="number",jx="color",YD="var",KD="var(",$b="${}",QD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(QD,p=>(De.test(p)?(r.color.push(u),o.push(jx),i.push(De.parse(p))):p.startsWith(KD)?(r.var.push(u),o.push(YD),i.push(p)):(r.number.push(u),o.push(Ox),i.push(parseFloat(p))),++u,$b)).split($b);return{values:i,split:m,indexes:r,types:o}}function Px(n){return uu(n).values}function Lx(n){const{split:t,types:i}=uu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===Ox?u+=Xl(o[c]):m===jx?u+=De.transform(o[c]):u+=o[c]}return u}}const XD=n=>typeof n=="number"?0:De.test(n)?De.getAnimatableNone(n):n;function $D(n){const t=Px(n);return Lx(n)(t.map(XD))}const fr={test:GD,parse:Px,createTransformer:Lx,getAnimatableNone:$D};function Cm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function ZD({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=Cm(p,m,n+1/3),u=Cm(p,m,n),c=Cm(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Lh(n,t){return i=>i>0?t:n}const ce=(n,t,i)=>n+(t-n)*i,Nm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},WD=[fp,Zr,so],JD=n=>WD.find(t=>t.test(n));function Zb(n){const t=JD(n);if(!t)return!1;let i=t.parse(n);return t===so&&(i=ZD(i)),i}const Wb=(n,t)=>{const i=Zb(n),r=Zb(t);if(!i||!r)return Lh(n,t);const o={...i};return u=>(o.red=Nm(i.red,r.red,u),o.green=Nm(i.green,r.green,u),o.blue=Nm(i.blue,r.blue,u),o.alpha=ce(i.alpha,r.alpha,u),Zr.transform(o))},dp=new Set(["none","hidden"]);function tV(n,t){return dp.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function eV(n,t){return i=>ce(n,t,i)}function jg(n){return typeof n=="number"?eV:typeof n=="string"?Mg(n)?Lh:De.test(n)?Wb:sV:Array.isArray(n)?kx:typeof n=="object"?De.test(n)?Wb:nV:Lh}function kx(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>jg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function nV(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=jg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function iV(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;i[o]=m,r[u]++}return i}const sV=(n,t)=>{const i=fr.createTransformer(t),r=uu(n),o=uu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?dp.has(n)&&!o.values.length||dp.has(t)&&!r.values.length?tV(n,t):_u(kx(iV(r,o),o.values),i):Lh(n,t)};function Ux(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ce(n,t,i):jg(n)(n,t)}const rV=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>ee.update(t,i),stop:()=>Gi(t),now:()=>Fe.isProcessing?Fe.timestamp:vn.now()}},Bx=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function Pg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<kh;)t+=i,r=n.next(t);return t>=kh?1/0:t}function aV(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Pg(r),kh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Gn(o)}}const oV=5;function zx(n,t,i){const r=Math.max(t-oV,0);return Ng(i-n(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dm=.001;function lV({duration:n=me.duration,bounce:t=me.bounce,velocity:i=me.velocity,mass:r=me.mass}){let o,u,c=1-t;c=Hi(me.minDamping,me.maxDamping,c),n=Hi(me.minDuration,me.maxDuration,Gn(n)),c<1?(o=g=>{const v=g*c,b=v*n,x=v-i,C=mp(g,c),L=Math.exp(-b);return Dm-x/C*L},u=g=>{const b=g*c*n,x=b*i+i,C=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-b),U=mp(Math.pow(g,2),c);return(-o(g)+Dm>0?-1:1)*((x-C)*L)/U}):(o=g=>{const v=Math.exp(-g*n),b=(g-i)*n+1;return-Dm+v*b},u=g=>{const v=Math.exp(-g*n),b=(i-g)*(n*n);return v*b});const m=5/n,p=cV(o,u,m);if(n=Bi(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const uV=12;function cV(n,t,i){let r=i;for(let o=1;o<uV;o++)r=r-n(r)/t(r);return r}function mp(n,t){return n*Math.sqrt(1-t*t)}const hV=["duration","bounce"],fV=["stiffness","damping","mass"];function Jb(n,t){return t.some(i=>n[i]!==void 0)}function dV(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!Jb(n,fV)&&Jb(n,hV))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Hi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const i=lV(n);t={...t,...i,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Uh(n=me.visualDuration,t=me.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:b,velocity:x,isResolvedFromDuration:C}=dV({...i,velocity:-Gn(i.velocity||0)}),L=x||0,U=g/(2*Math.sqrt(p*v)),B=c-u,G=Gn(Math.sqrt(p/v)),J=Math.abs(B)<5;r||(r=J?me.restSpeed.granular:me.restSpeed.default),o||(o=J?me.restDelta.granular:me.restDelta.default);let F;if(U<1){const at=mp(G,U);F=it=>{const R=Math.exp(-U*G*it);return c-R*((L+U*G*B)/at*Math.sin(at*it)+B*Math.cos(at*it))}}else if(U===1)F=at=>c-Math.exp(-G*at)*(B+(L+G*B)*at);else{const at=G*Math.sqrt(U*U-1);F=it=>{const R=Math.exp(-U*G*it),S=Math.min(at*it,300);return c-R*((L+U*G*B)*Math.sinh(S)+at*B*Math.cosh(S))/at}}const rt={calculatedDuration:C&&b||null,next:at=>{const it=F(at);if(C)m.done=at>=b;else{let R=at===0?L:0;U<1&&(R=at===0?Bi(L):zx(F,at,it));const S=Math.abs(R)<=r,N=Math.abs(c-it)<=o;m.done=S&&N}return m.value=m.done?c:it,m},toString:()=>{const at=Math.min(Pg(rt),kh),it=Bx(R=>rt.next(at*R).value,at,30);return at+"ms "+it},toTransition:()=>{}};return rt}Uh.applyToOptions=n=>{const t=aV(n,100,Uh);return n.ease=t.ease,n.duration=Bi(t.duration),n.type="keyframes",n};function pp({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const b=n[0],x={done:!1,value:b},C=S=>m!==void 0&&S<m||p!==void 0&&S>p,L=S=>m===void 0?p:p===void 0||Math.abs(m-S)<Math.abs(p-S)?m:p;let U=i*t;const B=b+U,G=c===void 0?B:c(B);G!==B&&(U=G-b);const J=S=>-U*Math.exp(-S/r),F=S=>G+J(S),rt=S=>{const N=J(S),I=F(S);x.done=Math.abs(N)<=g,x.value=x.done?G:I};let at,it;const R=S=>{C(x.value)&&(at=S,it=Uh({keyframes:[x.value,L(x.value)],velocity:zx(F,S,x.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:S=>{let N=!1;return!it&&at===void 0&&(N=!0,rt(S),R(S)),at!==void 0&&S>=at?it.next(S-at):(!N&&rt(S),x)}}}function mV(n,t,i){const r=[],o=i||ps.mix||Ux,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||_n:t;m=_u(p,m)}r.push(m)}return r}function Fx(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(ou(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=mV(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let b=0;if(p>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const x=bo(n[b],n[b+1],v);return m[b](x)};return i?v=>g(Hi(n[0],n[u-1],v)):g}function pV(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=bo(0,t,r);n.push(ce(i,1,o))}}function qx(n){const t=[0];return pV(t,n.length-1),t}function gV(n,t){return n.map(i=>i*t)}function yV(n,t){return n.map(()=>t||Cx).splice(0,n.length-1)}function $l({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=DD(r)?r.map(Qb):Qb(r),u={done:!1,value:t[0]},c=gV(i&&i.length===t.length?i:qx(t),n),m=Fx(c,t,{ease:Array.isArray(o)?o:yV(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const vV=n=>n!==null;function Lg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(vV),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const _V={decay:pp,inertia:pp,tween:$l,keyframes:$l,spring:Uh};function Hx(n){typeof n.type=="string"&&(n.type=_V[n.type])}class kg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const bV=n=>n/100;class Ug extends kg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hx(t);const{type:i=$l,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||$l;p!==$l&&typeof m[0]!="number"&&(this.mixKeyframes=_u(bV,Ux(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Pg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:x,repeatDelay:C,type:L,onUpdate:U,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let F=this.currentTime,rt=r;if(b){const S=Math.min(this.currentTime,o)/m;let N=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(x==="reverse"?(I=1-I,C&&(I-=C/m)):x==="mirror"&&(rt=c)),F=Hi(0,1,I)*m}const at=J?{done:!1,value:v[0]}:rt.next(F);u&&(at.value=u(at.value));let{done:it}=at;!J&&p!==null&&(it=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&it);return R&&L!==pp&&(at.value=Lg(v,this.options,B,this.speed)),U&&U(at.value),R&&this.finish(),at}then(t,i){return this.finished.then(t,i)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(this.currentTime)}set time(t){var i;t=Bi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Gn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=rV,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function TV(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Wr=n=>n*180/Math.PI,gp=n=>{const t=Wr(Math.atan2(n[1],n[0]));return yp(t)},EV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:gp,rotateZ:gp,skewX:n=>Wr(Math.atan(n[1])),skewY:n=>Wr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},yp=n=>(n=n%360,n<0&&(n+=360),n),tT=gp,eT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),nT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),xV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eT,scaleY:nT,scale:n=>(eT(n)+nT(n))/2,rotateX:n=>yp(Wr(Math.atan2(n[6],n[5]))),rotateY:n=>yp(Wr(Math.atan2(-n[2],n[0]))),rotateZ:tT,rotate:tT,skewX:n=>Wr(Math.atan(n[4])),skewY:n=>Wr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function vp(n){return n.includes("scale")?1:0}function _p(n,t){if(!n||n==="none")return vp(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=xV,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EV,o=m}if(!o)return vp(t);const u=r[t],c=o[1].split(",").map(SV);return typeof u=="function"?u(c):c[u]}const AV=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return _p(i,t)};function SV(n){return parseFloat(n.trim())}const Co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],No=new Set(Co),iT=n=>n===Ro||n===mt,wV=new Set(["x","y","z"]),RV=Co.filter(n=>!wV.has(n));function CV(n){const t=[];return RV.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ea={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>_p(t,"x"),y:(n,{transform:t})=>_p(t,"y")};ea.translateX=ea.x;ea.translateY=ea.y;const na=new Set;let bp=!1,Tp=!1,Ep=!1;function Gx(){if(Tp){const n=Array.from(na).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=CV(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var m;(m=r.getValue(u))==null||m.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Tp=!1,bp=!1,na.forEach(n=>n.complete(Ep)),na.clear()}function Yx(){na.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Tp=!0)})}function NV(){Ep=!0,Yx(),Gx(),Ep=!1}class Bg{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),bp||(bp=!0,ee.read(Yx),ee.resolveKeyframes(Gx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}TV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DV=n=>n.startsWith("--");function VV(n,t,i){DV(t)?n.style.setProperty(t,i):n.style[t]=i}const Kx=Rg(()=>window.ScrollTimeline!==void 0),MV={};function IV(n,t){const i=Rg(n);return()=>MV[t]??i()}const Qx=IV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,sT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function Xx(n,t){if(n)return typeof n=="function"?Qx()?Bx(n,t):"ease-out":Nx(n)?ql(n):Array.isArray(n)?n.map(i=>Xx(i,t)||sT.easeOut):sT[n]}function OV(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const b=Xx(m,o);Array.isArray(b)&&(v.easing=b);const x={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),n.animate(v,x)}function $x(n){return typeof n=="function"&&"applyToOptions"in n}function jV({type:n,...t}){return $x(n)&&Qx()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PV extends kg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ou(typeof t.type!="string");const g=jV(t);this.animation=OV(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Lg(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):VV(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Gn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Kx()?(this.animation.timeline=t,_n):i(this)}}const Zx={anticipate:Sx,backInOut:Ax,circInOut:Rx};function LV(n){return n in Zx}function kV(n){typeof n.ease=="string"&&LV(n.ease)&&(n.ease=Zx[n.ease])}const rT=10;class UV extends PV{constructor(t){kV(t),Hx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new Ug({...c,autoplay:!1}),p=Bi(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-rT).value,m.sample(p).value,rT),m.stop()}}const aT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(fr.test(n)||n==="0")&&!n.startsWith("url("));function BV(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function zV(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=aT(o,t),m=aT(u,t);return!c||!m?!1:BV(n)||(i==="spring"||$x(i))&&r}function xp(n){n.duration=0,n.type="keyframes"}const FV=new Set(["opacity","clipPath","filter","transform"]),qV=Rg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HV(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return qV()&&i&&FV.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const GV=40;class YV extends kg{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...b}){var L;super(),this.stop=()=>{var U,B;this._animation&&(this._animation.stop(),(U=this.stopTimeline)==null||U.call(this)),(B=this.keyframeResolver)==null||B.cancel()},this.createdAt=vn.now();const x={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...b},C=(v==null?void 0:v.KeyframeResolver)||Bg;this.keyframeResolver=new C(m,(U,B,G)=>this.onKeyframesResolved(U,B,x,!G),p,g,v),(L=this.keyframeResolver)==null||L.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=vn.now(),zV(t,u,c,m)||((ps.instantAnimations||!p)&&(v==null||v(Lg(t,r,i))),t[0]=t[t.length-1],xp(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},C=!g&&HV(x)?new UV({...x,element:x.motionValue.owner.current}):new Ug(x);C.finished.then(()=>this.notifyFinished()).catch(_n),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),NV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const KV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QV(n){const t=KV.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function Wx(n,t,i=1){const[r,o]=QV(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return yx(c)?parseFloat(c):c}return Mg(o)?Wx(o,t,i+1):o}function zg(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const Jx=new Set(["width","height","top","left","right","bottom",...Co]),XV={test:n=>n==="auto",parse:n=>n},tA=n=>t=>t.test(n),eA=[Ro,mt,zi,$s,qD,FD,XV],oT=n=>eA.find(tA(n));function $V(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||_x(n):!0}const ZV=new Set(["brightness","contrast","saturate","opacity"]);function WV(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Ig)||[];if(!r)return n;const o=i.replace(r,"");let u=ZV.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const JV=/\b([a-z-]*)\(.*?\)/gu,Ap={...fr,getAnimatableNone:n=>{const t=n.match(JV);return t?t.map(WV).join(" "):n}},lT={...Ro,transform:Math.round},tM={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:rh,scaleX:rh,scaleY:rh,scaleZ:rh,skew:$s,skewX:$s,skewY:$s,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:lu,originX:Xb,originY:Xb,originZ:mt},Fg={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,backgroundPositionX:mt,backgroundPositionY:mt,...tM,zIndex:lT,fillOpacity:lu,strokeOpacity:lu,numOctaves:lT},eM={...Fg,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:Ap,WebkitFilter:Ap},nA=n=>eM[n];function iA(n,t){let i=nA(n);return i!==Ap&&(i=fr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const nM=new Set(["auto","none","0"]);function iM(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!nM.has(u)&&uu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=iA(i,o)}class sM extends Bg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Mg(g))){const v=Wx(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Jx.has(r)||t.length!==2)return;const[o,u]=t,c=oT(o),m=oT(u);if(c!==m)if(iT(c)&&iT(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ea[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||$V(t[o]))&&r.push(o);r.length&&iM(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ea[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function sA(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const o=document.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const rA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function aA(n){return vx(n)&&"offsetHeight"in n}const uT=30,rM=n=>!isNaN(parseFloat(n));class aM{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=vn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Cg);const r=this.events[t].add(i);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,uT);return Ng(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oi(n,t){return new aM(n,t)}const{schedule:qg}=Dx(queueMicrotask,!1),ai={x:!1,y:!1};function oA(){return ai.x||ai.y}function oM(n){return n==="x"||n==="y"?ai[n]?null:(ai[n]=!0,()=>{ai[n]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function lA(n,t){const i=sA(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function cT(n){return!(n.pointerType==="touch"||oA())}function lM(n,t,i={}){const[r,o,u]=lA(n,i),c=m=>{if(!cT(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=b=>{cT(b)&&(g(b),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const uA=(n,t)=>t?n===t?!0:uA(n,t.parentElement):!1,Hg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cM(n){return uM.has(n.tagName)||n.tabIndex!==-1}const ph=new WeakSet;function hT(n){return t=>{t.key==="Enter"&&n(t)}}function Vm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=hT(()=>{if(ph.has(i))return;Vm(i,"down");const o=hT(()=>{Vm(i,"up")}),u=()=>Vm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function fT(n){return Hg(n)&&!oA()}function fM(n,t,i={}){const[r,o,u]=lA(n,i),c=m=>{const p=m.currentTarget;if(!fT(m))return;ph.add(p);const g=t(p,m),v=(C,L)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),ph.has(p)&&ph.delete(p),fT(C)&&typeof g=="function"&&g(C,{success:L})},b=C=>{v(C,p===window||p===document||i.useGlobalTarget||uA(p,C.target))},x=C=>{v(C,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",x,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),aA(m)&&(m.addEventListener("focus",g=>hM(g,o)),!cM(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Gg(n){return vx(n)&&"ownerSVGElement"in n}const gh=new WeakMap;let Zs;const cA=(n,t,i)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:Gg(r)&&"getBBox"in r?r.getBBox()[t]:r[i],dM=cA("inline","width","offsetWidth"),mM=cA("block","height","offsetHeight");function pM({target:n,borderBoxSize:t}){var i;(i=gh.get(n))==null||i.forEach(r=>{r(n,{get width(){return dM(n,t)},get height(){return mM(n,t)}})})}function gM(n){n.forEach(pM)}function yM(){typeof ResizeObserver>"u"||(Zs=new ResizeObserver(gM))}function vM(n,t){Zs||yM();const i=sA(n);return i.forEach(r=>{let o=gh.get(r);o||(o=new Set,gh.set(r,o)),o.add(t),Zs==null||Zs.observe(r)}),()=>{i.forEach(r=>{const o=gh.get(r);o==null||o.delete(t),o!=null&&o.size||Zs==null||Zs.unobserve(r)})}}const yh=new Set;let ro;function _M(){ro=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};yh.forEach(t=>t(n))},window.addEventListener("resize",ro)}function bM(n){return yh.add(n),ro||_M(),()=>{yh.delete(n),!yh.size&&typeof ro=="function"&&(window.removeEventListener("resize",ro),ro=void 0)}}function TM(n,t){return typeof n=="function"?bM(n):vM(n,t)}function hA(n,t){let i;const r=()=>{const{currentTime:o}=t,c=(o===null?0:o.value)/100;i!==c&&n(c),i=c};return ee.preUpdate(r,!0),()=>Gi(r)}function EM(n){return Gg(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),xM=[...eA,De,fr],AM=n=>xM.find(tA(n)),fA=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function SM(n=!0){const t=ot.useContext(Ag);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const dA=ot.createContext({strict:!1}),dT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},To={};for(const n in dT)To[n]={isEnabled:t=>dT[n].some(i=>!!t[i])};function wM(n){for(const t in n)To[t]={...To[t],...n[t]}}const RM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||RM.has(n)}let mA=n=>!Bh(n);function CM(n){typeof n=="function"&&(mA=t=>t.startsWith("on")?!Bh(t):n(t))}try{CM(require("@emotion/is-prop-valid").default)}catch{}function NM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(mA(o)||i===!0&&Bh(o)||!t&&!Bh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const uf=ot.createContext({});function cf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function cu(n){return typeof n=="string"||Array.isArray(n)}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kg=["initial",...Yg];function hf(n){return cf(n.animate)||Kg.some(t=>cu(n[t]))}function pA(n){return!!(hf(n)||n.variants)}function DM(n,t){if(hf(n)){const{initial:i,animate:r}=n;return{initial:i===!1||cu(i)?i:void 0,animate:cu(r)?r:void 0}}return n.inherit!==!1?t:{}}function VM(n){const{initial:t,animate:i}=DM(n,ot.useContext(uf));return ot.useMemo(()=>({initial:t,animate:i}),[mT(t),mT(i)])}function mT(n){return Array.isArray(n)?n.join(" "):n}function pT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Pl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const i=pT(n,t.target.x),r=pT(n,t.target.y);return`${i}% ${r}%`}},MM={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=fr.parse(n);if(o.length>5)return r;const u=fr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Sp={borderRadius:{...Pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pl,borderTopRightRadius:Pl,borderBottomLeftRadius:Pl,borderBottomRightRadius:Pl,boxShadow:MM};function gA(n,{layout:t,layoutId:i}){return No.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Sp[n]||n==="opacity")}const IM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OM=Co.length;function jM(n,t,i){let r="",o=!0;for(let u=0;u<OM;u++){const c=Co[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=rA(m,Fg[c]);if(!p){o=!1;const v=IM[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Qg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(No.has(p)){c=!0;continue}else if(Mx(p)){o[p]=g;continue}else{const v=rA(g,Fg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=jM(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(n,t,i){for(const r in t)!sn(t[r])&&!gA(r,i)&&(n[r]=t[r])}function PM({transformTemplate:n},t){return ot.useMemo(()=>{const i=Xg();return Qg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function LM(n,t){const i=n.style||{},r={};return yA(r,i,n),Object.assign(r,PM(n,t)),r}function kM(n,t){const i={},r=LM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const UM={offset:"stroke-dashoffset",array:"stroke-dasharray"},BM={offset:"strokeDashoffset",array:"strokeDasharray"};function zM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?UM:BM;n[u.offset]=mt.transform(-r);const c=mt.transform(t),m=mt.transform(i);n[u.array]=`${c} ${m}`}function vA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Qg(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:x}=n;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&zM(b,o,u,c,!1)}const _A=()=>({...Xg(),attrs:{}}),bA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function FM(n,t,i,r){const o=ot.useMemo(()=>{const u=_A();return vA(u,t,bA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};yA(u,n.style,n),o.style={...u,...o.style}}return o}const qM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $g(n){return typeof n!="string"||n.includes("-")?!1:!!(qM.indexOf(n)>-1||/[A-Z]/u.test(n))}function HM(n,t,i,{latestValues:r},o,u=!1,c){const p=(c??$g(n)?FM:kM)(t,r,o,n),g=NM(t,typeof n=="string",u),v=n!==ot.Fragment?{...g,...p,ref:i}:{},{children:b}=t,x=ot.useMemo(()=>sn(b)?b.get():b,[b]);return ot.createElement(n,{...v,children:x})}function gT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Zg(n,t,i,r){if(typeof t=="function"){const[o,u]=gT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=gT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function vh(n){return sn(n)?n.get():n}function GM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:YM(i,r,o,n),renderState:t()}}function YM(n,t,i,r){const o={},u=r(n,{});for(const x in u)o[x]=vh(u[x]);let{initial:c,animate:m}=n;const p=hf(n),g=pA(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?m:c;if(b&&typeof b!="boolean"&&!cf(b)){const x=Array.isArray(b)?b:[b];for(let C=0;C<x.length;C++){const L=Zg(n,x[C]);if(L){const{transitionEnd:U,transition:B,...G}=L;for(const J in G){let F=G[J];if(Array.isArray(F)){const rt=v?F.length-1:0;F=F[rt]}F!==null&&(o[J]=F)}for(const J in U)o[J]=U[J]}}}return o}const TA=n=>(t,i)=>{const r=ot.useContext(uf),o=ot.useContext(Ag),u=()=>GM(n,t,r,o);return i?u():px(u)};function Wg(n,t,i){var u;const{style:r}=n,o={};for(const c in r)(sn(r[c])||t.style&&sn(t.style[c])||gA(c,n)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const KM=TA({scrapeMotionValuesFromProps:Wg,createRenderState:Xg});function EA(n,t,i){const r=Wg(n,t,i);for(const o in n)if(sn(n[o])||sn(t[o])){const u=Co.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const QM=TA({scrapeMotionValuesFromProps:EA,createRenderState:_A}),XM=Symbol.for("motionComponentSymbol");function ao(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $M(n,t,i){return ot.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ao(i)&&(i.current=r))},[t])}const Jg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZM="framerAppearId",xA="data-"+Jg(ZM),AA=ot.createContext({});function WM(n,t,i,r,o,u){var B,G;const{visualElement:c}=ot.useContext(uf),m=ot.useContext(dA),p=ot.useContext(Ag),g=ot.useContext(fA).reducedMotion,v=ot.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(n,{visualState:t,parent:c,props:i,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const b=v.current,x=ot.useContext(AA);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&JM(v.current,i,o,x);const C=ot.useRef(!1);ot.useInsertionEffect(()=>{b&&C.current&&b.update(i,p)});const L=i[xA],U=ot.useRef(!!L&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,L))&&((G=window.MotionHasOptimisedAnimation)==null?void 0:G.call(window,L)));return gx(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),U.current&&b.animationState&&b.animationState.animateChanges())}),ot.useEffect(()=>{b&&(!U.current&&b.animationState&&b.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{var J;(J=window.MotionHandoffMarkAsComplete)==null||J.call(window,L)}),U.current=!1),b.enteringChildren=void 0)}),b}function JM(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:SA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&ao(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function SA(n){if(n)return n.options.allowProjection!==!1?n.projection:SA(n.parent)}function Mm(n,{forwardMotionProps:t=!1,type:i}={},r,o){r&&wM(r);const u=i?i==="svg":$g(n),c=u?QM:KM;function m(g,v){let b;const x={...ot.useContext(fA),...g,layoutId:tI(g)},{isStatic:C}=x,L=VM(g),U=c(g,C);if(!C&&xg){eI();const B=nI(x);b=B.MeasureLayout,L.visualElement=WM(n,U,x,o,B.ProjectionNode,u)}return E.jsxs(uf.Provider,{value:L,children:[b&&L.visualElement?E.jsx(b,{visualElement:L.visualElement,...x}):null,HM(n,g,$M(U,L.visualElement,v),U,C,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=ot.forwardRef(m);return p[XM]=n,p}function tI({layoutId:n}){const t=ot.useContext(mx).id;return t&&n!==void 0?t+"-"+n:n}function eI(n,t){ot.useContext(dA).strict}function nI(n){const{drag:t,layout:i}=To;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function iI(n,t){if(typeof Proxy>"u")return Mm;const i=new Map,r=(u,c)=>Mm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Mm(c,void 0,n,t)),i.get(c))})}function wA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function sI({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function rI(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Im(n){return n===void 0||n===1}function wp({scale:n,scaleX:t,scaleY:i}){return!Im(n)||!Im(t)||!Im(i)}function Xr(n){return wp(n)||RA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function RA(n){return yT(n.x)||yT(n.y)}function yT(n){return n&&n!=="0%"}function zh(n,t,i){const r=n-i,o=t*r;return i+o}function vT(n,t,i,r,o){return o!==void 0&&(n=zh(n,o,r)),zh(n,i,r)+t}function Rp(n,t=0,i=1,r,o){n.min=vT(n.min,t,i,r,o),n.max=vT(n.max,t,i,r,o)}function CA(n,{x:t,y:i}){Rp(n.x,t.translate,t.scale,t.originPoint),Rp(n.y,i.translate,i.scale,i.originPoint)}const _T=.999999999999,bT=1.0000000000001;function aI(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&lo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,CA(n,c)),r&&Xr(u.latestValues)&&lo(n,u.latestValues))}t.x<bT&&t.x>_T&&(t.x=1),t.y<bT&&t.y>_T&&(t.y=1)}function oo(n,t){n.min=n.min+t,n.max=n.max+t}function TT(n,t,i,r,o=.5){const u=ce(n.min,n.max,o);Rp(n,t,i,u,r)}function lo(n,t){TT(n.x,t.x,t.scaleX,t.scale,t.originX),TT(n.y,t.y,t.scaleY,t.scale,t.originY)}function NA(n,t){return wA(rI(n.getBoundingClientRect(),t))}function oI(n,t,i){const r=NA(n,i),{scroll:o}=t;return o&&(oo(r.x,o.offset.x),oo(r.y,o.offset.y)),r}const ET=()=>({translate:0,scale:1,origin:0,originPoint:0}),uo=()=>({x:ET(),y:ET()}),xT=()=>({min:0,max:0}),Le=()=>({x:xT(),y:xT()}),Cp={current:null},DA={current:!1};function lI(){if(DA.current=!0,!!xg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cp.current=n.matches;n.addEventListener("change",t),t()}else Cp.current=!1}const uI=new WeakMap;function cI(n,t,i){for(const r in t){const o=t[r],u=i[r];if(sn(o))n.addValue(r,o);else if(sn(u))n.addValue(r,Oi(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Oi(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const AT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hI{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=vn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ee.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=hf(i),this.isVariantNode=pA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in b){const C=b[x];p[x]!==void 0&&sn(C)&&C.set(p[x])}}mount(t){var i;this.current=t,uI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),DA.current||lI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cp.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=No.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in To){const i=To[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<AT.length;r++){const o=AT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=cI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Oi(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(yx(r)||_x(r))?r=parseFloat(r):!AM(r)&&fr.test(i)&&(r=iA(t,i)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=Zg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Cg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){qg.render(this.render)}}class VA extends hI{constructor(){super(...arguments),this.KeyframeResolver=sM}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function MA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o==null||o.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function fI(n){return window.getComputedStyle(n)}class dI extends VA{constructor(){super(...arguments),this.type="html",this.renderInstance=MA}readValueFromInstance(t,i){var r;if(No.has(i))return(r=this.projection)!=null&&r.isProjecting?vp(i):AV(t,i);{const o=fI(t),u=(Mx(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return NA(t,i)}build(t,i,r){Qg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Wg(t,i,r)}}const IA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mI(n,t,i,r){MA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(IA.has(o)?o:Jg(o),t.attrs[o])}class pI extends VA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(No.has(i)){const r=nA(i);return r&&r.default||0}return i=IA.has(i)?i:Jg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return EA(t,i,r)}build(t,i,r){vA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){mI(t,i,r,o)}mount(t){this.isSVGTag=bA(t.tagName),super.mount(t)}}const gI=(n,t)=>t.isSVG??$g(n)?new pI(t):new dI(t,{allowProjection:n!==ot.Fragment});function ho(n,t,i){const r=n.getProps();return Zg(r,t,i!==void 0?i:r.custom,n)}const Np=n=>Array.isArray(n);function yI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Oi(i))}function vI(n){return Np(n)?n[n.length-1]||0:n}function _I(n,t){const i=ho(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=vI(u[c]);yI(n,c,m)}}function bI(n){return!!(sn(n)&&n.add)}function Dp(n,t){const i=n.getValue("willChange");if(bI(i))return i.add(t);if(!i&&ps.WillChange){const r=new ps.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function OA(n){return n.props[xA]}const TI=n=>n!==null;function EI(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(TI),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const xI={type:"spring",stiffness:500,damping:25,restSpeed:10},AI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),SI={type:"keyframes",duration:.8},wI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RI=(n,{keyframes:t})=>t.length>2?SI:No.has(n)?n.startsWith("scale")?AI(t[1]):xI:wI;function CI({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const ty=(n,t,i,r={},o,u)=>c=>{const m=zg(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Bi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};CI(m)||Object.assign(v,RI(n,v)),v.duration&&(v.duration=Bi(v.duration)),v.repeatDelay&&(v.repeatDelay=Bi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(xp(v),v.delay===0&&(b=!0)),(ps.instantAnimations||ps.skipAnimations)&&(b=!0,xp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,b&&!u&&t.get()!==void 0){const x=EI(v.keyframes,m);if(x!==void 0){ee.update(()=>{v.onUpdate(x),v.onComplete()});return}}return m.isSync?new Ug(v):new YV(v)};function NI({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function jA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const b=n.getValue(v,n.latestValues[v]??null),x=m[v];if(x===void 0||g&&NI(g,v))continue;const C={delay:i,...zg(u||{},v)},L=b.get();if(L!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===L&&!C.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const G=OA(n);if(G){const J=window.MotionHandoffAnimation(G,v,ee);J!==null&&(C.startTime=J,U=!0)}}Dp(n,v),b.start(ty(v,b,x,n.shouldReduceMotion&&Jx.has(v)?{type:!1}:C,n,U));const B=b.animation;B&&p.push(B)}return c&&Promise.all(p).then(()=>{ee.update(()=>{c&&_I(n,c)})}),p}function PA(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}function Vp(n,t,i={}){var p;const r=ho(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(jA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=o;return DI(n,t,g,v,b,x,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,v]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(i.delay)])}function DI(n,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Vp(p,t,{...c,delay:i+(typeof r=="function"?0:r)+PA(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function VI(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Vp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Vp(n,t,i);else{const o=typeof t=="function"?ho(n,t,i.custom):t;r=Promise.all(jA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function LA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const MI=Kg.length;function kA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?kA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<MI;i++){const r=Kg[i],o=n.props[r];(cu(o)||o===!1)&&(t[r]=o)}return t}const II=[...Yg].reverse(),OI=Yg.length;function jI(n){return t=>Promise.all(t.map(({animation:i,options:r})=>VI(n,i,r)))}function PI(n){let t=jI(n),i=ST(),r=!0;const o=p=>(g,v)=>{var x;const b=ho(n,v,p==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(b){const{transition:C,transitionEnd:L,...U}=b;g={...g,...U,...L}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=kA(n.parent)||{},b=[],x=new Set;let C={},L=1/0;for(let B=0;B<OI;B++){const G=II[B],J=i[G],F=g[G]!==void 0?g[G]:v[G],rt=cu(F),at=G===p?J.isActive:null;at===!1&&(L=B);let it=F===v[G]&&F!==g[G]&&rt;if(it&&r&&n.manuallyAnimateOnMount&&(it=!1),J.protectedKeys={...C},!J.isActive&&at===null||!F&&!J.prevProp||cf(F)||typeof F=="boolean")continue;const R=LI(J.prevProp,F);let S=R||G===p&&J.isActive&&!it&&rt||B>L&&rt,N=!1;const I=Array.isArray(F)?F:[F];let O=I.reduce(o(G),{});at===!1&&(O={});const{prevResolvedValues:V={}}=J,D={...V,...O},xt=st=>{S=!0,x.has(st)&&(N=!0,x.delete(st)),J.needsAnimating[st]=!0;const ct=n.getValue(st);ct&&(ct.liveStyle=!1)};for(const st in D){const ct=O[st],Tt=V[st];if(C.hasOwnProperty(st))continue;let It=!1;Np(ct)&&Np(Tt)?It=!LA(ct,Tt):It=ct!==Tt,It?ct!=null?xt(st):x.add(st):ct!==void 0&&x.has(st)?xt(st):J.protectedKeys[st]=!0}J.prevProp=F,J.prevResolvedValues=O,J.isActive&&(C={...C,...O}),r&&n.blockInitialAnimation&&(S=!1);const Yt=it&&R;S&&(!Yt||N)&&b.push(...I.map(st=>{const ct={type:G};if(typeof st=="string"&&r&&!Yt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Tt}=n,It=ho(Tt,st);if(Tt.enteringChildren&&It){const{delayChildren:P}=It.transition||{};ct.delay=PA(Tt.enteringChildren,n,P)}}return{animation:st,options:ct}}))}if(x.size){const B={};if(typeof g.initial!="boolean"){const G=ho(n,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(B.transition=G.transition)}x.forEach(G=>{const J=n.getBaseTarget(G),F=n.getValue(G);F&&(F.liveStyle=!0),B[G]=J??null}),b.push({animation:B})}let U=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(b):Promise.resolve()}function m(p,g){var b;if(i[p].isActive===g)return Promise.resolve();(b=n.variantChildren)==null||b.forEach(x=>{var C;return(C=x.animationState)==null?void 0:C.setActive(p,g)}),i[p].isActive=g;const v=c(p);for(const x in i)i[x].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=ST()}}}function LI(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!LA(t,n):!1}function Kr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ST(){return{animate:Kr(!0),whileInView:Kr(),whileHover:Kr(),whileTap:Kr(),whileDrag:Kr(),whileFocus:Kr(),exit:Kr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kI extends pr{constructor(t){super(t),t.animationState||(t.animationState=PI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let UI=0;class BI extends pr{constructor(){super(...arguments),this.id=UI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zI={animation:{Feature:kI},exit:{Feature:BI}};function hu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Eu(n){return{point:{x:n.pageX,y:n.pageY}}}const FI=n=>t=>Hg(t)&&n(t,Eu(t));function Zl(n,t,i,r){return hu(n,t,FI(i),r)}const UA=1e-4,qI=1-UA,HI=1+UA,BA=.01,GI=0-BA,YI=0+BA;function ln(n){return n.max-n.min}function KI(n,t,i){return Math.abs(n-t)<=i}function wT(n,t,i,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=ln(i)/ln(t),n.translate=ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=qI&&n.scale<=HI||isNaN(n.scale))&&(n.scale=1),(n.translate>=GI&&n.translate<=YI||isNaN(n.translate))&&(n.translate=0)}function Wl(n,t,i,r){wT(n.x,t.x,i.x,r?r.originX:void 0),wT(n.y,t.y,i.y,r?r.originY:void 0)}function RT(n,t,i){n.min=i.min+t.min,n.max=n.min+ln(t)}function QI(n,t,i){RT(n.x,t.x,i.x),RT(n.y,t.y,i.y)}function CT(n,t,i){n.min=t.min-i.min,n.max=n.min+ln(t)}function Fh(n,t,i){CT(n.x,t.x,i.x),CT(n.y,t.y,i.y)}function qn(n){return[n("x"),n("y")]}const zA=({current:n})=>n?n.ownerDocument.defaultView:null,NT=(n,t)=>Math.abs(n-t);function XI(n,t){const i=NT(n.x,t.x),r=NT(n.y,t.y);return Math.sqrt(i**2+r**2)}class FA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=jm(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,L=XI(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!L)return;const{point:U}=x,{timestamp:B}=Fe;this.history.push({...U,timestamp:B});const{onStart:G,onMove:J}=this.handlers;C||(G&&G(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Om(C,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:L,onSessionEnd:U,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=jm(x.type==="pointercancel"?this.lastMoveEventInfo:Om(C,this.transformPagePoint),this.history);this.startEvent&&L&&L(x,G),U&&U(x,G)},!Hg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Eu(t),p=Om(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Fe;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,jm(p,this.history)),this.removeListeners=_u(Zl(this.contextWindow,"pointermove",this.handlePointerMove),Zl(this.contextWindow,"pointerup",this.handlePointerUp),Zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function Om(n,t){return t?{point:t(n.point)}:n}function DT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function jm({point:n},t){return{point:n,delta:DT(n,qA(t)),offset:DT(n,$I(t)),velocity:ZI(t,.1)}}function $I(n){return n[0]}function qA(n){return n[n.length-1]}function ZI(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=qA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Bi(t)));)i--;if(!r)return{x:0,y:0};const u=Gn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function WI(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ce(i,n,r.max):Math.min(n,i)),n}function VT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function JI(n,{top:t,left:i,bottom:r,right:o}){return{x:VT(n.x,i,o),y:VT(n.y,t,r)}}function MT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function t3(n,t){return{x:MT(n.x,t.x),y:MT(n.y,t.y)}}function e3(n,t){let i=.5;const r=ln(n),o=ln(t);return o>r?i=bo(t.min,t.max-r,n.min):r>o&&(i=bo(n.min,n.max-o,t.min)),Hi(0,1,i)}function n3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Mp=.35;function i3(n=Mp){return n===!1?n=0:n===!0&&(n=Mp),{x:IT(n,"left","right"),y:IT(n,"top","bottom")}}function IT(n,t,i){return{min:OT(n,t),max:OT(n,i)}}function OT(n,t){return typeof n=="number"?n:n[t]||0}const s3=new WeakMap;class r3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Eu(b).point)},c=(b,x)=>{const{drag:C,dragPropagation:L,onDragStart:U}=this.getProps();if(C&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oM(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(G=>{let J=this.getAxisMotionValue(G).get()||0;if(zi.test(J)){const{projection:F}=this.visualElement;if(F&&F.layout){const rt=F.layout.layoutBox[G];rt&&(J=ln(rt)*(parseFloat(J)/100))}}this.originPoint[G]=J}),U&&ee.postRender(()=>U(b,x)),Dp(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:L,onDirectionLock:U,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:G}=x;if(L&&this.currentDirection===null){this.currentDirection=a3(G),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",x.point,G),this.updateAxis("y",x.point,G),this.visualElement.render(),B&&B(b,x)},p=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>qn(b=>{var x;return this.getAnimationState(b)==="paused"&&((x=this.getAxisMotionValue(b).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new FA(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:zA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ee.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!ah(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=WI(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=JI(r.layoutBox,t):this.constraints=!1,this.elastic=i3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=n3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ao(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=oI(r,o.root,this.visualElement.getTransformPagePoint());let c=t3(o.layout.layoutBox,u);if(i){const m=i(sI(c));this.hasMutatedConstraints=!!m,m&&(c=wA(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=qn(v=>{if(!ah(v,i,this.currentDirection))return;let b=p&&p[v]||{};c&&(b={min:0,max:0});const x=o?200:1e6,C=o?40:1e7,L={type:"inertia",velocity:r?t[v]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Dp(this.visualElement,t),r.start(ty(t,r,0,i,this.visualElement,!1))}stopAnimation(){qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qn(i=>{const{drag:r}=this.getProps();if(!ah(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i];u.set(t[i]-ce(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ao(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=e3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(c=>{if(!ah(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;s3.set(this.visualElement,this);const t=this.visualElement.current,i=Zl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ee.read(r);const c=hu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(qn(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=p[v].translate,b.set(b.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Mp,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function ah(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function a3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class o3 extends pr{constructor(t){super(t),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new r3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const jT=n=>(t,i)=>{n&&ee.postRender(()=>n(t,i))};class l3 extends pr{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(t){this.session=new FA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:jT(t),onStart:jT(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ee.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Zl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pm=!1;class u3 extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Pm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),_h.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Pm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ee.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Pm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HA(n){const[t,i]=SM(),r=ot.useContext(mx);return E.jsx(u3,{...n,layoutGroup:r,switchLayoutGroup:ot.useContext(AA),isPresent:t,safeToRemove:i})}function c3(n,t,i){const r=sn(n)?n:Oi(n);return r.start(ty("",r,t,i)),r.animation}const h3=(n,t)=>n.depth-t.depth;class f3{constructor(){this.children=[],this.isDirty=!1}add(t){Sg(this.children,t),this.isDirty=!0}remove(t){wg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(t)}}function d3(n,t){const i=vn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Gi(r),n(u-t))};return ee.setup(r,!0),()=>Gi(r)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=GA.length,PT=n=>typeof n=="string"?parseFloat(n):n,LT=n=>typeof n=="number"||mt.test(n);function p3(n,t,i,r,o,u){o?(n.opacity=ce(0,i.opacity??1,g3(r)),n.opacityExit=ce(t.opacity??1,0,y3(r))):u&&(n.opacity=ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<m3;c++){const m=`border${GA[c]}Radius`;let p=kT(t,m),g=kT(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||LT(p)===LT(g)?(n[m]=Math.max(ce(PT(p),PT(g),r),0),(zi.test(g)||zi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=ce(t.rotate||0,i.rotate||0,r))}function kT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const g3=YA(0,.5,wx),y3=YA(.5,.95,_n);function YA(n,t,i){return r=>r<n?0:r>t?1:i(bo(n,t,r))}function UT(n,t){n.min=t.min,n.max=t.max}function ri(n,t){UT(n.x,t.x),UT(n.y,t.y)}function BT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function zT(n,t,i,r,o){return n-=t,n=zh(n,1/i,r),o!==void 0&&(n=zh(n,1/o,r)),n}function v3(n,t=0,i=1,r=.5,o,u=n,c=n){if(zi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);n===u&&(m-=t),n.min=zT(n.min,t,i,m,o),n.max=zT(n.max,t,i,m,o)}function FT(n,t,[i,r,o],u,c){v3(n,t[i],t[r],t[o],t.scale,u,c)}const _3=["x","scaleX","originX"],b3=["y","scaleY","originY"];function qT(n,t,i,r){FT(n.x,t,_3,i?i.x:void 0,r?r.x:void 0),FT(n.y,t,b3,i?i.y:void 0,r?r.y:void 0)}function HT(n){return n.translate===0&&n.scale===1}function KA(n){return HT(n.x)&&HT(n.y)}function GT(n,t){return n.min===t.min&&n.max===t.max}function T3(n,t){return GT(n.x,t.x)&&GT(n.y,t.y)}function YT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function QA(n,t){return YT(n.x,t.x)&&YT(n.y,t.y)}function KT(n){return ln(n.x)/ln(n.y)}function QT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class E3{constructor(){this.members=[]}add(t){Sg(this.members,t),t.scheduleRender()}remove(t){if(wg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x3(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:x,skewX:C,skewY:L}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),x&&(r+=`rotateY(${x}deg) `),C&&(r+=`skewX(${C}deg) `),L&&(r+=`skewY(${L}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Lm=["","X","Y","Z"],A3=1e3;let S3=0;function km(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function XA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=OA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ee,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&XA(r)}function $A({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t==null?void 0:t()){this.id=S3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C3),this.nodes.forEach(M3),this.nodes.forEach(I3),this.nodes.forEach(N3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new f3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cg),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Gg(c)&&!EM(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,b=0;const x=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{b=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,v&&v(),v=d3(x,250),_h.hasAnimatedSinceResize&&(_h.hasAnimatedSinceResize=!1,this.nodes.forEach(ZT)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||k3,{onLayoutAnimationStart:U,onLayoutAnimationComplete:B}=g.getProps(),G=!this.targetLayout||!QA(this.targetLayout,C),J=!b&&x;if(this.options.layoutRoot||this.resumeFrom||J||b&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...zg(L,"layout"),onPlay:U,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,J)}else b||ZT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($T);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V3),this.nodes.forEach(w3),this.nodes.forEach(R3)):this.nodes.forEach($T),this.clearAllSnapshots();const m=vn.now();Fe.delta=Hi(0,1e3/60,m-Fe.timestamp),Fe.timestamp=m,Fe.isProcessing=!0,wm.update.process(Fe),wm.preRender.process(Fe),wm.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D3),this.sharedNodes.forEach(j3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!KA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),U3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(B3))){const{scroll:v}=this.root;v&&(oo(m.x,v.offset.x),oo(m.y,v.offset.y))}return m}removeElementScroll(c){var p;const m=Le();if(ri(m,c),(p=this.scroll)!=null&&p.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&ri(m,c),oo(m.x,b.offset.x),oo(m.y,b.offset.y))}return m}applyTransform(c,m=!1){const p=Le();ri(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&lo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Xr(v.latestValues)&&lo(p,v.latestValues)}return Xr(this.latestValues)&&lo(p,this.latestValues),p}removeTransform(c){const m=Le();ri(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Xr(g.latestValues))continue;wp(g.latestValues)&&g.updateSnapshot();const v=Le(),b=g.measurePageBox();ri(v,b),qT(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Xr(this.latestValues)&&qT(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var C;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=Fe.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wp(this.parent.latestValues)||RA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Fh(this.relativeTargetOrigin,m,p),ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var L;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ri(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;aI(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BT(this.prevProjectionDelta.x,this.projectionDelta.x),BT(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!QT(this.projectionDelta.x,this.prevProjectionDelta.x)||!QT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uo(),this.projectionDelta=uo(),this.projectionDeltaWithTransform=uo()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},b=uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=Le(),C=p?p.source:void 0,L=this.layout?this.layout.source:void 0,U=C!==L,B=this.getStack(),G=!B||B.members.length<=1,J=!!(U&&!G&&this.options.crossfade===!0&&!this.path.some(L3));this.animationProgress=0;let F;this.mixTargetDelta=rt=>{const at=rt/1e3;WT(b.x,c.x,at),WT(b.y,c.y,at),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P3(this.relativeTarget,this.relativeTargetOrigin,x,at),F&&T3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Le()),ri(F,this.relativeTarget)),U&&(this.animationValues=v,p3(v,g,this.latestValues,at,J,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,p,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{_h.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oi(0)),this.currentAnimation=c3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&ZA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const b=ln(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+b;const x=ln(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+x}ri(m,p),lo(m,v),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new E3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&km("z",c,g,this.animationValues);for(let v=0;v<Lm.length;v++)km(`rotate${Lm[v]}`,c,g,this.animationValues),km(`skew${Lm[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=vh(m==null?void 0:m.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=vh(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=x3(this.projectionDeltaWithTransform,this.treeScale,v);p&&(b=p(v,b)),c.transform=b;const{x,y:C}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Sp){if(v[L]===void 0)continue;const{correct:U,applyTo:B,isCSSVariable:G}=Sp[L],J=b==="none"?v[L]:U(v[L],g);if(B){const F=B.length;for(let rt=0;rt<F;rt++)c[B[rt]]=J}else G?this.options.visualElement.renderState.vars[L]=J:c[L]=J}this.options.layoutId&&(c.pointerEvents=g===this?vh(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(XT),this.root.sharedNodes.clear()}}}function w3(n){n.updateLayout()}function R3(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?qn(b=>{const x=c?t.measuredBox[b]:t.layoutBox[b],C=ln(x);x.min=r[b].min,x.max=x.min+C}):ZA(u,t.layoutBox,r)&&qn(b=>{const x=c?t.measuredBox[b]:t.layoutBox[b],C=ln(r[b]);x.max=x.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+C)});const m=uo();Wl(m,r,t.layoutBox);const p=uo();c?Wl(p,n.applyTransform(o,!0),t.measuredBox):Wl(p,r,t.layoutBox);const g=!KA(m);let v=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:C}=b;if(x&&C){const L=Le();Fh(L,t.layoutBox,x.layoutBox);const U=Le();Fh(U,r,C.layoutBox),QA(L,U)||(v=!0),b.options.layoutRoot&&(n.relativeTarget=U,n.relativeTargetOrigin=L,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function C3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function N3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function D3(n){n.clearSnapshot()}function XT(n){n.clearMeasurements()}function $T(n){n.isLayoutDirty=!1}function V3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function ZT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function M3(n){n.resolveTargetDelta()}function I3(n){n.calcProjection()}function O3(n){n.resetSkewAndRotation()}function j3(n){n.removeLeadSnapshot()}function WT(n,t,i){n.translate=ce(t.translate,0,i),n.scale=ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function JT(n,t,i,r){n.min=ce(t.min,i.min,r),n.max=ce(t.max,i.max,r)}function P3(n,t,i,r){JT(n.x,t.x,i.x,r),JT(n.y,t.y,i.y,r)}function L3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const k3={duration:.45,ease:[.4,0,.1,1]},t1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),e1=t1("applewebkit/")&&!t1("chrome/")?Math.round:_n;function n1(n){n.min=e1(n.min),n.max=e1(n.max)}function U3(n){n1(n.x),n1(n.y)}function ZA(n,t,i){return n==="position"||n==="preserve-aspect"&&!KI(KT(t),KT(i),.2)}function B3(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const z3=$A({attachResizeListener:(n,t)=>hu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Um={current:void 0},WA=$A({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Um.current){const n=new z3({});n.mount(window),n.setOptions({layoutScroll:!0}),Um.current=n}return Um.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),F3={pan:{Feature:l3},drag:{Feature:o3,ProjectionNode:WA,MeasureLayout:HA}};function i1(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ee.postRender(()=>u(t,Eu(t)))}class q3 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=lM(t,(i,r)=>(i1(this.node,r,"Start"),o=>i1(this.node,o,"End"))))}unmount(){}}class H3 extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s1(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ee.postRender(()=>u(t,Eu(t)))}class G3 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=fM(t,(i,r)=>(s1(this.node,r,"Start"),(o,{success:u})=>s1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ip=new WeakMap,Bm=new WeakMap,Y3=n=>{const t=Ip.get(n.target);t&&t(n)},K3=n=>{n.forEach(Y3)};function Q3({root:n,...t}){const i=n||document;Bm.has(i)||Bm.set(i,{});const r=Bm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(K3,{root:n,...t})),r[o]}function X3(n,t,i){const r=Q3(t);return Ip.set(n,i),r.observe(n),()=>{Ip.delete(n),r.unobserve(n)}}const $3={some:0,all:1};class Z3 extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:$3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=g?v:b;x&&x(p)};return X3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(W3(t,i))&&this.startObserver()}unmount(){}}function W3({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const J3={inView:{Feature:Z3},tap:{Feature:G3},focus:{Feature:H3},hover:{Feature:q3}},t6={layout:{ProjectionNode:WA,MeasureLayout:HA}},e6={...zI,...J3,...F3,...t6},n6=iI(e6,gI),i6=50,r1=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),s6=()=>({time:0,x:r1(),y:r1()}),r6={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function a1(n,t,i,r){const o=i[t],{length:u,position:c}=r6[t],m=o.current,p=i.time;o.current=n[`scroll${c}`],o.scrollLength=n[`scroll${u}`]-n[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=bo(0,o.scrollLength,o.current);const g=r-p;o.velocity=g>i6?0:Ng(o.current-m,g)}function a6(n,t,i){a1(n,"x",t,i),a1(n,"y",t,i),t.time=i}function o6(n,t){const i={x:0,y:0};let r=n;for(;r&&r!==t;)if(aA(r))i.x+=r.offsetLeft,i.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const o=r.getBoundingClientRect();r=r.parentElement;const u=r.getBoundingClientRect();i.x+=o.left-u.left,i.y+=o.top-u.top}else if(r instanceof SVGGraphicsElement){const{x:o,y:u}=r.getBBox();i.x+=o,i.y+=u;let c=null,m=r.parentNode;for(;!c;)m.tagName==="svg"&&(c=m),m=r.parentNode;r=c}else break;return i}const Op={start:0,center:.5,end:1};function o1(n,t,i=0){let r=0;if(n in Op&&(n=Op[n]),typeof n=="string"){const o=parseFloat(n);n.endsWith("px")?r=o:n.endsWith("%")?n=o/100:n.endsWith("vw")?r=o/100*document.documentElement.clientWidth:n.endsWith("vh")?r=o/100*document.documentElement.clientHeight:n=o}return typeof n=="number"&&(r=t*n),i+r}const l6=[0,0];function u6(n,t,i,r){let o=Array.isArray(n)?n:l6,u=0,c=0;return typeof n=="number"?o=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?o=n.split(" "):o=[n,Op[n]?n:"0"]),u=o1(o[0],i,r),c=o1(o[1],t),u-c}const c6={All:[[0,0],[1,1]]},h6={x:0,y:0};function f6(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function d6(n,t,i){const{offset:r=c6.All}=i,{target:o=n,axis:u="y"}=i,c=u==="y"?"height":"width",m=o!==n?o6(o,n):h6,p=o===n?{width:n.scrollWidth,height:n.scrollHeight}:f6(o),g={width:n.clientWidth,height:n.clientHeight};t[u].offset.length=0;let v=!t[u].interpolate;const b=r.length;for(let x=0;x<b;x++){const C=u6(r[x],g[c],p[c],m[u]);!v&&C!==t[u].interpolatorOffsets[x]&&(v=!0),t[u].offset[x]=C}v&&(t[u].interpolate=Fx(t[u].offset,qx(r),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=Hi(0,1,t[u].interpolate(t[u].current))}function m6(n,t=n,i){if(i.x.targetOffset=0,i.y.targetOffset=0,t!==n){let r=t;for(;r&&r!==n;)i.x.targetOffset+=r.offsetLeft,i.y.targetOffset+=r.offsetTop,r=r.offsetParent}i.x.targetLength=t===n?t.scrollWidth:t.clientWidth,i.y.targetLength=t===n?t.scrollHeight:t.clientHeight,i.x.containerLength=n.clientWidth,i.y.containerLength=n.clientHeight}function p6(n,t,i,r={}){return{measure:o=>{m6(n,r.target,i),a6(n,i,o),(r.offset||r.target)&&d6(n,i,r)},notify:()=>t(i)}}const Ll=new WeakMap,l1=new WeakMap,zm=new WeakMap,u1=n=>n===document.scrollingElement?window:n;function JA(n,{container:t=document.scrollingElement,...i}={}){if(!t)return _n;let r=zm.get(t);r||(r=new Set,zm.set(t,r));const o=s6(),u=p6(t,n,o,i);if(r.add(u),!Ll.has(t)){const m=()=>{for(const b of r)b.measure(Fe.timestamp);ee.preUpdate(p)},p=()=>{for(const b of r)b.notify()},g=()=>ee.read(m);Ll.set(t,g);const v=u1(t);window.addEventListener("resize",g,{passive:!0}),t!==document.documentElement&&l1.set(t,TM(t,g)),v.addEventListener("scroll",g,{passive:!0}),g()}const c=Ll.get(t);return ee.read(c,!1,!0),()=>{var g;Gi(c);const m=zm.get(t);if(!m||(m.delete(u),m.size))return;const p=Ll.get(t);Ll.delete(t),p&&(u1(t).removeEventListener("scroll",p),(g=l1.get(t))==null||g(),window.removeEventListener("resize",p))}}const c1=new Map;function g6(n){const t={value:0},i=JA(r=>{t.value=r[n.axis].progress*100},n);return{currentTime:t,cancel:i}}function tS({source:n,container:t,...i}){const{axis:r}=i;n&&(t=n);const o=c1.get(t)??new Map;c1.set(t,o);const u=i.target??"self",c=o.get(u)??{},m=r+(i.offset??[]).join(",");return c[m]||(c[m]=!i.target&&Kx()?new ScrollTimeline({source:t,axis:r}):g6({container:t,...i})),c[m]}function y6(n,t){const i=tS(t);return n.attachTimeline({timeline:t.target?void 0:i,observe:r=>(r.pause(),hA(o=>{r.time=r.iterationDuration*o},i))})}function v6(n){return n.length===2}function _6(n,t){return v6(n)?JA(i=>{n(i[t.axis].progress,i)},t):hA(n,tS(t))}function b6(n,{axis:t="y",container:i=document.scrollingElement,...r}={}){if(!i)return _n;const o={axis:t,container:i,...r};return typeof n=="function"?_6(n,o):y6(n,o)}const T6=()=>({scrollX:Oi(0),scrollY:Oi(0),scrollXProgress:Oi(0),scrollYProgress:Oi(0)}),oh=n=>n?!n.current:!1;function E6({container:n,target:t,...i}={}){const r=px(T6),o=ot.useRef(null),u=ot.useRef(!1),c=ot.useCallback(()=>(o.current=b6((m,{x:p,y:g})=>{r.scrollX.set(p.current),r.scrollXProgress.set(p.progress),r.scrollY.set(g.current),r.scrollYProgress.set(g.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var m;(m=o.current)==null||m.call(o)}),[n,t,JSON.stringify(i.offset)]);return gx(()=>{if(u.current=!1,oh(n)||oh(t)){u.current=!0;return}else return c()},[c]),ot.useEffect(()=>{if(u.current)return ou(!oh(n)),ou(!oh(t)),c()},[c]),r}const x6=()=>{const{scrollYProgress:n}=E6();return E.jsx(n6.div,{style:{scaleX:n,position:"fixed",top:0,left:0,right:0,height:4,originX:0,background:"linear-gradient(90deg, #f49221, #ff6b35)",zIndex:9999}})},A6=()=>{var at;const[n,t]=ot.useState(localStorage.getItem("trip_user_name")),[i,r]=ot.useState(null),[o,u]=ot.useState(null),[c,m]=ot.useState([]),[p,g]=ot.useState([]),[v,b]=ot.useState(!1),[x,C]=ot.useState(!1),[L,U]=ot.useState(null),[B,G]=ot.useState(!1),[J,F]=ot.useState(null),rt=ot.useMemo(()=>o?o.participants.map(it=>{let R=0,S=0;return c.forEach(I=>{I.paidBy===it&&(R+=I.amount),I.splitBetween.includes(it)&&(I.splitType==="custom"&&I.customSplits&&I.customSplits[it]?S+=I.customSplits[it]:S+=I.perPersonAmount)}),p.filter(I=>I.isPaid).forEach(I=>{I.from===it&&(R+=I.amount),I.to===it&&(S+=I.amount)}),{name:it,paid:R,owed:S,net:R-S}}):[],[o,c,p]);return ot.useEffect(()=>{const it=localStorage.getItem("current_trip_id");it&&r(it)},[]),ot.useEffect(()=>{if(!i){u(null),m([]),G(!1);return}G(!0),U(null),localStorage.setItem("current_trip_id",i);const it=setTimeout(()=>{G(!1),U("Connection timeout. Please check your internet connection and try again."),r(null),localStorage.removeItem("current_trip_id")},5e3),R=fD(i,I=>{clearTimeout(it),G(!1),I?(u(I),U(null)):(U("Trip not found. Verify the Trip ID or check if it was deleted."),r(null),localStorage.removeItem("current_trip_id"))}),S=dD(i,I=>{m(I)}),N=yD(i,I=>{g(I)});return()=>{clearTimeout(it),R(),S(),N()}},[i]),cD()?n?!i||L?E.jsxs("div",{className:"min-h-screen bg-white pt-10 px-4",children:[L&&E.jsxs("div",{className:"max-w-md mx-auto mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-2xl text-sm font-bold shadow-sm flex items-center gap-3",children:[E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),L]}),E.jsx(_D,{onTripSelected:r})]}):B?E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),E.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Connecting to Firebase..."}),E.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"Clear & Restart"})]}):!o&&i?E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),E.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Loading trip..."})]}):E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-[#1a0a00] to-black pb-20 relative overflow-hidden",children:[E.jsx(x6,{}),E.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),E.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#e58515] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),E.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-gradient-to-r from-[#f49221]/80 to-[#e58515]/80 border-b border-white/10 shadow-2xl shadow-[#f49221]/20",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:"/manas-split/pics/manas.png",alt:"Manas Split Logo",className:"w-10 h-10 rounded-xl shadow-lg hover:scale-110 transition-transform object-cover"}),E.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Manas Split"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>{r(null),localStorage.removeItem("current_trip_id")},className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white rounded-lg text-sm font-medium transition-all border border-white/30 hover:border-white/50 flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Trips"]}),E.jsx("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white font-bold border-2 border-white/40 shadow-lg hover:scale-110 transition-transform cursor-pointer",children:(at=n==null?void 0:n[0])==null?void 0:at.toUpperCase()})]})]})}),E.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:[E.jsxs("div",{className:"mb-8 backdrop-blur-sm bg-white/5 rounded-3xl p-6 border border-white/10",children:[E.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-white via-[#f49221] to-white bg-clip-text text-transparent mb-3",children:"Dashboard"}),E.jsx("p",{className:"text-gray-300 text-sm",children:"An overview of your group's expenses and balances."}),E.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i),C(!0),setTimeout(()=>C(!1),2e3)},className:"mt-3 text-xs text-gray-400 hover:text-[#f49221] transition-colors backdrop-blur-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10 hover:border-[#f49221]/50",children:["Trip: ",o.name,"  ID: ",i.substring(0,12),"... ",x?" Copied":" Copy"]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[E.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Balances"]}),E.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-6 py-3 rounded-xl font-medium text-sm flex items-center gap-2 transition-all shadow-lg shadow-[#f49221]/50 hover:shadow-xl hover:shadow-[#f49221]/60 hover:scale-105",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:rt.map(it=>{var R;return E.jsxs("div",{className:"group relative backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 hover:border-[#f49221]/50 transition-all hover:shadow-2xl hover:shadow-[#f49221]/30 hover:scale-105 duration-300 cursor-pointer",onClick:()=>F(it.name),children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f49221]/10 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[o.memberAvatars&&o.memberAvatars[it.name]?E.jsx("img",{src:((R=rr.find(S=>S.id===o.memberAvatars[it.name]))==null?void 0:R.image)||"",alt:it.name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#f49221]/50"}):E.jsx("div",{className:"w-10 h-10 bg-[#f49221]/20 rounded-full flex items-center justify-center text-[#f49221] font-bold border-2 border-[#f49221]/50",children:it.name[0]}),E.jsx("h4",{className:"text-white font-bold text-lg",children:it.name})]}),E.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-full backdrop-blur-md ${it.net<-.01?"bg-red-500/30 text-red-200 border border-red-400/30":it.net>.01?"bg-[#f49221]/30 text-[#f49221] border border-[#f49221]/30":"bg-gray-500/30 text-gray-300 border border-gray-400/30"}`,children:it.net<-.01?"Owes":it.net>.01?"Gets Back":"Settled"})]}),E.jsxs("div",{className:"text-4xl font-black bg-gradient-to-r from-[#f49221] via-[#ff9d3d] to-[#e58515] bg-clip-text text-transparent mb-3 drop-shadow-lg",children:["",Math.abs(it.net).toFixed(2)]}),E.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[E.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full animate-pulse"}),"Paid: ",E.jsxs("span",{className:"text-[#f49221] font-bold",children:["",it.paid.toFixed(2)]})]})]})]},it.name)})})]}),E.jsx(ED,{balances:rt,tripId:o.id,trackedSettlements:p,participants:o.participants,trip:o}),E.jsxs("div",{className:"mt-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[E.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Recent Expenses"]}),E.jsxs("span",{className:"backdrop-blur-md bg-white/10 border border-white/20 text-gray-300 text-sm px-4 py-2 rounded-full font-medium",children:[c.length," transaction",c.length!==1?"s":""]})]}),c.length===0?E.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border-2 border-dashed border-[#f49221]/30 rounded-3xl p-16 text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#f49221]/20 to-[#e58515]/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-md border border-[#f49221]/30",children:E.jsx("svg",{className:"w-10 h-10 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsx("p",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No expenses yet"}),E.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Get started by adding your first expense."}),E.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-8 py-3 rounded-xl font-semibold inline-flex items-center gap-2 transition-all shadow-xl shadow-[#f49221]/50 hover:shadow-2xl hover:shadow-[#f49221]/60 hover:scale-105",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}):E.jsx(TD,{expenses:c})]})]}),E.jsx("button",{onClick:()=>b(!0),className:"fixed bottom-8 right-8 w-16 h-16 bg-[#f49221] text-white rounded-2xl shadow-2xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-40 shadow-[#f49221]/40 border-4 border-white",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),v&&E.jsx(bD,{tripId:o.id,participants:o.participants,onClose:()=>b(!1)}),J&&o&&E.jsx(xD,{person:J,balances:rt,expenses:c,trip:o,onClose:()=>F(null)})]}):E.jsx(vD,{onJoin:t}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-6 text-center",children:E.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[2rem] shadow-2xl border-2 border-[#f49221]",children:[E.jsx("div",{className:"w-20 h-20 bg-[#f49221] text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsx("h1",{className:"text-2xl font-bold text-black mb-4 font-pt",children:"Configuration Required"}),E.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"The application needs valid Firebase credentials to function. Check your setup."})]})})},eS=document.getElementById("root");if(!eS)throw new Error("Could not find root element to mount to");const S6=q2.createRoot(eS);S6.render(E.jsx(j2.StrictMode,{children:E.jsx(A6,{})}));
